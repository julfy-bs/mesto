(()=>{"use strict";var t={baseUrl:"https://nomoreparties.co/v1/plus-cohort-19",headers:{authorization:"0f9e6763-ca59-4d6a-b788-b6c985602524","Content-Type":"application/json"}},e="loader_active",r="loader__skeleton",n="loader__skeleton_type_text",o="submit",i="keydown",c="mousedown",a="click",u=".profile__name",s=".profile__occupation",l=".profile__avatar",d=".popup",f="popup_active",m='[name="link"]',v="Сохранить",p="Сохранение...",y=".feed__item",b="card__like-button_active",_="card__like-button_liked_true",S=function(t){!function(t){t.classList.remove(f)}(t),function(t){t.removeEventListener(c,h),t.removeEventListener(i,L)}(t)},h=function(t){if(t.target.classList.contains("popup")||t.target.classList.contains("popup__close")){var e=t.target.closest(".popup");S(e)}},L=function(t){if("Escape"===t.key){var e=t.target.closest(".popup");S(e)}},g=function(t){!function(t){t.classList.add(f)}(t),function(t){t.addEventListener(c,h),t.addEventListener(i,L)}(t),setTimeout((function(){return t.focus()}),200)},q=function(t,e,r,n){e.textContent=t?n:r},E=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"запроса",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p;e.preventDefault();var i=e.target.closest(d),c=e.submitter;q(!0,c,n,o),t().then((function(){e.target.reset(),S(i)})).catch((function(t){return console.error("Ошибка ".concat(t.status," ").concat(r," ").concat(t.statusText))})).finally((function(){return q(!1,c,n,o)}))};function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C=function(t){return t.ok?t.json():Promise.reject("Ошибка!".concat(t.statusText," Код ошибки: ").concat(t.status,"."))};function j(e,r){var n="".concat(t.baseUrl,"/").concat(e);return fetch(n,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({headers:t.headers},r)).then(C)}const w={delete:function(){}};var x,P=document.querySelector("#card").content.querySelector(y),T=document.querySelector(".feed__list"),D=document.querySelector(".popup_type_delete"),I=document.querySelector(".popup_type_photo"),M=I.querySelector(".popup__image"),N=I.querySelector(".popup__figcaption"),U=[],J=function(t){t.classList.add(b),t.setAttribute("aria-label",'Убрать отметку "Понравилось"')},H=function(t){t.classList.remove(b),t.setAttribute("aria-label",'Добавить отметку "Понравилось"')},V=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"number"!=typeof r&&console.error("Значение количества лайков карточки должно быть числом"),0===r?(t.classList.remove(_),e.textContent=""):(t.classList.add(_),e.textContent=r)},z=function(t,e){x=0!==t.length&&t.some((function(t){return t._id===e}))},$=function(t,e){var r,n,o=P.cloneNode(!0),i=o.querySelector(".card"),c=i.querySelector(".card__image"),u=i.querySelector(".card__title"),s=i.querySelector(".card__like-number"),l=i.querySelector(".card__like-button"),d=i.querySelector(".card__delete"),f=t.likes.length>0?t.likes.length:0;return U.push(t),z(t.likes,e),r=u,n=t.name,r.textContent=n,function(t,e,r){t.setAttribute("src",r),t.setAttribute("alt",e)}(c,t.name,t.link),V(l,s,f),x?J(l):H(l),l.addEventListener(a,(function(){return function(t,e,r,n,o){var i,c=function(t){return U.find((function(e){return e._id===t}))}(r);z(c.likes,o),t.setAttribute("disabled","disabled"),(x?j("cards/likes/".concat(r),{method:"DELETE"}):(i=r,j("cards/likes/".concat(i),{method:"PUT"}))).then((function(r){z(r.likes,o),c.likes=r.likes,V(t,e,r.likes.length);var n=t.classList.contains(b);!function(t,e){switch(e){case!0:H(t);break;case!1:J(t)}}(t,n)})).catch((function(t){return console.error("Ошибка ".concat(t.status," лайка карточки: ").concat(t.statusText))})).finally((function(){return t.removeAttribute("disabled","disabled")}))}(l,s,t._id,t.likes,e)})),c.addEventListener(a,(function(){return function(t,e){g(I),N.textContent=e.textContent,M.setAttribute("src",t.getAttribute("src")),M.setAttribute("alt",t.getAttribute("alt"))}(c,u)})),t.owner._id===e?d.addEventListener(a,(function(e){return function(t,e){w.delete=function(r){return function(t,e,r){var n=e.closest(y);E((function(){return function(t){return j("cards/".concat(t),{method:"DELETE"})}(r).then((function(){return n.remove()}))}),t,"редактирования информации профиля:","Да","Удаление...")}(r,t,e)},g(D)}(e.target,t._id)})):d.remove(),o},B=function(t){T.prepend(t)},F=document.querySelector(".popup_type_avatar"),G=document.querySelector(l),K=document.forms.avatar,Q=K.querySelector(m),R=document.querySelector(".popup_type_edit"),W=document.querySelector(u),X=document.querySelector(".profile__image"),Y=document.querySelector(s),Z=document.querySelector(".profile__edit"),tt=document.forms.profile,et=tt.querySelector('[name="name"]'),rt=tt.querySelector('[name="occupation"]'),nt=document.querySelector(".popup_type_add"),ot=document.querySelector(".profile__add"),it=document.forms.card,ct=it.querySelector('[name="title"]'),at=it.querySelector(m),ut=function(t){X.setAttribute("src",t)},st=function(t){W.textContent=t},lt=function(t){Y.textContent=t},dt=function(t,e,r){t.some((function(t){return!t.validity.valid}))?(e.classList.add(r),e.setAttribute("disabled","disabled")):(e.classList.remove(r),e.removeAttribute("disabled","disabled"))},ft=document.querySelector(".loader"),mt=document.querySelector(u),vt=document.querySelector(l),pt=document.querySelector(s);function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bt,_t=document.forms.delete,St=localStorage.getItem("userId")||null;ot.addEventListener(a,(function(){g(nt)})),it.addEventListener(o,(function(t){E((function(){var t,e,r;return(t={name:ct.value,link:at.value},e=t.name,r=t.link,j("cards",{method:"POST",body:JSON.stringify({name:e,link:r})})).then((function(t){var e=$(t,t.owner._id);B(e)}))}),t,"cоздания карточки:")})),Z.addEventListener(a,(function(){g(R),et.value=W.textContent,rt.value=Y.textContent})),tt.addEventListener(o,(function(t){var e={name:et.value,about:rt.value};E((function(){return(t=e,r=t.name,n=t.about,j("users/me",{method:"PATCH",body:JSON.stringify({name:r,about:n})})).then((function(t){st(t.name),lt(t.about)}));var t,r,n}),t,"редактирования информации профиля:")})),G.addEventListener(a,(function(){g(F)})),K.addEventListener(o,(function(t){E((function(){return(t=Q.value,j("users/me/avatar",{method:"PATCH",body:JSON.stringify({avatar:t})})).then((function(t){ut(t.avatar)}));var t}),t,"изменения аватара пользователя:")})),_t.addEventListener(o,(function(t){return w.delete(t)})),bt={formSelector:".form",inputSelector:".form__input",buttonSelector:".form__button",errorSelector:".form__error",inputErrorClass:"form__input_type_error",buttonDisabledClass:"form__button_type_disabled",errorActiveClass:"form__error_active"},Array.from(document.querySelectorAll(bt.formSelector)).forEach((function(t){return e=t,r=bt.inputSelector,n=bt.buttonSelector,o=bt.errorSelector,i=bt.inputErrorClass,c=bt.buttonDisabledClass,a=bt.errorActiveClass,u=Array.from(e.querySelectorAll(r)),s=e.querySelector(n),dt(u,s,c),u.forEach((function(t){t.addEventListener("input",(function(){!function(t,e,r,n,o){var i=e.parentNode.querySelector(r);e.validity.patternMismatch?e.setCustomValidity(e.dataset.invalidMessage):e.setCustomValidity(""),e.validity.valid?function(t,e,r,n,o){r.classList.remove(o),r.textContent="",e.classList.remove(n),e.removeAttribute("aria-describedby")}(0,e,i,n,o):function(t,e,r,n,o,i){r.textContent=n,r.classList.add(i),e.classList.add(o),e.setAttribute("aria-describedby","".concat(i))}(0,e,i,e.validationMessage,n,o)}(0,t,o,i,a),dt(u,s,c)}))})),void e.addEventListener("reset",(function(){setTimeout((function(){return dt(u,s,c)}),0)}));var e,r,n,o,i,c,a,u,s})),document.addEventListener("DOMContentLoaded",(function(){ft.classList.add(e),mt.classList.add(r),mt.classList.add(n),vt.classList.add(r),pt.classList.add(r),pt.classList.add(n),Promise.all([j("users/me",{}),j("cards",{})]).then((function(t){var o,i,c=(i=2,function(t){if(Array.isArray(t))return t}(o=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,c,a=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return a}}(o,i)||function(t,e){if(t){if("string"==typeof t)return yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=c[0],u=c[1];ut(a.avatar),st(a.name),lt(a.about),St=a._id,localStorage.setItem("userId",St),u.reverse().forEach((function(t){var e=$(t,St);B(e)})),ft.classList.remove(e),mt.classList.remove(r),mt.classList.remove(n),vt.classList.remove(r),pt.classList.remove(r),pt.classList.remove(n)})).catch((function(t){return console.error("Ошибка ".concat(t.status," получения информации о пользователе. ").concat(t.statusText))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hIUSxFQUNBaEMsQ0F1QkwsSUV2Q0h2RixTQUFTckMsaUJBQWlCLG9CQUFvQixXRGxCNUNpSSxHQUFPaEosVUFBVWEsSUFBSXJCLEdBQ3JCZ0ksR0FBWXhILFVBQVVhLElBQUlyQixHQUMxQmdJLEdBQVl4SCxVQUFVYSxJQUFJckIsR0FDMUJpSSxHQUFjekgsVUFBVWEsSUFBSXJCLEdBQzVCa0ksR0FBa0IxSCxVQUFVYSxJQUFJckIsR0FDaENrSSxHQUFrQjFILFVBQVVhLElBQUlyQixHQ2VoQ21ELFFBQVE2SSxJQUFJLENOYlE5SixFQUFRLFdBQVksQ0FBQyxHQUVwQkEsRUFBUSxRQUFTLENBQUMsS01ZcENLLE1BQUssWUFBdUIsSSxJQUFBLEcsRUFBQSxFLDRDQUFBLEksczJCQUFyQjRILEVBQVEsS0FBRS9GLEVBQUssS0FDckJ3RSxHQUFpQnVCLEVBQVNDLFFBQzFCdEIsR0FBZXFCLEVBQVNsRSxNQUN4QjhDLEdBQXFCb0IsRUFBU0QsT0FDOUJwRixHQUFTcUYsRUFBU2pGLElBQ2xCeUUsYUFBYXNDLFFBQVEsU0FBVW5ILElBQy9CVixFQUNHOEgsVUFDQW5CLFNBQVEsU0FBQTNGLEdBQ1AsSUFBTTRFLEVBQVk3RSxFQUFXQyxFQUFNTixJQUNuQzBDLEVBQVl3QyxFQUNkLElEdkJOUixHQUFPaEosVUFBVUMsT0FBT1QsR0FDeEJnSSxHQUFZeEgsVUFBVUMsT0FBT1QsR0FDN0JnSSxHQUFZeEgsVUFBVUMsT0FBT1QsR0FDN0JpSSxHQUFjekgsVUFBVUMsT0FBT1QsR0FDL0JrSSxHQUFrQjFILFVBQVVDLE9BQU9ULEdBQ25Da0ksR0FBa0IxSCxVQUFVQyxPQUFPVCxFQ29CakMsSUFDQ3lDLE9BQU0sU0FBQ0MsR0FBSyxPQUFLQyxRQUFRRCxNQUFNLFVBQUQsT0FBV0EsRUFBTUUsT0FBTSxpREFBeUNGLEVBQU1HLFlBQWEsR0FDdEgsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9lbnVtLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9wb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9kZWxldGVDYXJkU2VydmljZS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvY2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnID0ge1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL3BsdXMtY29ob3J0LTE5JyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICcwZjllNjc2My1jYTU5LTRkNmEtYjc4OC1iNmM5ODU2MDI1MjQnLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gIH0sXG59O1xuXG5jb25zdCBMT0FERVIgPSB7XG4gIFNFTEVDVE9SOiAnLmxvYWRlcicsXG4gIEFDVElWRV9DTEFTUzogJ2xvYWRlcl9hY3RpdmUnLFxuICBTS0VMRVRPTjogJ2xvYWRlcl9fc2tlbGV0b24nLFxuICBTS0VMRVRPTl9URVhUOiAnbG9hZGVyX19za2VsZXRvbl90eXBlX3RleHQnXG59XG5cbmNvbnN0IEtFWSA9IHtcbiAgRVNDQVBFOiAnRXNjYXBlJ1xufTtcblxuY29uc3QgRVZFTlQgPSB7XG4gIFNVQk1JVDogJ3N1Ym1pdCcsXG4gIEtFWURPV046ICdrZXlkb3duJyxcbiAgTU9VU0VET1dOOiAnbW91c2Vkb3duJyxcbiAgTU9VU0VVUDogJ21vdXNldXAnLFxuICBDTElDSzogJ2NsaWNrJ1xufVxuXG5jb25zdCBWQUxJREFUSU9OID0ge1xuICBGT1JNX1NFTEVDVE9SOiAnLmZvcm0nLFxuICBJTlBVVF9TRUxFQ1RPUjogJy5mb3JtX19pbnB1dCcsXG4gIElOUFVUX0VSUk9SX0NMQVNTOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIEJVVFRPTl9TRUxFQ1RPUjogJy5mb3JtX19idXR0b24nLFxuICBCVVRUT05fRElTQUJMRURfQ0xBU1M6ICdmb3JtX19idXR0b25fdHlwZV9kaXNhYmxlZCcsXG4gIEVSUk9SX1NFTEVDVE9SOiAnLmZvcm1fX2Vycm9yJyxcbiAgRVJST1JfQUNUSVZFX0NMQVNTOiAnZm9ybV9fZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgUFJPRklMRSA9IHtcbiAgQ09OVEVOVF9OQU1FOiAnLnByb2ZpbGVfX25hbWUnLFxuICBDT05URU5UX09DQ1VQQVRJT046ICcucHJvZmlsZV9fb2NjdXBhdGlvbicsXG4gIENPTlRFTlRfQVZBVEFSOiAnLnByb2ZpbGVfX2ltYWdlJyxcbiAgQlVUVE9OX0VESVRfUFJPRklMRTogJy5wcm9maWxlX19lZGl0JyxcbiAgQlVUVE9OX0FERF9DQVJEOiAnLnByb2ZpbGVfX2FkZCcsXG4gIEFWQVRBUjogJy5wcm9maWxlX19hdmF0YXInLFxufTtcblxuY29uc3QgUE9QVVAgPSB7XG4gIFNFTEVDVE9SOiAnLnBvcHVwJyxcbiAgQ0xBU1NOQU1FOiAncG9wdXAnLFxuICBDTE9TRV9DTEFTU05BTUU6ICdwb3B1cF9fY2xvc2UnLFxuICBBQ1RJVkVfQ0xBU1M6ICdwb3B1cF9hY3RpdmUnLFxuICBBTklNQVRJT05fRFVSQVRJT046IDIwMCxcbiAgVFlQRV9QUk9GSUxFOiAnLnBvcHVwX3R5cGVfZWRpdCcsXG4gIFRZUEVfQ0FSRDogJy5wb3B1cF90eXBlX2FkZCcsXG4gIFRZUEVfUEhPVE86ICcucG9wdXBfdHlwZV9waG90bycsXG4gIFRZUEVfQVZBVEFSOiAnLnBvcHVwX3R5cGVfYXZhdGFyJyxcbiAgVFlQRV9ERUxFVEU6ICcucG9wdXBfdHlwZV9kZWxldGUnLFxuICBJTUFHRTogJy5wb3B1cF9faW1hZ2UnLFxuICBUSVRMRTogJy5wb3B1cF9fZmlnY2FwdGlvbicsXG59O1xuXG5jb25zdCBGT1JNID0ge1xuICBTRUxFQ1RPUjogJy5mb3JtJyxcbiAgTkFNRV9QUk9GSUxFOiAncHJvZmlsZScsXG4gIE5BTUVfQ0FSRDogJ2NhcmQnLFxuICBOQU1FX0RFTEVURTogJ2RlbGV0ZScsXG4gIE5BTUVfQVZBVEFSOiAnYXZhdGFyJyxcbiAgSU5QVVRfVElUTEU6ICdbbmFtZT1cInRpdGxlXCJdJyxcbiAgSU5QVVRfTElOSzogJ1tuYW1lPVwibGlua1wiXScsXG4gIElOUFVUX05BTUU6ICdbbmFtZT1cIm5hbWVcIl0nLFxuICBJTlBVVF9PQ0NVUEFUSU9OOiAnW25hbWU9XCJvY2N1cGF0aW9uXCJdJyxcbiAgQlVUVE9OX1RFWFRfU0FWRTogJ9Ch0L7RhdGA0LDQvdC40YLRjCcsXG4gIEJVVFRPTl9URVhUX0NSRUFURTogJ9Ch0L7Qt9C00LDRgtGMJyxcbiAgQlVUVE9OX1RFWFRfQ1JFQVRJTkc6ICfQodC+0LfQtNCw0L3QuNC1Li4uJyxcbiAgQlVUVE9OX1RFWFRfU0FWSU5HOiAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nLFxuICBCVVRUT05fVEVYVF9ERUxFVEU6ICfQlNCwJyxcbiAgQlVUVE9OX1RFWFRfREVMRVRJTkc6ICfQo9C00LDQu9C10L3QuNC1Li4uJyxcbn07XG5cbmNvbnN0IENBUkQgPSB7XG4gIFdSQVBQRVI6ICcuZmVlZF9fbGlzdCcsXG4gIFRFTVBMQVRFOiAnI2NhcmQnLFxuICBJVEVNOiAnLmZlZWRfX2l0ZW0nLFxuICBJVEVNX0NMQVNTTkFNRTogJ2ZlZWRfX2l0ZW0nLFxuICBBUlRJQ0xFOiAnLmNhcmQnLFxuICBJTUFHRTogJy5jYXJkX19pbWFnZScsXG4gIFRJVExFOiAnLmNhcmRfX3RpdGxlJyxcbiAgTElLRV9CVVRUT046ICcuY2FyZF9fbGlrZS1idXR0b24nLFxuICBMSUtFX05VTUJFUjogJy5jYXJkX19saWtlLW51bWJlcicsXG4gIExJS0VfQlVUVE9OX0FDVElWRTogJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScsXG4gIExJS0VfQlVUVE9OX0lTX0xJS0VEOiAnY2FyZF9fbGlrZS1idXR0b25fbGlrZWRfdHJ1ZScsXG4gIERFTEVURTogJy5jYXJkX19kZWxldGUnXG59O1xuXG5leHBvcnQge1xuICBDQVJELFxuICBFVkVOVCxcbiAgS0VZLFxuICBGT1JNLFxuICBQT1BVUCxcbiAgUFJPRklMRSxcbiAgTE9BREVSLFxuICBWQUxJREFUSU9OLFxuICBjb25maWdcbn07XG4iLCJpbXBvcnQgeyBFVkVOVCwgRk9STSwgS0VZLCBQT1BVUCB9IGZyb20gJy4vZW51bS5qcyc7XG5cbmNvbnN0IGFkZFBvcHVwQWN0aXZlQ2xhc3MgPSAocG9wdXApID0+IHtcbiAgcG9wdXAuY2xhc3NMaXN0LmFkZChQT1BVUC5BQ1RJVkVfQ0xBU1MpO1xufTtcblxuY29uc3QgcmVtb3ZlUG9wdXBBY3RpdmVDbGFzcyA9IChwb3B1cCkgPT4ge1xuICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFBPUFVQLkFDVElWRV9DTEFTUyk7XG59O1xuXG5jb25zdCBjbG9zZVBvcHVwID0gKHBvcHVwKSA9PiB7XG4gIHJlbW92ZVBvcHVwQWN0aXZlQ2xhc3MocG9wdXApO1xuICByZW1vdmVQb3B1cEV2ZW50TGlzdGVuZXJzKHBvcHVwKTtcbn07XG5cbmNvbnN0IGhhbmRsZVBvcHVwTW91c2VFdmVudCA9IChlKSA9PiB7XG4gIGNvbnN0IGNsb3NlQ29uZGl0aW9uID0gZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFBPUFVQLkNMQVNTTkFNRSlcbiAgICB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoUE9QVVAuQ0xPU0VfQ0xBU1NOQU1FKTtcbiAgaWYgKGNsb3NlQ29uZGl0aW9uKSB7XG4gICAgY29uc3QgcG9wdXAgPSBlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcbiAgICBjbG9zZVBvcHVwKHBvcHVwKTtcbiAgfVxufTtcblxuY29uc3QgaGFuZGxlUG9wdXBLZXlib2FyZEV2ZW50ID0gKGUpID0+IHtcbiAgaWYgKGUua2V5ID09PSBLRVkuRVNDQVBFKSB7XG4gICAgY29uc3QgcG9wdXAgPSBlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcbiAgICBjbG9zZVBvcHVwKHBvcHVwKTtcbiAgfVxufTtcblxuY29uc3Qgb3BlblBvcHVwID0gKHBvcHVwKSA9PiB7XG4gIGFkZFBvcHVwQWN0aXZlQ2xhc3MocG9wdXApO1xuICBhZGRQb3B1cEV2ZW50TGlzdGVuZXJzKHBvcHVwKTtcbiAgc2V0VGltZW91dCgoKSA9PiBwb3B1cC5mb2N1cygpLCBQT1BVUC5BTklNQVRJT05fRFVSQVRJT04pO1xufTtcblxuY29uc3QgcmVuZGVyTG9hZGluZyA9IChpc0xvYWRpbmcsIGJ1dHRvbiwgYnV0dG9uVGV4dCwgbG9hZGluZ1RleHQpID0+IHtcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1dHRvblRleHQ7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZVN1Ym1pdCA9IChyZXF1ZXN0LCBlLCBtYWluRXJyb3JUZXh0ID0gJ9C30LDQv9GA0L7RgdCwJywgYnV0dG9uVGV4dCA9IEZPUk0uQlVUVE9OX1RFWFRfU0FWRSwgbG9hZGluZ1RleHQgPSBGT1JNLkJVVFRPTl9URVhUX1NBVklORykgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHBvcHVwID0gZS50YXJnZXQuY2xvc2VzdChQT1BVUC5TRUxFQ1RPUik7XG4gIGNvbnN0IHBvcHVwRm9ybVN1Ym1pdEJ1dHRvbiA9IGUuc3VibWl0dGVyO1xuICByZW5kZXJMb2FkaW5nKHRydWUsIHBvcHVwRm9ybVN1Ym1pdEJ1dHRvbiwgYnV0dG9uVGV4dCwgbG9hZGluZ1RleHQpO1xuICByZXF1ZXN0KClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBlLnRhcmdldC5yZXNldCgpO1xuICAgICAgY2xvc2VQb3B1cChwb3B1cCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9ICR7bWFpbkVycm9yVGV4dH0gJHtlcnJvci5zdGF0dXNUZXh0fWApKVxuICAgIC5maW5hbGx5KCgpID0+IHJlbmRlckxvYWRpbmcoZmFsc2UsIHBvcHVwRm9ybVN1Ym1pdEJ1dHRvbiwgYnV0dG9uVGV4dCwgbG9hZGluZ1RleHQpKTtcbn07XG5cbmZ1bmN0aW9uIGFkZFBvcHVwRXZlbnRMaXN0ZW5lcnMocG9wdXApIHtcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVC5NT1VTRURPV04sIGhhbmRsZVBvcHVwTW91c2VFdmVudCk7XG4gIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuS0VZRE9XTiwgaGFuZGxlUG9wdXBLZXlib2FyZEV2ZW50KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUG9wdXBFdmVudExpc3RlbmVycyhwb3B1cCkge1xuICBwb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKEVWRU5ULk1PVVNFRE9XTiwgaGFuZGxlUG9wdXBNb3VzZUV2ZW50KTtcbiAgcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihFVkVOVC5LRVlET1dOLCBoYW5kbGVQb3B1cEtleWJvYXJkRXZlbnQpO1xufVxuXG5leHBvcnQge1xuICBjbG9zZVBvcHVwLFxuICBvcGVuUG9wdXAsXG4gIHJlbmRlckxvYWRpbmcsXG4gIGhhbmRsZVN1Ym1pdCxcbn07XG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2VudW0uanMnO1xuXG5jb25zdCBjaGVja1Jlc3BvbnNlID0gKHJlcykgPT4ge1xuICBpZiAocmVzLm9rKSB7XG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAhJHtyZXMuc3RhdHVzVGV4dH0g0JrQvtC0INC+0YjQuNCx0LrQuDogJHtyZXMuc3RhdHVzfS5gKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgY29uc3QgY29tcHV0ZWRVcmwgPSBgJHtjb25maWcuYmFzZVVybH0vJHt1cmx9YDtcbiAgcmV0dXJuIGZldGNoKGNvbXB1dGVkVXJsLCB7IGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLCAuLi5vcHRpb25zIH0pLnRoZW4oY2hlY2tSZXNwb25zZSk7XG59XG5cbmNvbnN0IGdldFVzZXIgPSAoKSA9PiByZXF1ZXN0KGB1c2Vycy9tZWAsIHt9KTtcblxuY29uc3QgZ2V0Q2FyZHMgPSAoKSA9PiByZXF1ZXN0KGBjYXJkc2AsIHt9KTtcblxuY29uc3QgdXBkYXRlVXNlciA9ICh7IG5hbWUsIGFib3V0IH0pID0+IHJlcXVlc3QoYHVzZXJzL21lYCwge1xuICBtZXRob2Q6ICdQQVRDSCcsXG4gIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICBuYW1lLFxuICAgIGFib3V0XG4gIH0pXG59KTtcblxuY29uc3QgdXBkYXRlVXNlckF2YXRhciA9IChhdmF0YXIpID0+IHJlcXVlc3QoYHVzZXJzL21lL2F2YXRhcmAsIHtcbiAgbWV0aG9kOiAnUEFUQ0gnLFxuICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhciB9KVxufSk7XG5cbmNvbnN0IGFkZENhcmQgPSAoeyBuYW1lLCBsaW5rIH0pID0+IHJlcXVlc3QoYGNhcmRzYCwge1xuICBtZXRob2Q6ICdQT1NUJyxcbiAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pXG59KTtcblxuY29uc3QgcmVtb3ZlQ2FyZCA9IChjYXJkSWQpID0+IHJlcXVlc3QoYGNhcmRzLyR7Y2FyZElkfWAsIHtcbiAgbWV0aG9kOiAnREVMRVRFJyxcbn0pO1xuXG5jb25zdCBkZWxldGVDYXJkTGlrZSA9IChjYXJkSWQpID0+IHJlcXVlc3QoYGNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgbWV0aG9kOiAnREVMRVRFJyxcbn0pO1xuXG5jb25zdCBhZGRDYXJkTGlrZSA9IChjYXJkSWQpID0+IHJlcXVlc3QoYGNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgbWV0aG9kOiAnUFVUJyxcbn0pO1xuXG5leHBvcnQge1xuICBnZXRVc2VyLFxuICBnZXRDYXJkcyxcbiAgdXBkYXRlVXNlcixcbiAgYWRkQ2FyZCxcbiAgcmVtb3ZlQ2FyZCxcbiAgZGVsZXRlQ2FyZExpa2UsXG4gIGFkZENhcmRMaWtlLFxuICB1cGRhdGVVc2VyQXZhdGFyXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBkZWxldGU6ICgpID0+IHt9LFxufVxuIiwiaW1wb3J0IHsgb3BlblBvcHVwLCBoYW5kbGVTdWJtaXQgfSBmcm9tICcuL3BvcHVwLmpzJztcbmltcG9ydCB7IFBPUFVQLCBDQVJELCBFVkVOVCwgRk9STSB9IGZyb20gJy4vZW51bS5qcyc7XG5pbXBvcnQgeyBhZGRDYXJkTGlrZSwgZGVsZXRlQ2FyZExpa2UsIHJlbW92ZUNhcmQgfSBmcm9tICcuL2FwaS5qcyc7XG5pbXBvcnQgZGVsZXRlQ2FyZFNlcnZpY2UgZnJvbSAnLi9kZWxldGVDYXJkU2VydmljZS5qcyc7XG5cbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5URU1QTEFURSkuY29udGVudC5xdWVyeVNlbGVjdG9yKENBUkQuSVRFTSk7XG5jb25zdCBjYXJkc1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKENBUkQuV1JBUFBFUik7XG5jb25zdCBwb3B1cERlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUE9QVVAuVFlQRV9ERUxFVEUpO1xuY29uc3QgcG9wdXBQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUE9QVVAuVFlQRV9QSE9UTyk7XG5jb25zdCBwb3B1cEltYWdlID0gcG9wdXBQaG90by5xdWVyeVNlbGVjdG9yKFBPUFVQLklNQUdFKTtcbmNvbnN0IHBvcHVwVGl0bGUgPSBwb3B1cFBob3RvLnF1ZXJ5U2VsZWN0b3IoUE9QVVAuVElUTEUpO1xubGV0IGhhc093bmVyTGlrZTtcbmNvbnN0IGNhcmRzID0gW107XG5cbmNvbnN0IHNldENhcmROYW1lID0gKGVsLCB0aXRsZSkgPT4ge1xuICBlbC50ZXh0Q29udGVudCA9IHRpdGxlO1xufTtcblxuY29uc3Qgc2V0Q2FyZEltYWdlID0gKGVsLCB0aXRsZSwgaW1hZ2UpID0+IHtcbiAgZWwuc2V0QXR0cmlidXRlKCdzcmMnLCBpbWFnZSk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnYWx0JywgdGl0bGUpO1xufTtcblxuY29uc3QgYWRkTGlrZUFjdGl2ZUNsYXNzID0gKGVsKSA9PiB7XG4gIGVsLmNsYXNzTGlzdC5hZGQoQ0FSRC5MSUtFX0JVVFRPTl9BQ1RJVkUpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAn0KPQsdGA0LDRgtGMINC+0YLQvNC10YLQutGDIFxcXCLQn9C+0L3RgNCw0LLQuNC70L7RgdGMXFxcIicpO1xufTtcblxuY29uc3QgcmVtb3ZlTGlrZUFjdGl2ZUNsYXNzID0gKGVsKSA9PiB7XG4gIGVsLmNsYXNzTGlzdC5yZW1vdmUoQ0FSRC5MSUtFX0JVVFRPTl9BQ1RJVkUpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAn0JTQvtCx0LDQstC40YLRjCDQvtGC0LzQtdGC0LrRgyBcXFwi0J/QvtC90YDQsNCy0LjQu9C+0YHRjFxcXCInKTtcbn07XG5cbmNvbnN0IHRvZ2dsZUxpa2UgPSAoZWwsIGhhc0FjdGl2ZUNsYXNzKSA9PiB7XG4gIHN3aXRjaCAoaGFzQWN0aXZlQ2xhc3MpIHtcbiAgICBjYXNlIHRydWU6XG4gICAgICByZW1vdmVMaWtlQWN0aXZlQ2xhc3MoZWwpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBmYWxzZTpcbiAgICAgIGFkZExpa2VBY3RpdmVDbGFzcyhlbCk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgY2hlY2tMaWtlQnV0dG9uQWN0aXZlQ2xhc3MgPSAoZWwpID0+IHtcbiAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhDQVJELkxJS0VfQlVUVE9OX0FDVElWRSk7XG59O1xuXG5jb25zdCBzZXRDYXJkTGlrZXMgPSAoYnV0dG9uLCBudW1iZXIsIHZhbHVlID0gMCkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykgY29uc29sZS5lcnJvcign0JfQvdCw0YfQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQu9Cw0LnQutC+0LIg0LrQsNGA0YLQvtGH0LrQuCDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0YfQuNGB0LvQvtC8Jyk7XG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIDA6XG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShDQVJELkxJS0VfQlVUVE9OX0lTX0xJS0VEKTtcbiAgICAgIG51bWJlci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKENBUkQuTElLRV9CVVRUT05fSVNfTElLRUQpO1xuICAgICAgbnVtYmVyLnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlT3duZXJzTGlrZSA9IChsaWtlc0FycmF5LCB1c2VySWQpID0+IHtcbiAgc3dpdGNoIChsaWtlc0FycmF5Lmxlbmd0aCkge1xuICAgIGNhc2UgMDpcbiAgICAgIGhhc093bmVyTGlrZSA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGhhc093bmVyTGlrZSA9IGxpa2VzQXJyYXkuc29tZShsaWtlID0+IGxpa2UuX2lkID09PSB1c2VySWQpO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbmNvbnN0IGZpbmRDdXJyZW50Q2FyZCA9IChpZCkgPT4ge1xuICByZXR1cm4gY2FyZHMuZmluZChjYXJkID0+IGNhcmQuX2lkID09PSBpZCk7XG59O1xuXG5jb25zdCBoYW5kbGVMaWtlQnV0dG9uID0gKGJ1dHRvbiwgbnVtYmVyLCBpZCwgaW5pdGlhbExpa2VzLCB1c2VySWQpID0+IHtcbiAgY29uc3QgY3VycmVudCA9IGZpbmRDdXJyZW50Q2FyZChpZCk7XG4gIHVwZGF0ZU93bmVyc0xpa2UoY3VycmVudC5saWtlcywgdXNlcklkKTtcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICBjb25zdCBwcm9taXNlID0gaGFzT3duZXJMaWtlPyBkZWxldGVDYXJkTGlrZShpZCkgOiBhZGRDYXJkTGlrZShpZClcblxuICBwcm9taXNlXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXBkYXRlT3duZXJzTGlrZShyZXMubGlrZXMsIHVzZXJJZCk7XG4gICAgICBjdXJyZW50Lmxpa2VzID0gcmVzLmxpa2VzO1xuICAgICAgc2V0Q2FyZExpa2VzKGJ1dHRvbiwgbnVtYmVyLCByZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgIGNvbnN0IGhhc0FjdGl2ZUNsYXNzID0gY2hlY2tMaWtlQnV0dG9uQWN0aXZlQ2xhc3MoYnV0dG9uKTtcbiAgICAgIHRvZ2dsZUxpa2UoYnV0dG9uLCBoYXNBY3RpdmVDbGFzcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQuDogJHtlcnJvci5zdGF0dXNUZXh0fWApKVxuICAgIC5maW5hbGx5KCgpID0+IGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykpO1xufTtcblxuY29uc3QgaGFuZGxlUGhvdG9PdmVybGF5ID0gKGNhcmRJbWFnZSwgY2FyZFRpdGxlKSA9PiB7XG4gIG9wZW5Qb3B1cChwb3B1cFBob3RvKTtcbiAgcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IGNhcmRUaXRsZS50ZXh0Q29udGVudDtcbiAgcG9wdXBJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGNhcmRJbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpKTtcbiAgcG9wdXBJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGNhcmRJbWFnZS5nZXRBdHRyaWJ1dGUoJ2FsdCcpKTtcbn07XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUJ1dHRvbiA9ICh0YXJnZXQsIGNhcmRJZCkgPT4ge1xuICBkZWxldGVDYXJkU2VydmljZS5kZWxldGUgPSAoZSkgPT4gaGFuZGxlRGVsZXRlU3VibWl0KGUsIHRhcmdldCwgY2FyZElkKTtcbiAgb3BlblBvcHVwKHBvcHVwRGVsZXRlKTtcbn07XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChlLCB0YXJnZXQsIGNhcmRJZCkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KENBUkQuSVRFTSk7XG5cbiAgY29uc3Qgc3VibWl0RGVsZXRlQ2FyZFJlcXVlc3QgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHJlbW92ZUNhcmQoY2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4gY2FyZEVsZW1lbnQucmVtb3ZlKCkpXG4gIH07XG5cbiAgaGFuZGxlU3VibWl0KHN1Ym1pdERlbGV0ZUNhcmRSZXF1ZXN0LCBlLCAn0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9GA0L7RhNC40LvRjzonLCBGT1JNLkJVVFRPTl9URVhUX0RFTEVURSwgRk9STS5CVVRUT05fVEVYVF9ERUxFVElORyk7XG59XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZCwgdXNlcklkKSA9PiB7XG4gIGNvbnN0IGNhcmRJdGVtID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZEFydGljbGUgPSBjYXJkSXRlbS5xdWVyeVNlbGVjdG9yKENBUkQuQVJUSUNMRSk7XG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5JTUFHRSk7XG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5USVRMRSk7XG4gIGNvbnN0IGNhcmRMaWtlTnVtYmVyID0gY2FyZEFydGljbGUucXVlcnlTZWxlY3RvcihDQVJELkxJS0VfTlVNQkVSKTtcbiAgY29uc3QgY2FyZExpa2VCdXR0b24gPSBjYXJkQXJ0aWNsZS5xdWVyeVNlbGVjdG9yKENBUkQuTElLRV9CVVRUT04pO1xuICBjb25zdCBjYXJkRGVsZXRlID0gY2FyZEFydGljbGUucXVlcnlTZWxlY3RvcihDQVJELkRFTEVURSk7XG4gIGNvbnN0IGNhcmRMaWtlc0RlZmF1bHRWYWx1ZSA9IDA7XG4gIGNvbnN0IGxpa2VzQ291bnQgPSBjYXJkLmxpa2VzLmxlbmd0aCA+IDAgPyBjYXJkLmxpa2VzLmxlbmd0aCA6IGNhcmRMaWtlc0RlZmF1bHRWYWx1ZTtcbiAgY2FyZHMucHVzaChjYXJkKTtcblxuICB1cGRhdGVPd25lcnNMaWtlKGNhcmQubGlrZXMsIHVzZXJJZCk7XG4gIHNldENhcmROYW1lKGNhcmRUaXRsZSwgY2FyZC5uYW1lKTtcbiAgc2V0Q2FyZEltYWdlKGNhcmRJbWFnZSwgY2FyZC5uYW1lLCBjYXJkLmxpbmspO1xuICBzZXRDYXJkTGlrZXMoY2FyZExpa2VCdXR0b24sIGNhcmRMaWtlTnVtYmVyLCBsaWtlc0NvdW50KTtcbiAgaGFzT3duZXJMaWtlXG4gICAgPyBhZGRMaWtlQWN0aXZlQ2xhc3MoY2FyZExpa2VCdXR0b24pXG4gICAgOiByZW1vdmVMaWtlQWN0aXZlQ2xhc3MoY2FyZExpa2VCdXR0b24pO1xuXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuQ0xJQ0ssICgpID0+IGhhbmRsZUxpa2VCdXR0b24oY2FyZExpa2VCdXR0b24sIGNhcmRMaWtlTnVtYmVyLCBjYXJkLl9pZCwgY2FyZC5saWtlcywgdXNlcklkKSk7XG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULkNMSUNLLCAoKSA9PiBoYW5kbGVQaG90b092ZXJsYXkoY2FyZEltYWdlLCBjYXJkVGl0bGUpKTtcbiAgY2FyZC5vd25lci5faWQgPT09IHVzZXJJZFxuICAgID8gY2FyZERlbGV0ZS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULkNMSUNLLCAoeyB0YXJnZXQgfSkgPT4gaGFuZGxlRGVsZXRlQnV0dG9uKHRhcmdldCwgY2FyZC5faWQpKVxuICAgIDogY2FyZERlbGV0ZS5yZW1vdmUoKTtcblxuICByZXR1cm4gY2FyZEl0ZW07XG59O1xuXG5jb25zdCBwcmVwZW5kQ2FyZCA9IChjYXJkKSA9PiB7XG4gIGNhcmRzV3JhcHBlci5wcmVwZW5kKGNhcmQpO1xufTtcblxuZXhwb3J0IHtcbiAgY3JlYXRlQ2FyZCxcbiAgcHJlcGVuZENhcmRcbn07XG4iLCJpbXBvcnQgeyBvcGVuUG9wdXAsIGhhbmRsZVN1Ym1pdCB9IGZyb20gJy4vcG9wdXAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgcHJlcGVuZENhcmQgfSBmcm9tICcuL2NhcmQuanMnO1xuaW1wb3J0IHsgUFJPRklMRSwgUE9QVVAsIEZPUk0sIEVWRU5UIH0gZnJvbSAnLi9lbnVtLmpzJztcbmltcG9ydCB7IHVwZGF0ZVVzZXIsIGFkZENhcmQsIHVwZGF0ZVVzZXJBdmF0YXIgfSBmcm9tICcuL2FwaS5qcyc7XG5cbmNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5UWVBFX0FWQVRBUik7XG5jb25zdCBhdmF0YXJQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQVZBVEFSKTtcbmNvbnN0IGF2YXRhclBvcHVwRm9ybSA9IGRvY3VtZW50LmZvcm1zW0ZPUk0uTkFNRV9BVkFUQVJdO1xuY29uc3QgYXZhdGFyUG9wdXBMaW5rSW5wdXQgPSBhdmF0YXJQb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihGT1JNLklOUFVUX0xJTkspO1xuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5UWVBFX1BST0ZJTEUpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9OQU1FKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9BVkFUQVIpO1xuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9PQ0NVUEFUSU9OKTtcbmNvbnN0IHByb2ZpbGVQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQlVUVE9OX0VESVRfUFJPRklMRSk7XG5jb25zdCBwcm9maWxlUG9wdXBGb3JtID0gZG9jdW1lbnQuZm9ybXNbRk9STS5OQU1FX1BST0ZJTEVdO1xuY29uc3QgcHJvZmlsZVBvcHVwTmFtZUlucHV0ID0gcHJvZmlsZVBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKEZPUk0uSU5QVVRfTkFNRSk7XG5jb25zdCBwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQgPSBwcm9maWxlUG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoRk9STS5JTlBVVF9PQ0NVUEFUSU9OKTtcbmNvbnN0IGNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUE9QVVAuVFlQRV9DQVJEKTtcbmNvbnN0IGNhcmRQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQlVUVE9OX0FERF9DQVJEKTtcbmNvbnN0IGNhcmRQb3B1cEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tGT1JNLk5BTUVfQ0FSRF07XG5jb25zdCBjYXJkUG9wdXBUaXRsZUlucHV0ID0gY2FyZFBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKEZPUk0uSU5QVVRfVElUTEUpO1xuY29uc3QgY2FyZFBvcHVwTGlua0lucHV0ID0gY2FyZFBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKEZPUk0uSU5QVVRfTElOSyk7XG5cbmNvbnN0IGZpbGxQcm9maWxlSW5wdXRzID0gKCkgPT4ge1xuICBwcm9maWxlUG9wdXBOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZVBvcHVwT2NjdXBhdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZU9jY3VwYXRpb24udGV4dENvbnRlbnQ7XG59O1xuXG5jb25zdCBzZXRQcm9maWxlQXZhdGFyID0gKHNyYykgPT4ge1xuICBwcm9maWxlQXZhdGFyLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbn07XG5cbmNvbnN0IHNldFByb2ZpbGVOYW1lID0gKG5hbWUpID0+IHtcbiAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xufTtcblxuY29uc3Qgc2V0UHJvZmlsZU9jY3VwYXRpb24gPSAob2NjdXBhdGlvbikgPT4ge1xuICBwcm9maWxlT2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IG9jY3VwYXRpb247XG59O1xuXG5jb25zdCBoYW5kbGVBdmF0YXJGb3JtU3VibWl0ID0gKGUpID0+IHtcbiAgY29uc3Qgc3VibWl0QXZhdGFyUmVxdWVzdCA9ICgpID0+IHtcbiAgICBjb25zdCBhdmF0YXIgPSBhdmF0YXJQb3B1cExpbmtJbnB1dC52YWx1ZTtcbiAgICByZXR1cm4gdXBkYXRlVXNlckF2YXRhcihhdmF0YXIpXG4gICAgICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgICAgc2V0UHJvZmlsZUF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuICAgICAgfSk7XG4gIH07XG4gIGhhbmRsZVN1Ym1pdChzdWJtaXRBdmF0YXJSZXF1ZXN0LCBlLCAn0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjzonKTtcbn07XG5cbmNvbnN0IGhhbmRsZU9wZW5BdmF0YXIgPSAoKSA9PiB7XG4gIG9wZW5Qb3B1cChhdmF0YXJQb3B1cCk7XG59O1xuXG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IChlKSA9PiB7XG4gIGNvbnN0IHVzZXIgPSB7IG5hbWU6IHByb2ZpbGVQb3B1cE5hbWVJbnB1dC52YWx1ZSwgYWJvdXQ6IHByb2ZpbGVQb3B1cE9jY3VwYXRpb25JbnB1dC52YWx1ZSB9O1xuICBjb25zdCBzdWJtaXRQcm9maWxlUmVxdWVzdCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXBkYXRlVXNlcih1c2VyKVxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIHNldFByb2ZpbGVOYW1lKHVzZXJEYXRhLm5hbWUpO1xuICAgICAgICBzZXRQcm9maWxlT2NjdXBhdGlvbih1c2VyRGF0YS5hYm91dCk7XG4gICAgICB9KTtcbiAgfTtcbiAgaGFuZGxlU3VibWl0KHN1Ym1pdFByb2ZpbGVSZXF1ZXN0LCBlLCAn0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9GA0L7RhNC40LvRjzonKTtcbn07XG5cbmNvbnN0IGhhbmRsZU9wZW5Qcm9maWxlID0gKCkgPT4ge1xuICBvcGVuUG9wdXAocHJvZmlsZVBvcHVwKTtcbiAgZmlsbFByb2ZpbGVJbnB1dHMoKTtcbn07XG5cbmNvbnN0IGhhbmRsZUNhcmRGb3JtU3VibWl0ID0gKGUpID0+IHtcbiAgY29uc3Qgc3VibWl0Q2FyZEZvcm1SZXF1ZXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmQgPSB7IG5hbWU6IGNhcmRQb3B1cFRpdGxlSW5wdXQudmFsdWUsIGxpbms6IGNhcmRQb3B1cExpbmtJbnB1dC52YWx1ZSB9O1xuICAgIHJldHVybiBhZGRDYXJkKGNhcmQpXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkQ2xvbmUgPSBjcmVhdGVDYXJkKGNhcmQsIGNhcmQub3duZXIuX2lkKTtcbiAgICAgICAgcHJlcGVuZENhcmQoY2FyZENsb25lKTtcbiAgICAgIH0pO1xuICB9O1xuICBoYW5kbGVTdWJtaXQoc3VibWl0Q2FyZEZvcm1SZXF1ZXN0LCBlLCAnY9C+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60Lg6Jyk7XG5cbn07XG5cbmNvbnN0IGhhbmRsZUNhcmRQb3B1cE9wZW5CdXR0b24gPSAoKSA9PiB7XG4gIG9wZW5Qb3B1cChjYXJkUG9wdXApO1xufTtcblxuY29uc3QgYWRkUHJvZmlsZUxpc3RlbmVycyA9ICgpID0+IHtcbiAgY2FyZFBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEVWRU5ULkNMSUNLLCBoYW5kbGVDYXJkUG9wdXBPcGVuQnV0dG9uKTtcbiAgY2FyZFBvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULlNVQk1JVCwgaGFuZGxlQ2FyZEZvcm1TdWJtaXQpO1xuICBwcm9maWxlUG9wdXBPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuQ0xJQ0ssIGhhbmRsZU9wZW5Qcm9maWxlKTtcbiAgcHJvZmlsZVBvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULlNVQk1JVCwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xuICBhdmF0YXJQb3B1cE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihFVkVOVC5DTElDSywgaGFuZGxlT3BlbkF2YXRhcik7XG4gIGF2YXRhclBvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULlNVQk1JVCwgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCk7XG59O1xuXG5leHBvcnQge1xuICBhZGRQcm9maWxlTGlzdGVuZXJzLFxuICBzZXRQcm9maWxlQXZhdGFyLFxuICBzZXRQcm9maWxlTmFtZSxcbiAgc2V0UHJvZmlsZU9jY3VwYXRpb25cbn07XG4iLCJjb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGVycm9yTWVzc2FnZSwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JBY3RpdmVDbGFzcyk7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XG4gIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBgJHtlcnJvckFjdGl2ZUNsYXNzfWApO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JBY3RpdmVDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICBpbnB1dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG59O1xuXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JDbGFzcywgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGlucHV0RWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoZXJyb3JDbGFzcyk7XG5cbiAgaW5wdXRFbGVtZW50LnZhbGlkaXR5LnBhdHRlcm5NaXNtYXRjaFxuICAgID8gaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KGlucHV0RWxlbWVudC5kYXRhc2V0LmludmFsaWRNZXNzYWdlKVxuICAgIDogaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcblxuICAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgPyBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKVxuICAgIDogaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpO1xufTtcblxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0c0xpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0c0xpc3Quc29tZShpbnB1dEVsZW1lbnQgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG59O1xuXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGluYWN0aXZlQnV0dG9uQ2xhc3MpID0+IHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxufTtcblxuY29uc3Qgc2V0Rm9ybUV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBpbnB1dFNlbGVjdG9yLCBidXR0b25TZWxlY3RvciwgZXJyb3JTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBidXR0b25JbmFjdGl2ZUNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4gIGNvbnN0IGlucHV0c0xpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3Rvcik7XG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpO1xuICBpbnB1dHNMaXN0LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpO1xuICAgIH0pO1xuICB9KTtcbiAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHNMaXN0LCBidXR0b25FbGVtZW50LCBidXR0b25JbmFjdGl2ZUNsYXNzKSwgMCk7XG4gIH0pO1xufTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9ICh2YWxpZGF0aW9uQ29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1zTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3Jtc0xpc3QuZm9yRWFjaChmb3JtID0+IHNldEZvcm1FdmVudExpc3RlbmVycyhcbiAgICBmb3JtLFxuICAgIHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcixcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmJ1dHRvblNlbGVjdG9yLFxuICAgIHZhbGlkYXRpb25Db25maWcuZXJyb3JTZWxlY3RvcixcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyxcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmJ1dHRvbkRpc2FibGVkQ2xhc3MsXG4gICAgdmFsaWRhdGlvbkNvbmZpZy5lcnJvckFjdGl2ZUNsYXNzLFxuICApKTtcbn07XG5cbmV4cG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb25cbn07XG4iLCJpbXBvcnQgeyBMT0FERVIsIFBST0ZJTEUgfSBmcm9tICcuL2VudW0uanMnO1xuXG5jb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKExPQURFUi5TRUxFQ1RPUik7XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUFJPRklMRS5DT05URU5UX05BTUUpO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUFJPRklMRS5BVkFUQVIpO1xuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9PQ0NVUEFUSU9OKTtcblxuY29uc3Qgc3RhcnRMb2FkZXIgPSAoKSA9PiB7XG4gIGxvYWRlci5jbGFzc0xpc3QuYWRkKExPQURFUi5BQ1RJVkVfQ0xBU1MpO1xuICBwcm9maWxlTmFtZS5jbGFzc0xpc3QuYWRkKExPQURFUi5TS0VMRVRPTik7XG4gIHByb2ZpbGVOYW1lLmNsYXNzTGlzdC5hZGQoTE9BREVSLlNLRUxFVE9OX1RFWFQpO1xuICBwcm9maWxlQXZhdGFyLmNsYXNzTGlzdC5hZGQoTE9BREVSLlNLRUxFVE9OKTtcbiAgcHJvZmlsZU9jY3VwYXRpb24uY2xhc3NMaXN0LmFkZChMT0FERVIuU0tFTEVUT04pO1xuICBwcm9maWxlT2NjdXBhdGlvbi5jbGFzc0xpc3QuYWRkKExPQURFUi5TS0VMRVRPTl9URVhUKTtcbn07XG5cbmNvbnN0IGVuZExvYWRlciA9ICgpID0+IHtcbiAgbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLkFDVElWRV9DTEFTUyk7XG4gIHByb2ZpbGVOYW1lLmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLlNLRUxFVE9OKTtcbiAgcHJvZmlsZU5hbWUuY2xhc3NMaXN0LnJlbW92ZShMT0FERVIuU0tFTEVUT05fVEVYVCk7XG4gIHByb2ZpbGVBdmF0YXIuY2xhc3NMaXN0LnJlbW92ZShMT0FERVIuU0tFTEVUT04pO1xuICBwcm9maWxlT2NjdXBhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKExPQURFUi5TS0VMRVRPTik7XG4gIHByb2ZpbGVPY2N1cGF0aW9uLmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLlNLRUxFVE9OX1RFWFQpO1xufTtcblxuXG5leHBvcnQge1xuICBzdGFydExvYWRlcixcbiAgZW5kTG9hZGVyXG59O1xuIiwiaW1wb3J0ICcuL3N0eWxlcy9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IHsgRVZFTlQsIEZPUk0sIFZBTElEQVRJT04gfSBmcm9tICcuL2NvbXBvbmVudHMvZW51bS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYXJkLCBwcmVwZW5kQ2FyZCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLmpzJztcbmltcG9ydCB7IGFkZFByb2ZpbGVMaXN0ZW5lcnMsIHNldFByb2ZpbGVBdmF0YXIsIHNldFByb2ZpbGVOYW1lLCBzZXRQcm9maWxlT2NjdXBhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9wcm9maWxlLmpzJztcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvdmFsaWRhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRVc2VyLCBnZXRDYXJkcyB9IGZyb20gJy4vY29tcG9uZW50cy9hcGkuanMnO1xuaW1wb3J0IHsgc3RhcnRMb2FkZXIsIGVuZExvYWRlciB9IGZyb20gJy4vY29tcG9uZW50cy9sb2FkZXIuanMnO1xuaW1wb3J0IGRlbGV0ZUNhcmRTZXJ2aWNlIGZyb20gJy4vY29tcG9uZW50cy9kZWxldGVDYXJkU2VydmljZS5qcyc7XG5cbmNvbnN0IGNhcmREZWxldGVQb3B1cEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tGT1JNLk5BTUVfREVMRVRFXTtcbmxldCB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykgfHwgbnVsbDtcblxuYWRkUHJvZmlsZUxpc3RlbmVycygpO1xuY2FyZERlbGV0ZVBvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULlNVQk1JVCwgKGUpID0+IGRlbGV0ZUNhcmRTZXJ2aWNlLmRlbGV0ZShlKSk7XG5cbmVuYWJsZVZhbGlkYXRpb24oe1xuICBmb3JtU2VsZWN0b3I6IFZBTElEQVRJT04uRk9STV9TRUxFQ1RPUixcbiAgaW5wdXRTZWxlY3RvcjogVkFMSURBVElPTi5JTlBVVF9TRUxFQ1RPUixcbiAgYnV0dG9uU2VsZWN0b3I6IFZBTElEQVRJT04uQlVUVE9OX1NFTEVDVE9SLFxuICBlcnJvclNlbGVjdG9yOiBWQUxJREFUSU9OLkVSUk9SX1NFTEVDVE9SLFxuICBpbnB1dEVycm9yQ2xhc3M6IFZBTElEQVRJT04uSU5QVVRfRVJST1JfQ0xBU1MsXG4gIGJ1dHRvbkRpc2FibGVkQ2xhc3M6IFZBTElEQVRJT04uQlVUVE9OX0RJU0FCTEVEX0NMQVNTLFxuICBlcnJvckFjdGl2ZUNsYXNzOiBWQUxJREFUSU9OLkVSUk9SX0FDVElWRV9DTEFTU1xufSk7XG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgc3RhcnRMb2FkZXIoKTtcbiAgUHJvbWlzZS5hbGwoW2dldFVzZXIoKSwgZ2V0Q2FyZHMoKV0pXG4gICAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XG4gICAgICBzZXRQcm9maWxlQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XG4gICAgICBzZXRQcm9maWxlTmFtZSh1c2VyRGF0YS5uYW1lKTtcbiAgICAgIHNldFByb2ZpbGVPY2N1cGF0aW9uKHVzZXJEYXRhLmFib3V0KTtcbiAgICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB1c2VySWQpO1xuICAgICAgY2FyZHNcbiAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICAuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkQ2xvbmUgPSBjcmVhdGVDYXJkKGNhcmQsIHVzZXJJZCk7XG4gICAgICAgICAgcHJlcGVuZENhcmQoY2FyZENsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICBlbmRMb2FkZXIoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCAke2Vycm9yLnN0YXR1c30g0L/QvtC70YPRh9C10L3QuNGPINC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtS4gJHtlcnJvci5zdGF0dXNUZXh0fWApKTtcbn0pO1xuIl0sIm5hbWVzIjpbImNvbmZpZyIsImJhc2VVcmwiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIkxPQURFUiIsIkVWRU5UIiwiUFJPRklMRSIsIlBPUFVQIiwiRk9STSIsIkNBUkQiLCJjbG9zZVBvcHVwIiwicG9wdXAiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVQb3B1cEFjdGl2ZUNsYXNzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVBvcHVwTW91c2VFdmVudCIsImhhbmRsZVBvcHVwS2V5Ym9hcmRFdmVudCIsInJlbW92ZVBvcHVwRXZlbnRMaXN0ZW5lcnMiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZXN0Iiwia2V5Iiwib3BlblBvcHVwIiwiYWRkIiwiYWRkUG9wdXBBY3RpdmVDbGFzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRQb3B1cEV2ZW50TGlzdGVuZXJzIiwic2V0VGltZW91dCIsImZvY3VzIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImJ1dHRvbiIsImJ1dHRvblRleHQiLCJsb2FkaW5nVGV4dCIsInRleHRDb250ZW50IiwiaGFuZGxlU3VibWl0IiwicmVxdWVzdCIsIm1haW5FcnJvclRleHQiLCJwcmV2ZW50RGVmYXVsdCIsInBvcHVwRm9ybVN1Ym1pdEJ1dHRvbiIsInN1Ym1pdHRlciIsInRoZW4iLCJyZXNldCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImZpbmFsbHkiLCJjaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInVybCIsIm9wdGlvbnMiLCJjb21wdXRlZFVybCIsImZldGNoIiwiZGVsZXRlIiwiaGFzT3duZXJMaWtlIiwiY2FyZFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNhcmRzV3JhcHBlciIsInBvcHVwRGVsZXRlIiwicG9wdXBQaG90byIsInBvcHVwSW1hZ2UiLCJwb3B1cFRpdGxlIiwiY2FyZHMiLCJhZGRMaWtlQWN0aXZlQ2xhc3MiLCJlbCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUxpa2VBY3RpdmVDbGFzcyIsInNldENhcmRMaWtlcyIsIm51bWJlciIsInZhbHVlIiwidXBkYXRlT3duZXJzTGlrZSIsImxpa2VzQXJyYXkiLCJ1c2VySWQiLCJsZW5ndGgiLCJzb21lIiwibGlrZSIsIl9pZCIsImNyZWF0ZUNhcmQiLCJjYXJkIiwidGl0bGUiLCJjYXJkSXRlbSIsImNsb25lTm9kZSIsImNhcmRBcnRpY2xlIiwiY2FyZEltYWdlIiwiY2FyZFRpdGxlIiwiY2FyZExpa2VOdW1iZXIiLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmREZWxldGUiLCJsaWtlc0NvdW50IiwibGlrZXMiLCJwdXNoIiwibmFtZSIsImltYWdlIiwic2V0Q2FyZEltYWdlIiwibGluayIsImlkIiwiaW5pdGlhbExpa2VzIiwiY2FyZElkIiwiY3VycmVudCIsImZpbmQiLCJmaW5kQ3VycmVudENhcmQiLCJtZXRob2QiLCJoYXNBY3RpdmVDbGFzcyIsInRvZ2dsZUxpa2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYW5kbGVMaWtlQnV0dG9uIiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlUGhvdG9PdmVybGF5Iiwib3duZXIiLCJkZWxldGVDYXJkU2VydmljZSIsImNhcmRFbGVtZW50IiwicmVtb3ZlQ2FyZCIsImhhbmRsZURlbGV0ZVN1Ym1pdCIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsInByZXBlbmRDYXJkIiwicHJlcGVuZCIsImF2YXRhclBvcHVwIiwiYXZhdGFyUG9wdXBPcGVuQnV0dG9uIiwiYXZhdGFyUG9wdXBGb3JtIiwiZm9ybXMiLCJhdmF0YXJQb3B1cExpbmtJbnB1dCIsInByb2ZpbGVQb3B1cCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUF2YXRhciIsInByb2ZpbGVPY2N1cGF0aW9uIiwicHJvZmlsZVBvcHVwT3BlbkJ1dHRvbiIsInByb2ZpbGVQb3B1cEZvcm0iLCJwcm9maWxlUG9wdXBOYW1lSW5wdXQiLCJwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQiLCJjYXJkUG9wdXAiLCJjYXJkUG9wdXBPcGVuQnV0dG9uIiwiY2FyZFBvcHVwRm9ybSIsImNhcmRQb3B1cFRpdGxlSW5wdXQiLCJjYXJkUG9wdXBMaW5rSW5wdXQiLCJzZXRQcm9maWxlQXZhdGFyIiwic3JjIiwic2V0UHJvZmlsZU5hbWUiLCJzZXRQcm9maWxlT2NjdXBhdGlvbiIsIm9jY3VwYXRpb24iLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsImxvYWRlciIsInZhbGlkYXRpb25Db25maWciLCJjYXJkRGVsZXRlUG9wdXBGb3JtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZENsb25lIiwidXNlciIsImFib3V0IiwidXNlckRhdGEiLCJhdmF0YXIiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiYnV0dG9uU2VsZWN0b3IiLCJlcnJvclNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiYnV0dG9uRGlzYWJsZWRDbGFzcyIsImVycm9yQWN0aXZlQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImZvcm0iLCJmb3JtRWxlbWVudCIsImJ1dHRvbkluYWN0aXZlQ2xhc3MiLCJpbnB1dHNMaXN0IiwiZXJyb3JDbGFzcyIsImVycm9yRWxlbWVudCIsInBhcmVudE5vZGUiLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXRDdXN0b21WYWxpZGl0eSIsImRhdGFzZXQiLCJpbnZhbGlkTWVzc2FnZSIsImhpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwic2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImNoZWNrSW5wdXRWYWxpZGl0eSIsImFsbCIsInNldEl0ZW0iLCJyZXZlcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==