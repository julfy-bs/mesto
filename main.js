(()=>{"use strict";var e={baseUrl:"https://nomoreparties.co/v1/plus-cohort-19",headers:{authorization:"0f9e6763-ca59-4d6a-b788-b6c985602524","Content-Type":"application/json"}},t="loader_active",n="loader__skeleton",r="loader__skeleton_type_text",o="submit",c="mousedown",a=".form__button",s=".profile__name",u=".profile__occupation",i=".profile__avatar",l="popup_active",d="delete",f='[name="link"]',m="Сохранить",v="Сохранение...",p=".feed__item",_=".card__image",h=".card__like-button",y="card__like-button_active",b="card__like-button_liked_true",S=".card__delete";const L={delete:function(){}};var q,E,k=function(e){!function(e){e.classList.remove(l)}(e),function(e){e.removeEventListener(c,x),e.removeEventListener("keydown",C)}(e)},x=function(e){var t=e.target.closest(".popup");(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&k(t)},C=function(e){if("Escape"===e.key){var t=e.target.closest(".popup");k(t)}},g=function(e){!function(e){e.classList.add(l)}(e),function(e){e.addEventListener("mousedown",x),e.addEventListener("keydown",C)}(e),setTimeout((function(){return e.focus()}),200)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=e.querySelector(a);n.textContent=t},T=document.querySelector(".loader"),U=document.querySelector(s),D=document.querySelector(i),w=document.querySelector(u),N=function(e){return e.ok?(T.classList.remove(t),U.classList.remove(n),U.classList.remove(r),D.classList.remove(n),w.classList.remove(n),w.classList.remove(r),e.json()):Promise.reject("Ошибка!".concat(e.statusText," Код ошибки: ").concat(e.status,"."))},O=document.querySelector("#card").content.querySelector(p),P=document.querySelector(".feed__list"),I=document.querySelector(".popup_type_delete"),M=document.forms[d],j=document.querySelector(".popup_type_photo"),J=j.querySelector(".popup__image"),H=j.querySelector(".popup__figcaption"),V=[],z=function(e){e.classList.add(y),e.setAttribute("aria-label",'Убрать отметку "Понравилось"')},B=function(e){e.classList.remove(y),e.setAttribute("aria-label",'Добавить отметку "Понравилось"')},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"number"!=typeof n&&console.error("Значение количества лайков карточки должно быть числом"),0===n?(e.classList.remove(b),t.textContent=""):(e.classList.add(b),t.textContent=n)},G=function(e,t){q=0!==e.length&&e.some((function(e){return e._id===t}))},K=function(t,n,r,o,c){var a,s=function(e){return V.find((function(t){return t._id===e}))}(r);switch(G(s.likes,c),t.setAttribute("disabled","disabled"),q){case!0:(a=r,fetch("".concat(e.baseUrl,"/cards/likes/").concat(a),{method:"DELETE",headers:e.headers}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления лайка карточки. ").concat(e.statusText))}))).then((function(e){G(e.likes,c),s.likes=e.likes})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления лайка карточки: ").concat(e.statusText))})).finally((function(){return t.removeAttribute("disabled","disabled")}));break;case!1:(function(t){return fetch("".concat(e.baseUrl,"/cards/likes/").concat(t),{method:"PUT",headers:e.headers}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," добавления лайка карточки. ").concat(e.statusText))}))})(r).then((function(e){G(e.likes,c),s.likes=e.likes})).catch((function(e){return console.error("Ошибка ".concat(e.status," добавления лайка карточки: ").concat(e.statusText))})).finally((function(){return t.removeAttribute("disabled","disabled")}))}var u=Number(n.textContent),i=t.classList.contains(y);i?function(e,t,n){var r=n-1;"number"!=typeof n?console.error("Значение количества лайков карточки должно быть числом"):F(e,t,r)}(t,n,u):function(e,t,n){var r=n+1;"number"!=typeof n?console.error("Значение количества лайков карточки должно быть числом"):F(e,t,r)}(t,n,u),function(e,t){switch(t){case!0:B(e);break;case!1:z(e)}}(t,i)},Q=function(e,t){g(j),H.textContent=t.textContent,J.setAttribute("src",e.getAttribute("src")),J.setAttribute("alt",e.getAttribute("alt"))},R=function(t,n){L.delete=function(){return function(t,n){A(M,"Удаление...");var r=t.closest(p),o=r.querySelector(_),c=r.querySelector(h),a=r.querySelector(S);(function(t){return fetch("".concat(e.baseUrl,"/cards/").concat(t),{method:"DELETE",headers:e.headers}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления карточки. ").concat(e.statusText))}))})(n).then((function(){return r.remove()})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления карточки: ").concat(e.statusText))})).finally((function(){k(I),W(o,a,c),A(M,"Удалить")}))}(t,n)},g(I)},W=function(e,t,n){e.removeEventListener(c,Q),t.removeEventListener(c,R),n.removeEventListener(c,K)},X=function(e,t){var n,r,o=O.cloneNode(!0),a=o.querySelector(".card"),s=a.querySelector(_),u=a.querySelector(".card__title"),i=a.querySelector(".card__like-number"),l=a.querySelector(h),d=a.querySelector(S),f=e.likes.length>0?e.likes.length:0;return V.push(e),G(e.likes,t),n=u,r=e.name,n.textContent=r,function(e,t,n){e.setAttribute("src",n),e.setAttribute("alt",t)}(s,e.name,e.link),F(l,i,f),q?z(l):B(l),l.addEventListener(c,(function(){return K(l,i,e._id,e.likes,t)})),s.addEventListener(c,(function(){return Q(s,u)})),e.owner._id===t?d.addEventListener(c,(function(t){var n=t.target;return R(n,e._id)})):d.remove(),o},Y=function(e){P.prepend(e)},Z=document.querySelector(".popup_type_avatar"),$=document.querySelector(i),ee=document.forms.avatar,te=ee.querySelector(f),ne=document.querySelector(".popup_type_edit"),re=document.querySelector(s),oe=document.querySelector(".profile__image"),ce=document.querySelector(u),ae=document.querySelector(".profile__edit"),se=document.forms.profile,ue=se.querySelector('[name="name"]'),ie=se.querySelector('[name="occupation"]'),le=document.querySelector(".popup_type_add"),de=document.querySelector(".profile__add"),fe=document.forms.card,me=fe.querySelector('[name="title"]'),ve=fe.querySelector(f),pe=function(e){oe.setAttribute("src",e)},_e=function(e){re.textContent=e},he=function(e){ce.textContent=e},ye=function(e,t,n){e.some((function(e){return!e.validity.valid}))?(t.classList.add(n),t.setAttribute("disabled","disabled")):(t.classList.remove(n),t.removeAttribute("disabled","disabled"))},be=document.forms[d],Se=localStorage.getItem("userId")||null;de.addEventListener(c,(function(){g(le)})),fe.addEventListener(o,(function(t){return function(t){var n,r,o;t.preventDefault(),A(fe,"Создание..."),(n={name:me.value,link:ve.value},r=n.name,o=n.link,fetch("".concat(e.baseUrl,"/cards"),{method:"POST",headers:e.headers,body:JSON.stringify({name:r,link:o})}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," добавления карточки. ").concat(e.statusText))}))).then((function(e){var t=X(e,e.owner._id);Y(t)})).catch((function(e){return console.error("Ошибка ".concat(e.status," cоздания карточки: ").concat(e.statusText))})).finally((function(){k(le),fe.reset(),A(fe,"Создать")}))}(t)})),ae.addEventListener(c,(function(){return g(ne),ue.value=re.textContent,void(ie.value=ce.textContent)})),se.addEventListener(o,(function(t){return function(t){var n,r,o;t.preventDefault(),A(se),_e(ue.value),he(ie.value),(n={name:ue.value,about:ie.value},r=n.name,o=n.about,fetch("".concat(e.baseUrl,"/users/me"),{method:"PATCH",headers:e.headers,body:JSON.stringify({name:r,about:o})}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," обновления информации пользователя. ").concat(e.statusText))}))).then((function(e){_e(e.name),he(e.about)})).catch((function(e){return console.error("Ошибка ".concat(e.status," редактирования информации профиля: ").concat(e.statusText))})).finally((function(){se.reset(),A(se,m),k(ne)}))}(t)})),$.addEventListener(c,(function(){g(Z)})),ee.addEventListener(o,(function(t){return function(t){var n;t.preventDefault(),A(ee),(n=te.value,fetch("".concat(e.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:e.headers,body:JSON.stringify({avatar:n})}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," обновления аватара пользователя. ").concat(e.statusText))}))).then((function(e){pe(e.avatar)})).catch((function(e){return console.error("Ошибка ".concat(e.status," изменения аватара пользователя: ").concat(e.statusText))})).finally((function(){ee.reset(),A(ee,m),k(Z)}))}(t)})),be.addEventListener(o,(function(e){e.preventDefault(),"function"==typeof L.delete&&L.delete()})),E={formSelector:".form",inputSelector:".form__input",buttonSelector:a,errorSelector:".form__error",inputErrorClass:"form__input_type_error",buttonDisabledClass:"form__button_type_disabled",errorActiveClass:"form__error_active"},Array.from(document.querySelectorAll(E.formSelector)).forEach((function(e){return t=e,n=E.inputSelector,r=E.buttonSelector,o=E.errorSelector,c=E.inputErrorClass,a=E.buttonDisabledClass,s=E.errorActiveClass,u=Array.from(t.querySelectorAll(n)),i=t.querySelector(r),ye(u,i,a),u.forEach((function(e){e.addEventListener("input",(function(){!function(e,t,n,r,o){var c=t.parentNode.querySelector(n);t.validity.patternMismatch?t.setCustomValidity(t.dataset.invalidMessage):t.setCustomValidity(""),t.validity.valid?function(e,t,n,r,o){n.classList.remove(o),n.textContent="",t.classList.remove(r),t.removeAttribute("aria-describedby")}(0,t,c,r,o):function(e,t,n,r,o,c){n.textContent=r,n.classList.add(c),t.classList.add(o),t.setAttribute("aria-describedby","".concat(c))}(0,t,c,t.validationMessage,r,o)}(0,e,o,c,s),ye(u,i,a)}))})),void t.addEventListener("reset",(function(){setTimeout((function(){return ye(u,i,a)}),0)}));var t,n,r,o,c,a,s,u,i})),document.addEventListener("DOMContentLoaded",(function(){T.classList.add(t),U.classList.add(n),U.classList.add(r),D.classList.add(n),w.classList.add(n),w.classList.add(r),fetch("".concat(e.baseUrl,"/users/me"),{headers:e.headers}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," получения информации о пользователе. ").concat(e.statusText))})).then((function(e){pe(e.avatar),_e(e.name),he(e.about),Se=e._id,localStorage.setItem("userId",Se)})),fetch("".concat(e.baseUrl,"/cards"),{headers:e.headers}).then((function(e){return N(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," получения информации о карточках. ").concat(e.statusText))})).then((function(e){e.reverse().forEach((function(e){var t=X(e,Se);Y(t)}))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBS0QsT0FDMUJoRyxHQUFTaUcsRUFBSzdGLElBQ2RtRixhQUFhd0MsUUFBUSxTQUFVL0gsR0FDakMsSUZoQm1CYyxNQUFNLEdBQUQsT0FBSTFGLEVBQU9DLFFBQU8sVUFBVSxDQUN0REMsUUFBU0YsRUFBT0UsVUFFZjBGLE1BQUssU0FBQzdDLEdBQUcsT0FBS0QsRUFBUUMsRUFBSSxJQUMxQjhDLE9BQU0sU0FBQ3BCLEdBQUssT0FBS0QsUUFBUUMsTUFBTSxVQUFELE9BQVdBLEVBQU1wQixPQUFNLDhDQUFzQ29CLEVBQU1yQixZQUFhLElFYzVHd0MsTUFBSyxTQUFDN0IsR0FDTEEsRUFDRzZJLFVBQ0FqQixTQUFRLFNBQUFwRyxHQUNQLElBQU1rRixFQUFZakQsRUFBV2pDLEVBQU1YLElBQ25DMEQsRUFBWW1DLEVBQ2QsR0FDSixHQUNKLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvZW51bS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvZGVsZXRlQ2FyZFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL3BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9jYXJkLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL2FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbmZpZyA9IHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9wbHVzLWNvaG9ydC0xOScsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnMGY5ZTY3NjMtY2E1OS00ZDZhLWI3ODgtYjZjOTg1NjAyNTI0JyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB9LFxufTtcblxuY29uc3QgTE9BREVSID0ge1xuICBTRUxFQ1RPUjogJy5sb2FkZXInLFxuICBBQ1RJVkVfQ0xBU1M6ICdsb2FkZXJfYWN0aXZlJyxcbiAgU0tFTEVUT046ICdsb2FkZXJfX3NrZWxldG9uJyxcbiAgU0tFTEVUT05fVEVYVDogJ2xvYWRlcl9fc2tlbGV0b25fdHlwZV90ZXh0J1xufVxuXG5jb25zdCBLRVkgPSB7XG4gIEVTQ0FQRTogJ0VzY2FwZSdcbn07XG5cbmNvbnN0IEVWRU5UID0ge1xuICBTVUJNSVQ6ICdzdWJtaXQnLFxuICBLRVlET1dOOiAna2V5ZG93bicsXG4gIE1PVVNFRE9XTjogJ21vdXNlZG93bicsXG4gIE1PVVNFVVA6ICdtb3VzZXVwJ1xufVxuXG5jb25zdCBWQUxJREFUSU9OID0ge1xuICBGT1JNX1NFTEVDVE9SOiAnLmZvcm0nLFxuICBJTlBVVF9TRUxFQ1RPUjogJy5mb3JtX19pbnB1dCcsXG4gIElOUFVUX0VSUk9SX0NMQVNTOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIEJVVFRPTl9TRUxFQ1RPUjogJy5mb3JtX19idXR0b24nLFxuICBCVVRUT05fRElTQUJMRURfQ0xBU1M6ICdmb3JtX19idXR0b25fdHlwZV9kaXNhYmxlZCcsXG4gIEVSUk9SX1NFTEVDVE9SOiAnLmZvcm1fX2Vycm9yJyxcbiAgRVJST1JfQUNUSVZFX0NMQVNTOiAnZm9ybV9fZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgUFJPRklMRSA9IHtcbiAgQ09OVEVOVF9OQU1FOiAnLnByb2ZpbGVfX25hbWUnLFxuICBDT05URU5UX09DQ1VQQVRJT046ICcucHJvZmlsZV9fb2NjdXBhdGlvbicsXG4gIENPTlRFTlRfQVZBVEFSOiAnLnByb2ZpbGVfX2ltYWdlJyxcbiAgQlVUVE9OX0VESVRfUFJPRklMRTogJy5wcm9maWxlX19lZGl0JyxcbiAgQlVUVE9OX0FERF9DQVJEOiAnLnByb2ZpbGVfX2FkZCcsXG4gIEFWQVRBUjogJy5wcm9maWxlX19hdmF0YXInLFxufTtcblxuY29uc3QgUE9QVVAgPSB7XG4gIENMQVNTTkFNRTogJ3BvcHVwJyxcbiAgQ0xPU0VfQ0xBU1NOQU1FOiAncG9wdXBfX2Nsb3NlJyxcbiAgQUNUSVZFX0NMQVNTOiAncG9wdXBfYWN0aXZlJyxcbiAgQU5JTUFUSU9OX0RVUkFUSU9OOiAyMDAsXG4gIFRZUEVfUFJPRklMRTogJy5wb3B1cF90eXBlX2VkaXQnLFxuICBUWVBFX0NBUkQ6ICcucG9wdXBfdHlwZV9hZGQnLFxuICBUWVBFX1BIT1RPOiAnLnBvcHVwX3R5cGVfcGhvdG8nLFxuICBUWVBFX0FWQVRBUjogJy5wb3B1cF90eXBlX2F2YXRhcicsXG4gIFRZUEVfREVMRVRFOiAnLnBvcHVwX3R5cGVfZGVsZXRlJyxcbiAgSU1BR0U6ICcucG9wdXBfX2ltYWdlJyxcbiAgVElUTEU6ICcucG9wdXBfX2ZpZ2NhcHRpb24nLFxufTtcblxuY29uc3QgRk9STSA9IHtcbiAgU0VMRUNUT1I6ICcuZm9ybScsXG4gIE5BTUVfUFJPRklMRTogJ3Byb2ZpbGUnLFxuICBOQU1FX0NBUkQ6ICdjYXJkJyxcbiAgTkFNRV9ERUxFVEU6ICdkZWxldGUnLFxuICBOQU1FX0FWQVRBUjogJ2F2YXRhcicsXG4gIElOUFVUX1RJVExFOiAnW25hbWU9XCJ0aXRsZVwiXScsXG4gIElOUFVUX0xJTks6ICdbbmFtZT1cImxpbmtcIl0nLFxuICBJTlBVVF9OQU1FOiAnW25hbWU9XCJuYW1lXCJdJyxcbiAgSU5QVVRfT0NDVVBBVElPTjogJ1tuYW1lPVwib2NjdXBhdGlvblwiXScsXG4gIEJVVFRPTl9URVhUX1NBVkU6ICfQodC+0YXRgNCw0L3QuNGC0YwnLFxuICBCVVRUT05fVEVYVF9DUkVBVEU6ICfQodC+0LfQtNCw0YLRjCcsXG4gIEJVVFRPTl9URVhUX0NSRUFUSU5HOiAn0KHQvtC30LTQsNC90LjQtS4uLicsXG4gIEJVVFRPTl9URVhUX1NBVklORzogJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyxcbiAgQlVUVE9OX1RFWFRfREVMRVRFOiAn0KPQtNCw0LvQuNGC0YwnLFxuICBCVVRUT05fVEVYVF9ERUxFVElORzogJ9Cj0LTQsNC70LXQvdC40LUuLi4nLFxufTtcblxuY29uc3QgQ0FSRCA9IHtcbiAgV1JBUFBFUjogJy5mZWVkX19saXN0JyxcbiAgVEVNUExBVEU6ICcjY2FyZCcsXG4gIElURU06ICcuZmVlZF9faXRlbScsXG4gIElURU1fQ0xBU1NOQU1FOiAnZmVlZF9faXRlbScsXG4gIEFSVElDTEU6ICcuY2FyZCcsXG4gIElNQUdFOiAnLmNhcmRfX2ltYWdlJyxcbiAgVElUTEU6ICcuY2FyZF9fdGl0bGUnLFxuICBMSUtFX0JVVFRPTjogJy5jYXJkX19saWtlLWJ1dHRvbicsXG4gIExJS0VfTlVNQkVSOiAnLmNhcmRfX2xpa2UtbnVtYmVyJyxcbiAgTElLRV9CVVRUT05fQUNUSVZFOiAnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyxcbiAgTElLRV9CVVRUT05fSVNfTElLRUQ6ICdjYXJkX19saWtlLWJ1dHRvbl9saWtlZF90cnVlJyxcbiAgREVMRVRFOiAnLmNhcmRfX2RlbGV0ZSdcbn07XG5cbmV4cG9ydCB7XG4gIENBUkQsXG4gIEVWRU5ULFxuICBLRVksXG4gIEZPUk0sXG4gIFBPUFVQLFxuICBQUk9GSUxFLFxuICBMT0FERVIsXG4gIFZBTElEQVRJT04sXG4gIGNvbmZpZ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgZGVsZXRlOiAoKSA9PiB7fSxcbn1cbiIsImltcG9ydCB7IEVWRU5ULCBGT1JNLCBLRVksIFBPUFVQLCBWQUxJREFUSU9OIH0gZnJvbSAnLi9lbnVtLmpzJztcbmltcG9ydCBkZWxldGVDYXJkU2VydmljZSBmcm9tICcuL2RlbGV0ZUNhcmRTZXJ2aWNlLmpzJztcblxuY29uc3QgYWRkUG9wdXBBY3RpdmVDbGFzcyA9IChwb3B1cCkgPT4ge1xuICBwb3B1cC5jbGFzc0xpc3QuYWRkKFBPUFVQLkFDVElWRV9DTEFTUyk7XG59O1xuXG5jb25zdCByZW1vdmVQb3B1cEFjdGl2ZUNsYXNzID0gKHBvcHVwKSA9PiB7XG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoUE9QVVAuQUNUSVZFX0NMQVNTKTtcbn07XG5cbmNvbnN0IGNsb3NlUG9wdXAgPSAocG9wdXApID0+IHtcbiAgcmVtb3ZlUG9wdXBBY3RpdmVDbGFzcyhwb3B1cCk7XG4gIHJlbW92ZVBvcHVwRXZlbnRMaXN0ZW5lcnMocG9wdXApO1xufTtcblxuY29uc3QgaGFuZGxlUG9wdXBNb3VzZUV2ZW50ID0gKGUpID0+IHtcbiAgY29uc3QgcG9wdXAgPSBlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcbiAgY29uc3QgY2xvc2VDb25kaXRpb24gPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoUE9QVVAuQ0xBU1NOQU1FKVxuICAgIHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhQT1BVUC5DTE9TRV9DTEFTU05BTUUpO1xuICBpZiAoY2xvc2VDb25kaXRpb24pIGNsb3NlUG9wdXAocG9wdXApO1xufTtcblxuY29uc3QgaGFuZGxlUG9wdXBLZXlib2FyZEV2ZW50ID0gKGUpID0+IHtcbiAgaWYgKGUua2V5ID09PSBLRVkuRVNDQVBFKSB7XG4gICAgY29uc3QgcG9wdXAgPSBlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcbiAgICBjbG9zZVBvcHVwKHBvcHVwKTtcbiAgfVxufTtcblxuY29uc3Qgb3BlblBvcHVwID0gKHBvcHVwKSA9PiB7XG4gIGFkZFBvcHVwQWN0aXZlQ2xhc3MocG9wdXApO1xuICBhZGRQb3B1cEV2ZW50TGlzdGVuZXJzKHBvcHVwKTtcbiAgc2V0VGltZW91dCgoKSA9PiBwb3B1cC5mb2N1cygpLCBQT1BVUC5BTklNQVRJT05fRFVSQVRJT04pO1xufTtcblxuY29uc3QgY2hhbmdlQnV0dG9uVGV4dCA9IChmb3JtLCB0ZXh0ID0gRk9STS5CVVRUT05fVEVYVF9TQVZJTkcpID0+IHtcbiAgY29uc3Qgc3VibWl0QnV0dG9uVGV4dCA9IGZvcm0ucXVlcnlTZWxlY3RvcihWQUxJREFUSU9OLkJVVFRPTl9TRUxFQ1RPUik7XG4gIHN1Ym1pdEJ1dHRvblRleHQudGV4dENvbnRlbnQgPSB0ZXh0O1xufTtcblxuY29uc3QgYWRkRGVsZXRlUG9wdXBTdWJtaXRMaXN0ZW5lciA9IChmb3JtKSA9PiB7XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihFVkVOVC5TVUJNSVQsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0eXBlb2YgZGVsZXRlQ2FyZFNlcnZpY2UuZGVsZXRlID09PSAnZnVuY3Rpb24nKSBkZWxldGVDYXJkU2VydmljZS5kZWxldGUoKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBhZGRQb3B1cEV2ZW50TGlzdGVuZXJzKHBvcHVwKSB7XG4gIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZVBvcHVwTW91c2VFdmVudCk7XG4gIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVQb3B1cEtleWJvYXJkRXZlbnQpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVQb3B1cEV2ZW50TGlzdGVuZXJzKHBvcHVwKSB7XG4gIHBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCBoYW5kbGVQb3B1cE1vdXNlRXZlbnQpO1xuICBwb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKEVWRU5ULktFWURPV04sIGhhbmRsZVBvcHVwS2V5Ym9hcmRFdmVudCk7XG59XG5cbmV4cG9ydCB7XG4gIGNsb3NlUG9wdXAsXG4gIG9wZW5Qb3B1cCxcbiAgY2hhbmdlQnV0dG9uVGV4dCxcbiAgYWRkRGVsZXRlUG9wdXBTdWJtaXRMaXN0ZW5lclxufTtcbiIsImltcG9ydCB7IGNoYW5nZUJ1dHRvblRleHQsIGNsb3NlUG9wdXAsIG9wZW5Qb3B1cCB9IGZyb20gJy4vcG9wdXAuanMnO1xuaW1wb3J0IHsgUE9QVVAsIENBUkQsIEZPUk0sIEVWRU5UIH0gZnJvbSAnLi9lbnVtLmpzJztcbmltcG9ydCB7IGFkZENhcmRMaWtlLCBkZWxldGVDYXJkTGlrZSwgcmVtb3ZlQ2FyZCB9IGZyb20gJy4vYXBpLmpzJztcbmltcG9ydCBkZWxldGVDYXJkU2VydmljZSBmcm9tICcuL2RlbGV0ZUNhcmRTZXJ2aWNlLmpzJztcblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihDQVJELlRFTVBMQVRFKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5JVEVNKTtcbmNvbnN0IGNhcmRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5XUkFQUEVSKTtcbmNvbnN0IHBvcHVwRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5UWVBFX0RFTEVURSk7XG5jb25zdCBwb3B1cERlbGV0ZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tGT1JNLk5BTUVfREVMRVRFXTtcbmNvbnN0IHBvcHVwUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBPUFVQLlRZUEVfUEhPVE8pO1xuY29uc3QgcG9wdXBJbWFnZSA9IHBvcHVwUGhvdG8ucXVlcnlTZWxlY3RvcihQT1BVUC5JTUFHRSk7XG5jb25zdCBwb3B1cFRpdGxlID0gcG9wdXBQaG90by5xdWVyeVNlbGVjdG9yKFBPUFVQLlRJVExFKTtcbmxldCBoYXNPd25lckxpa2U7XG5jb25zdCBjYXJkcyA9IFtdO1xuXG5jb25zdCBzZXRDYXJkTmFtZSA9IChlbCwgdGl0bGUpID0+IHtcbiAgZWwudGV4dENvbnRlbnQgPSB0aXRsZTtcbn07XG5cbmNvbnN0IHNldENhcmRJbWFnZSA9IChlbCwgdGl0bGUsIGltYWdlKSA9PiB7XG4gIGVsLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1hZ2UpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRpdGxlKTtcbn07XG5cbmNvbnN0IGFkZExpa2VBY3RpdmVDbGFzcyA9IChlbCkgPT4ge1xuICBlbC5jbGFzc0xpc3QuYWRkKENBUkQuTElLRV9CVVRUT05fQUNUSVZFKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ9Cj0LHRgNCw0YLRjCDQvtGC0LzQtdGC0LrRgyBcXFwi0J/QvtC90YDQsNCy0LjQu9C+0YHRjFxcXCInKTtcbn07XG5cbmNvbnN0IHJlbW92ZUxpa2VBY3RpdmVDbGFzcyA9IChlbCkgPT4ge1xuICBlbC5jbGFzc0xpc3QucmVtb3ZlKENBUkQuTElLRV9CVVRUT05fQUNUSVZFKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ9CU0L7QsdCw0LLQuNGC0Ywg0L7RgtC80LXRgtC60YMgXFxcItCf0L7QvdGA0LDQstC40LvQvtGB0YxcXFwiJyk7XG59O1xuXG5jb25zdCB0b2dnbGVMaWtlID0gKGVsLCBoYXNBY3RpdmVDbGFzcykgPT4ge1xuICBzd2l0Y2ggKGhhc0FjdGl2ZUNsYXNzKSB7XG4gICAgY2FzZSB0cnVlOlxuICAgICAgcmVtb3ZlTGlrZUFjdGl2ZUNsYXNzKGVsKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZmFsc2U6XG4gICAgICBhZGRMaWtlQWN0aXZlQ2xhc3MoZWwpO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbmNvbnN0IGNoZWNrTGlrZUJ1dHRvbkFjdGl2ZUNsYXNzID0gKGVsKSA9PiB7XG4gIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoQ0FSRC5MSUtFX0JVVFRPTl9BQ1RJVkUpO1xufTtcblxuY29uc3Qgc2V0Q2FyZExpa2VzID0gKGJ1dHRvbiwgbnVtYmVyLCB2YWx1ZSA9IDApID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIGNvbnNvbGUuZXJyb3IoJ9CX0L3QsNGH0LXQvdC40LUg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyINC60LDRgNGC0L7Rh9C60Lgg0LTQvtC70LbQvdC+INCx0YvRgtGMINGH0LjRgdC70L7QvCcpO1xuICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSAwOlxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoQ0FSRC5MSUtFX0JVVFRPTl9JU19MSUtFRCk7XG4gICAgICBudW1iZXIudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChDQVJELkxJS0VfQlVUVE9OX0lTX0xJS0VEKTtcbiAgICAgIG51bWJlci50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbmNvbnN0IGdldENhcmRMaWtlcyA9IChlbCkgPT4ge1xuICByZXR1cm4gTnVtYmVyKGVsLnRleHRDb250ZW50KTtcbn07XG5cbmNvbnN0IGluY3JlYXNlQ2FyZExpa2VzID0gKGJ1dHRvbiwgbnVtYmVyLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBpbmNyZWFzZWRWYWx1ZSA9IHZhbHVlICsgMTtcbiAgdHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJ1xuICAgID8gY29uc29sZS5lcnJvcign0JfQvdCw0YfQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQu9Cw0LnQutC+0LIg0LrQsNGA0YLQvtGH0LrQuCDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0YfQuNGB0LvQvtC8JylcbiAgICA6IHNldENhcmRMaWtlcyhidXR0b24sIG51bWJlciwgaW5jcmVhc2VkVmFsdWUpO1xufTtcblxuY29uc3QgZGVjcmVhc2VDYXJkTGlrZXMgPSAoYnV0dG9uLCBudW1iZXIsIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGRlY3JlYXNlZFZhbHVlID0gdmFsdWUgLSAxO1xuICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXG4gICAgPyBjb25zb2xlLmVycm9yKCfQl9C90LDRh9C10L3QuNC1INC60L7Qu9C40YfQtdGB0YLQstCwINC70LDQudC60L7QsiDQutCw0YDRgtC+0YfQutC4INC00L7Qu9C20L3QviDQsdGL0YLRjCDRh9C40YHQu9C+0LwnKVxuICAgIDogc2V0Q2FyZExpa2VzKGJ1dHRvbiwgbnVtYmVyLCBkZWNyZWFzZWRWYWx1ZSk7XG59O1xuXG5jb25zdCB1cGRhdGVPd25lcnNMaWtlID0gKGxpa2VzQXJyYXksIHVzZXJJZCkgPT4ge1xuICBzd2l0Y2ggKGxpa2VzQXJyYXkubGVuZ3RoKSB7XG4gICAgY2FzZSAwOlxuICAgICAgaGFzT3duZXJMaWtlID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaGFzT3duZXJMaWtlID0gbGlrZXNBcnJheS5zb21lKGxpa2UgPT4gbGlrZS5faWQgPT09IHVzZXJJZCk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgZmluZEN1cnJlbnRDYXJkID0gKGlkKSA9PiB7XG4gIHJldHVybiBjYXJkcy5maW5kKGNhcmQgPT4gY2FyZC5faWQgPT09IGlkKTtcbn07XG5cbmNvbnN0IGhhbmRsZUxpa2VCdXR0b24gPSAoYnV0dG9uLCBudW1iZXIsIGlkLCBpbml0aWFsTGlrZXMsIHVzZXJJZCkgPT4ge1xuICBjb25zdCBjdXJyZW50ID0gZmluZEN1cnJlbnRDYXJkKGlkKTtcbiAgdXBkYXRlT3duZXJzTGlrZShjdXJyZW50Lmxpa2VzLCB1c2VySWQpO1xuICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICBzd2l0Y2ggKGhhc093bmVyTGlrZSkge1xuICAgIGNhc2UgdHJ1ZTpcbiAgICAgIGRlbGV0ZUNhcmRMaWtlKGlkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgdXBkYXRlT3duZXJzTGlrZShyZXMubGlrZXMsIHVzZXJJZCk7XG4gICAgICAgICAgLypcbiAgICAgICAgICAgINCf0L7QvdC40LzQsNGOLCDRh9GC0L4g0YDQtdGI0LXQvdC40LUg0LzRg9GC0LjRgNC+0LLQsNGC0Ywg0LjRgdGF0L7QtNC90YvQuSDQvNCw0YHRgdC40LIgLSDQvdC1INC70YPRh9GI0LXQtSwg0L3QviDRjyDQvdC1INC30L3QsNGOINC60LDQuiDQtdGJ0LUg0LzQvtC20L3QviDRhdGA0LDQvdC40YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQutCw0LbQtNC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQsdC10Lcg0YHRgtC+0YDQsCDQuNC70Lgg0LrQu9Cw0YHRgdC+0LIuXG4gICAgICAgICAgICArXG4gICAgICAgICAgICDQndC1INC/0L7Qu9GD0YfQsNC10YLRgdGPINC40YHQv9GA0LDQstC40YLRjCDQsdCw0LM6INC/0YDQuCDQvNC90L7QttC10YHRgtCy0LXQvdC90L7QvCDQvdCw0LbQsNGC0LjQuCDQvdCwINC70LDQudC6LCDRgdC+0YHRgtC+0Y/QvdC40LUg0LvQsNC50LrQsCDQvdC1INCy0YHQtdCz0LTQsCDQvtGC0L/RgNCw0LLQu9GP0LXRgtGB0Y8g0L3QsCDRgdC10YDQstC10YAuXG4gICAgICAgICAgKi9cbiAgICAgICAgICBjdXJyZW50Lmxpa2VzID0gcmVzLmxpa2VzO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INGD0LTQsNC70LXQvdC40Y8g0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4OiAke2Vycm9yLnN0YXR1c1RleHR9YCkpXG4gICAgICAgIC5maW5hbGx5KCgpID0+IGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBmYWxzZTpcbiAgICAgIGFkZENhcmRMaWtlKGlkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgdXBkYXRlT3duZXJzTGlrZShyZXMubGlrZXMsIHVzZXJJZCk7XG4gICAgICAgICAgY3VycmVudC5saWtlcyA9IHJlcy5saWtlcztcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDQtNC+0LHQsNCy0LvQtdC90LjRjyDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4gYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKSk7XG4gICAgICBicmVhaztcbiAgfVxuICBjb25zdCB2YWx1ZSA9IGdldENhcmRMaWtlcyhudW1iZXIpO1xuICBjb25zdCBoYXNBY3RpdmVDbGFzcyA9IGNoZWNrTGlrZUJ1dHRvbkFjdGl2ZUNsYXNzKGJ1dHRvbik7XG4gIGhhc0FjdGl2ZUNsYXNzID8gZGVjcmVhc2VDYXJkTGlrZXMoYnV0dG9uLCBudW1iZXIsIHZhbHVlKSA6IGluY3JlYXNlQ2FyZExpa2VzKGJ1dHRvbiwgbnVtYmVyLCB2YWx1ZSk7XG4gIHRvZ2dsZUxpa2UoYnV0dG9uLCBoYXNBY3RpdmVDbGFzcyk7XG59O1xuXG5jb25zdCBoYW5kbGVQaG90b092ZXJsYXkgPSAoY2FyZEltYWdlLCBjYXJkVGl0bGUpID0+IHtcbiAgb3BlblBvcHVwKHBvcHVwUGhvdG8pO1xuICBwb3B1cFRpdGxlLnRleHRDb250ZW50ID0gY2FyZFRpdGxlLnRleHRDb250ZW50O1xuICBwb3B1cEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgY2FyZEltYWdlLmdldEF0dHJpYnV0ZSgnc3JjJykpO1xuICBwb3B1cEltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgY2FyZEltYWdlLmdldEF0dHJpYnV0ZSgnYWx0JykpO1xufTtcblxuY29uc3QgaGFuZGxlRGVsZXRlQnV0dG9uID0gKHRhcmdldCwgY2FyZElkKSA9PiB7XG4gIGRlbGV0ZUNhcmRTZXJ2aWNlLmRlbGV0ZSA9ICgpID0+IGhhbmRsZURlbGV0ZVN1Ym1pdCh0YXJnZXQsIGNhcmRJZCk7XG4gIG9wZW5Qb3B1cChwb3B1cERlbGV0ZSk7XG59O1xuXG5jb25zdCByZW1vdmVDYXJkTGlzdGVuZXJzID0gKHBob3RvT3ZlcmxheSwgZGVsZXRlQnV0dG9uLCBsaWtlQnV0dG9uKSA9PiB7XG4gIHBob3RvT3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKEVWRU5ULk1PVVNFRE9XTiwgaGFuZGxlUGhvdG9PdmVybGF5KTtcbiAgZGVsZXRlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCBoYW5kbGVEZWxldGVCdXR0b24pO1xuICBsaWtlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCBoYW5kbGVMaWtlQnV0dG9uKTtcbn07XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdCh0YXJnZXQsIGNhcmRJZCkge1xuICBjaGFuZ2VCdXR0b25UZXh0KHBvcHVwRGVsZXRlRm9ybSwgRk9STS5CVVRUT05fVEVYVF9ERUxFVElORyk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gdGFyZ2V0LmNsb3Nlc3QoQ0FSRC5JVEVNKTtcbiAgY29uc3QgY2FyZFBob3RvT3ZlcmxheSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5JTUFHRSk7XG4gIGNvbnN0IGNhcmRMaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihDQVJELkxJS0VfQlVUVE9OKTtcbiAgY29uc3QgY2FyZERlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5ERUxFVEUpO1xuXG4gIHJlbW92ZUNhcmQoY2FyZElkKVxuICAgIC50aGVuKCgpID0+IGNhcmRFbGVtZW50LnJlbW92ZSgpKVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCAke2Vycm9yLnN0YXR1c30g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4OiAke2Vycm9yLnN0YXR1c1RleHR9YCkpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY2xvc2VQb3B1cChwb3B1cERlbGV0ZSk7XG4gICAgICByZW1vdmVDYXJkTGlzdGVuZXJzKGNhcmRQaG90b092ZXJsYXksIGNhcmREZWxldGVCdXR0b24sIGNhcmRMaWtlQnV0dG9uKTtcbiAgICAgIGNoYW5nZUJ1dHRvblRleHQocG9wdXBEZWxldGVGb3JtLCBGT1JNLkJVVFRPTl9URVhUX0RFTEVURSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZCwgdXNlcklkKSA9PiB7XG4gIGNvbnN0IGNhcmRJdGVtID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZEFydGljbGUgPSBjYXJkSXRlbS5xdWVyeVNlbGVjdG9yKENBUkQuQVJUSUNMRSk7XG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5JTUFHRSk7XG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5USVRMRSk7XG4gIGNvbnN0IGNhcmRMaWtlTnVtYmVyID0gY2FyZEFydGljbGUucXVlcnlTZWxlY3RvcihDQVJELkxJS0VfTlVNQkVSKTtcbiAgY29uc3QgY2FyZExpa2VCdXR0b24gPSBjYXJkQXJ0aWNsZS5xdWVyeVNlbGVjdG9yKENBUkQuTElLRV9CVVRUT04pO1xuICBjb25zdCBjYXJkRGVsZXRlID0gY2FyZEFydGljbGUucXVlcnlTZWxlY3RvcihDQVJELkRFTEVURSk7XG4gIGNvbnN0IGNhcmRMaWtlc0RlZmF1bHRWYWx1ZSA9IDA7XG4gIGNvbnN0IGxpa2VzQ291bnQgPSBjYXJkLmxpa2VzLmxlbmd0aCA+IDAgPyBjYXJkLmxpa2VzLmxlbmd0aCA6IGNhcmRMaWtlc0RlZmF1bHRWYWx1ZTtcbiAgY2FyZHMucHVzaChjYXJkKTtcblxuICB1cGRhdGVPd25lcnNMaWtlKGNhcmQubGlrZXMsIHVzZXJJZCk7XG4gIHNldENhcmROYW1lKGNhcmRUaXRsZSwgY2FyZC5uYW1lKTtcbiAgc2V0Q2FyZEltYWdlKGNhcmRJbWFnZSwgY2FyZC5uYW1lLCBjYXJkLmxpbmspO1xuICBzZXRDYXJkTGlrZXMoY2FyZExpa2VCdXR0b24sIGNhcmRMaWtlTnVtYmVyLCBsaWtlc0NvdW50KTtcbiAgaGFzT3duZXJMaWtlXG4gICAgPyBhZGRMaWtlQWN0aXZlQ2xhc3MoY2FyZExpa2VCdXR0b24pXG4gICAgOiByZW1vdmVMaWtlQWN0aXZlQ2xhc3MoY2FyZExpa2VCdXR0b24pO1xuXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCAoKSA9PiBoYW5kbGVMaWtlQnV0dG9uKGNhcmRMaWtlQnV0dG9uLCBjYXJkTGlrZU51bWJlciwgY2FyZC5faWQsIGNhcmQubGlrZXMsIHVzZXJJZCkpO1xuICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVC5NT1VTRURPV04sICgpID0+IGhhbmRsZVBob3RvT3ZlcmxheShjYXJkSW1hZ2UsIGNhcmRUaXRsZSkpO1xuICBjYXJkLm93bmVyLl9pZCA9PT0gdXNlcklkXG4gICAgPyBjYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCAoeyB0YXJnZXQgfSkgPT4gaGFuZGxlRGVsZXRlQnV0dG9uKHRhcmdldCwgY2FyZC5faWQpKVxuICAgIDogY2FyZERlbGV0ZS5yZW1vdmUoKTtcblxuICByZXR1cm4gY2FyZEl0ZW07XG59O1xuXG5jb25zdCBwcmVwZW5kQ2FyZCA9IChjYXJkKSA9PiB7XG4gIGNhcmRzV3JhcHBlci5wcmVwZW5kKGNhcmQpO1xufTtcblxuZXhwb3J0IHtcbiAgY3JlYXRlQ2FyZCxcbiAgcHJlcGVuZENhcmRcbn07XG4iLCJjb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGVycm9yTWVzc2FnZSwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JBY3RpdmVDbGFzcyk7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XG4gIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBgJHtlcnJvckFjdGl2ZUNsYXNzfWApO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JBY3RpdmVDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICBpbnB1dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG59O1xuXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JDbGFzcywgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGlucHV0RWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoZXJyb3JDbGFzcyk7XG5cbiAgaW5wdXRFbGVtZW50LnZhbGlkaXR5LnBhdHRlcm5NaXNtYXRjaFxuICAgID8gaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KGlucHV0RWxlbWVudC5kYXRhc2V0LmludmFsaWRNZXNzYWdlKVxuICAgIDogaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcblxuICAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgPyBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKVxuICAgIDogaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpO1xufTtcblxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0c0xpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0c0xpc3Quc29tZShpbnB1dEVsZW1lbnQgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG59O1xuXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGluYWN0aXZlQnV0dG9uQ2xhc3MpID0+IHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfVxufTtcblxuY29uc3Qgc2V0Rm9ybUV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBpbnB1dFNlbGVjdG9yLCBidXR0b25TZWxlY3RvciwgZXJyb3JTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBidXR0b25JbmFjdGl2ZUNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4gIGNvbnN0IGlucHV0c0xpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3Rvcik7XG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpO1xuICBpbnB1dHNMaXN0LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpO1xuICAgIH0pO1xuICB9KTtcbiAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHNMaXN0LCBidXR0b25FbGVtZW50LCBidXR0b25JbmFjdGl2ZUNsYXNzKSwgMCk7XG4gIH0pO1xufTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9ICh2YWxpZGF0aW9uQ29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1zTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3Jtc0xpc3QuZm9yRWFjaChmb3JtID0+IHNldEZvcm1FdmVudExpc3RlbmVycyhcbiAgICBmb3JtLFxuICAgIHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcixcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmJ1dHRvblNlbGVjdG9yLFxuICAgIHZhbGlkYXRpb25Db25maWcuZXJyb3JTZWxlY3RvcixcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyxcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmJ1dHRvbkRpc2FibGVkQ2xhc3MsXG4gICAgdmFsaWRhdGlvbkNvbmZpZy5lcnJvckFjdGl2ZUNsYXNzLFxuICApKTtcbn07XG5cbmV4cG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb25cbn07XG4iLCJpbXBvcnQgeyBMT0FERVIsIFBST0ZJTEUgfSBmcm9tICcuL2VudW0uanMnO1xuXG5jb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKExPQURFUi5TRUxFQ1RPUik7XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUFJPRklMRS5DT05URU5UX05BTUUpO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUFJPRklMRS5BVkFUQVIpO1xuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9PQ0NVUEFUSU9OKTtcblxuY29uc3Qgc3RhcnRMb2FkZXIgPSAoKSA9PiB7XG4gIGxvYWRlci5jbGFzc0xpc3QuYWRkKExPQURFUi5BQ1RJVkVfQ0xBU1MpO1xuICBwcm9maWxlTmFtZS5jbGFzc0xpc3QuYWRkKExPQURFUi5TS0VMRVRPTik7XG4gIHByb2ZpbGVOYW1lLmNsYXNzTGlzdC5hZGQoTE9BREVSLlNLRUxFVE9OX1RFWFQpO1xuICBwcm9maWxlQXZhdGFyLmNsYXNzTGlzdC5hZGQoTE9BREVSLlNLRUxFVE9OKTtcbiAgcHJvZmlsZU9jY3VwYXRpb24uY2xhc3NMaXN0LmFkZChMT0FERVIuU0tFTEVUT04pO1xuICBwcm9maWxlT2NjdXBhdGlvbi5jbGFzc0xpc3QuYWRkKExPQURFUi5TS0VMRVRPTl9URVhUKTtcbn07XG5cbmNvbnN0IGVuZExvYWRlciA9ICgpID0+IHtcbiAgbG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLkFDVElWRV9DTEFTUyk7XG4gIHByb2ZpbGVOYW1lLmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLlNLRUxFVE9OKTtcbiAgcHJvZmlsZU5hbWUuY2xhc3NMaXN0LnJlbW92ZShMT0FERVIuU0tFTEVUT05fVEVYVCk7XG4gIHByb2ZpbGVBdmF0YXIuY2xhc3NMaXN0LnJlbW92ZShMT0FERVIuU0tFTEVUT04pO1xuICBwcm9maWxlT2NjdXBhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKExPQURFUi5TS0VMRVRPTik7XG4gIHByb2ZpbGVPY2N1cGF0aW9uLmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLlNLRUxFVE9OX1RFWFQpO1xufTtcblxuXG5leHBvcnQge1xuICBzdGFydExvYWRlcixcbiAgZW5kTG9hZGVyXG59O1xuIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9lbnVtLmpzJztcbmltcG9ydCB7IGVuZExvYWRlciB9IGZyb20gJy4vbG9hZGVyLmpzJztcblxuY29uc3QgZ2V0SnNvbiA9IChyZXMpID0+IHtcbiAgaWYgKHJlcy5vaykge1xuICAgIGVuZExvYWRlcigpO1xuICAgIHJldHVybiByZXMuanNvbigpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwISR7cmVzLnN0YXR1c1RleHR9INCa0L7QtCDQvtGI0LjQsdC60Lg6ICR7cmVzLnN0YXR1c30uYCk7XG4gIH1cbn07XG5cbmNvbnN0IGdldFVzZXIgPSAoKSA9PiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxufSlcbiAgLnRoZW4oKHJlcykgPT4gZ2V0SnNvbihyZXMpKVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUuICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG5cblxuY29uc3QgZ2V0Q2FyZHMgPSAoKSA9PiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHNgLCB7XG4gIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxufSlcbiAgLnRoZW4oKHJlcykgPT4gZ2V0SnNvbihyZXMpKVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQutCw0YDRgtC+0YfQutCw0YUuICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG5cblxuY29uc3QgdXBkYXRlVXNlciA9ICh7IG5hbWUsIGFib3V0IH0pID0+IHtcbiAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZSxcbiAgICAgIGFib3V0XG4gICAgfSlcbiAgfSlcbiAgICAudGhlbigocmVzKSA9PiBnZXRKc29uKHJlcykpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDQvtCx0L3QvtCy0LvQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8uICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG59O1xuXG5jb25zdCB1cGRhdGVVc2VyQXZhdGFyID0gKGF2YXRhcikgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgYXZhdGFyXG4gICAgfSlcbiAgfSlcbiAgICAudGhlbigocmVzKSA9PiBnZXRKc29uKHJlcykpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8uICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG59O1xuXG5jb25zdCBhZGRDYXJkID0gKHsgbmFtZSwgbGluayB9KSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZSxcbiAgICAgIGxpbmtcbiAgICB9KVxuICB9KVxuICAgIC50aGVuKChyZXMpID0+IGdldEpzb24ocmVzKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LguICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG5cbn07XG5cbmNvbnN0IHJlbW92ZUNhcmQgPSAoY2FyZElkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnNcbiAgfSlcbiAgICAudGhlbigocmVzKSA9PiBnZXRKc29uKHJlcykpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LguICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG59O1xuXG5jb25zdCBkZWxldGVDYXJkTGlrZSA9IChjYXJkSWQpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVyc1xuICB9KVxuICAgIC50aGVuKChyZXMpID0+IGdldEpzb24ocmVzKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INGD0LTQsNC70LXQvdC40Y8g0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4LiAke2Vycm9yLnN0YXR1c1RleHR9YCkpO1xufTtcblxuY29uc3QgYWRkQ2FyZExpa2UgPSAoY2FyZElkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gZ2V0SnNvbihyZXMpKVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCAke2Vycm9yLnN0YXR1c30g0LTQvtCx0LDQstC70LXQvdC40Y8g0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4LiAke2Vycm9yLnN0YXR1c1RleHR9YCkpO1xufTtcblxuZXhwb3J0IHtcbiAgZ2V0VXNlcixcbiAgZ2V0Q2FyZHMsXG4gIHVwZGF0ZVVzZXIsXG4gIGFkZENhcmQsXG4gIHJlbW92ZUNhcmQsXG4gIGRlbGV0ZUNhcmRMaWtlLFxuICBhZGRDYXJkTGlrZSxcbiAgdXBkYXRlVXNlckF2YXRhclxufTtcbiIsImltcG9ydCB7IGNoYW5nZUJ1dHRvblRleHQsIGNsb3NlUG9wdXAsIG9wZW5Qb3B1cCB9IGZyb20gJy4vcG9wdXAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgcHJlcGVuZENhcmQgfSBmcm9tICcuL2NhcmQuanMnO1xuaW1wb3J0IHsgUFJPRklMRSwgUE9QVVAsIEZPUk0sIEVWRU5UIH0gZnJvbSAnLi9lbnVtLmpzJztcbmltcG9ydCB7IHVwZGF0ZVVzZXIsIGFkZENhcmQsIHVwZGF0ZVVzZXJBdmF0YXIgfSBmcm9tICcuL2FwaS5qcyc7XG5cbmNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5UWVBFX0FWQVRBUik7XG5jb25zdCBhdmF0YXJQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQVZBVEFSKTtcbmNvbnN0IGF2YXRhclBvcHVwRm9ybSA9IGRvY3VtZW50LmZvcm1zW0ZPUk0uTkFNRV9BVkFUQVJdO1xuY29uc3QgYXZhdGFyUG9wdXBMaW5rSW5wdXQgPSBhdmF0YXJQb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihGT1JNLklOUFVUX0xJTkspO1xuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5UWVBFX1BST0ZJTEUpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9OQU1FKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9BVkFUQVIpO1xuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9PQ0NVUEFUSU9OKTtcbmNvbnN0IHByb2ZpbGVQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQlVUVE9OX0VESVRfUFJPRklMRSk7XG5jb25zdCBwcm9maWxlUG9wdXBGb3JtID0gZG9jdW1lbnQuZm9ybXNbRk9STS5OQU1FX1BST0ZJTEVdO1xuY29uc3QgcHJvZmlsZVBvcHVwTmFtZUlucHV0ID0gcHJvZmlsZVBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKEZPUk0uSU5QVVRfTkFNRSk7XG5jb25zdCBwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQgPSBwcm9maWxlUG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoRk9STS5JTlBVVF9PQ0NVUEFUSU9OKTtcbmNvbnN0IGNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUE9QVVAuVFlQRV9DQVJEKTtcbmNvbnN0IGNhcmRQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQlVUVE9OX0FERF9DQVJEKTtcbmNvbnN0IGNhcmRQb3B1cEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tGT1JNLk5BTUVfQ0FSRF07XG5jb25zdCBjYXJkUG9wdXBUaXRsZUlucHV0ID0gY2FyZFBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKEZPUk0uSU5QVVRfVElUTEUpO1xuY29uc3QgY2FyZFBvcHVwTGlua0lucHV0ID0gY2FyZFBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKEZPUk0uSU5QVVRfTElOSyk7XG5cbmNvbnN0IHNldEZvcm0gPSAoKSA9PiB7XG4gIHByb2ZpbGVQb3B1cE5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xuICBwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlT2NjdXBhdGlvbi50ZXh0Q29udGVudDtcbn07XG5cbmNvbnN0IHNldFByb2ZpbGVBdmF0YXIgPSAoc3JjKSA9PiB7XG4gIHByb2ZpbGVBdmF0YXIuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xufTtcblxuY29uc3Qgc2V0UHJvZmlsZU5hbWUgPSAobmFtZSkgPT4ge1xuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG59O1xuXG5jb25zdCBzZXRQcm9maWxlT2NjdXBhdGlvbiA9IChvY2N1cGF0aW9uKSA9PiB7XG4gIHByb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50ID0gb2NjdXBhdGlvbjtcbn07XG5cbmNvbnN0IGhhbmRsZUF2YXRhckZvcm1TdWJtaXQgPSAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNoYW5nZUJ1dHRvblRleHQoYXZhdGFyUG9wdXBGb3JtKTtcbiAgY29uc3QgYXZhdGFyID0gYXZhdGFyUG9wdXBMaW5rSW5wdXQudmFsdWU7XG4gIHVwZGF0ZVVzZXJBdmF0YXIoYXZhdGFyKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHNldFByb2ZpbGVBdmF0YXIocmVzLmF2YXRhcik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJQb3B1cEZvcm0ucmVzZXQoKTtcbiAgICAgIGNoYW5nZUJ1dHRvblRleHQoYXZhdGFyUG9wdXBGb3JtLCBGT1JNLkJVVFRPTl9URVhUX1NBVkUpO1xuICAgICAgY2xvc2VQb3B1cChhdmF0YXJQb3B1cCk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVPcGVuQXZhdGFyID0gKCkgPT4ge1xuICBvcGVuUG9wdXAoYXZhdGFyUG9wdXAsIChlKSA9PiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGUpKTtcbn07XG5cbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjaGFuZ2VCdXR0b25UZXh0KHByb2ZpbGVQb3B1cEZvcm0pO1xuICBzZXRQcm9maWxlTmFtZShwcm9maWxlUG9wdXBOYW1lSW5wdXQudmFsdWUpO1xuICBzZXRQcm9maWxlT2NjdXBhdGlvbihwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQudmFsdWUpO1xuICBjb25zdCB1c2VyID0geyBuYW1lOiBwcm9maWxlUG9wdXBOYW1lSW5wdXQudmFsdWUsIGFib3V0OiBwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQudmFsdWUgfTtcbiAgdXBkYXRlVXNlcih1c2VyKVxuICAgIC50aGVuKHVzZXIgPT4ge1xuICAgICAgc2V0UHJvZmlsZU5hbWUodXNlci5uYW1lKTtcbiAgICAgIHNldFByb2ZpbGVPY2N1cGF0aW9uKHVzZXIuYWJvdXQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC40L3RhNC+0YDQvNCw0YbQuNC4INC/0YDQvtGE0LjQu9GPOiAke2Vycm9yLnN0YXR1c1RleHR9YCkpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZVBvcHVwRm9ybS5yZXNldCgpO1xuICAgICAgY2hhbmdlQnV0dG9uVGV4dChwcm9maWxlUG9wdXBGb3JtLCBGT1JNLkJVVFRPTl9URVhUX1NBVkUpO1xuICAgICAgY2xvc2VQb3B1cChwcm9maWxlUG9wdXApO1xuICAgIH0pO1xufTtcblxuY29uc3QgaGFuZGxlT3BlblByb2ZpbGUgPSAoKSA9PiB7XG4gIG9wZW5Qb3B1cChwcm9maWxlUG9wdXApO1xuICBzZXRGb3JtKCk7XG59O1xuXG5jb25zdCBoYW5kbGVDYXJkRm9ybVN1Ym1pdCA9IChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY2hhbmdlQnV0dG9uVGV4dChjYXJkUG9wdXBGb3JtLCBGT1JNLkJVVFRPTl9URVhUX0NSRUFUSU5HKTtcbiAgY29uc3QgY2FyZCA9IHtcbiAgICBuYW1lOiBjYXJkUG9wdXBUaXRsZUlucHV0LnZhbHVlLFxuICAgIGxpbms6IGNhcmRQb3B1cExpbmtJbnB1dC52YWx1ZVxuICB9O1xuICBhZGRDYXJkKGNhcmQpXG4gICAgLnRoZW4oKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRDbG9uZSA9IGNyZWF0ZUNhcmQoY2FyZCwgY2FyZC5vd25lci5faWQpO1xuICAgICAgcHJlcGVuZENhcmQoY2FyZENsb25lKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCAke2Vycm9yLnN0YXR1c30gY9C+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBjbG9zZVBvcHVwKGNhcmRQb3B1cCk7XG4gICAgICBjYXJkUG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgICBjaGFuZ2VCdXR0b25UZXh0KGNhcmRQb3B1cEZvcm0sIEZPUk0uQlVUVE9OX1RFWFRfQ1JFQVRFKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUNhcmRQb3B1cE9wZW5CdXR0b24gPSAoKSA9PiB7XG4gIG9wZW5Qb3B1cChjYXJkUG9wdXApO1xufTtcblxuY29uc3QgYWRkUHJvZmlsZUxpc3RlbmVycyA9ICgpID0+IHtcbiAgY2FyZFBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEVWRU5ULk1PVVNFRE9XTiwgKCkgPT4gaGFuZGxlQ2FyZFBvcHVwT3BlbkJ1dHRvbigpKTtcbiAgY2FyZFBvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULlNVQk1JVCwgKGUpID0+IGhhbmRsZUNhcmRGb3JtU3VibWl0KGUpKTtcbiAgcHJvZmlsZVBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEVWRU5ULk1PVVNFRE9XTiwgKCkgPT4gaGFuZGxlT3BlblByb2ZpbGUoKSk7XG4gIHByb2ZpbGVQb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihFVkVOVC5TVUJNSVQsIChlKSA9PiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChlKSk7XG4gIGF2YXRhclBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEVWRU5ULk1PVVNFRE9XTiwgKCkgPT4gaGFuZGxlT3BlbkF2YXRhcigpKTtcbiAgYXZhdGFyUG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuU1VCTUlULCAoZSkgPT4gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdChlKSk7XG59O1xuXG5leHBvcnQge1xuICBhZGRQcm9maWxlTGlzdGVuZXJzLFxuICBzZXRQcm9maWxlQXZhdGFyLFxuICBzZXRQcm9maWxlTmFtZSxcbiAgc2V0UHJvZmlsZU9jY3VwYXRpb25cbn07XG4iLCJpbXBvcnQgJy4vc3R5bGVzL3BhZ2VzL2luZGV4LmNzcyc7XG5pbXBvcnQgeyBGT1JNLCBWQUxJREFUSU9OIH0gZnJvbSAnLi9jb21wb25lbnRzL2VudW0uanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgcHJlcGVuZENhcmQgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FyZC5qcyc7XG5pbXBvcnQgeyBhZGRQcm9maWxlTGlzdGVuZXJzLCBzZXRQcm9maWxlQXZhdGFyLCBzZXRQcm9maWxlTmFtZSwgc2V0UHJvZmlsZU9jY3VwYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvcHJvZmlsZS5qcyc7XG5pbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL3ZhbGlkYXRpb24uanMnO1xuaW1wb3J0IHsgZ2V0VXNlciwgZ2V0Q2FyZHMgfSBmcm9tICcuL2NvbXBvbmVudHMvYXBpLmpzJztcbmltcG9ydCB7IGFkZERlbGV0ZVBvcHVwU3VibWl0TGlzdGVuZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvcG9wdXAuanMnO1xuaW1wb3J0IHsgc3RhcnRMb2FkZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvbG9hZGVyLmpzJztcblxuY29uc3QgY2FyZERlbGV0ZVBvcHVwRm9ybSA9IGRvY3VtZW50LmZvcm1zW0ZPUk0uTkFNRV9ERUxFVEVdO1xubGV0IHVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSB8fCBudWxsO1xuXG5hZGRQcm9maWxlTGlzdGVuZXJzKCk7XG5hZGREZWxldGVQb3B1cFN1Ym1pdExpc3RlbmVyKGNhcmREZWxldGVQb3B1cEZvcm0pO1xuXG5lbmFibGVWYWxpZGF0aW9uKHtcbiAgZm9ybVNlbGVjdG9yOiBWQUxJREFUSU9OLkZPUk1fU0VMRUNUT1IsXG4gIGlucHV0U2VsZWN0b3I6IFZBTElEQVRJT04uSU5QVVRfU0VMRUNUT1IsXG4gIGJ1dHRvblNlbGVjdG9yOiBWQUxJREFUSU9OLkJVVFRPTl9TRUxFQ1RPUixcbiAgZXJyb3JTZWxlY3RvcjogVkFMSURBVElPTi5FUlJPUl9TRUxFQ1RPUixcbiAgaW5wdXRFcnJvckNsYXNzOiBWQUxJREFUSU9OLklOUFVUX0VSUk9SX0NMQVNTLFxuICBidXR0b25EaXNhYmxlZENsYXNzOiBWQUxJREFUSU9OLkJVVFRPTl9ESVNBQkxFRF9DTEFTUyxcbiAgZXJyb3JBY3RpdmVDbGFzczogVkFMSURBVElPTi5FUlJPUl9BQ1RJVkVfQ0xBU1Ncbn0pO1xuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIHN0YXJ0TG9hZGVyKCk7XG4gIGdldFVzZXIoKVxuICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICBzZXRQcm9maWxlQXZhdGFyKHVzZXIuYXZhdGFyKTtcbiAgICAgIHNldFByb2ZpbGVOYW1lKHVzZXIubmFtZSk7XG4gICAgICBzZXRQcm9maWxlT2NjdXBhdGlvbih1c2VyLmFib3V0KTtcbiAgICAgIHVzZXJJZCA9IHVzZXIuX2lkO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHVzZXJJZCk7XG4gICAgfSk7XG4gIGdldENhcmRzKClcbiAgICAudGhlbigoY2FyZHMpID0+IHtcbiAgICAgIGNhcmRzXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZENsb25lID0gY3JlYXRlQ2FyZChjYXJkLCB1c2VySWQpO1xuICAgICAgICAgIHByZXBlbmRDYXJkKGNhcmRDbG9uZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiY29uZmlnIiwiYmFzZVVybCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiTE9BREVSIiwiRVZFTlQiLCJWQUxJREFUSU9OIiwiUFJPRklMRSIsIlBPUFVQIiwiRk9STSIsIkNBUkQiLCJkZWxldGUiLCJoYXNPd25lckxpa2UiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiY2xvc2VQb3B1cCIsInBvcHVwIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmVtb3ZlUG9wdXBBY3RpdmVDbGFzcyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVQb3B1cE1vdXNlRXZlbnQiLCJoYW5kbGVQb3B1cEtleWJvYXJkRXZlbnQiLCJyZW1vdmVQb3B1cEV2ZW50TGlzdGVuZXJzIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJjb250YWlucyIsImtleSIsIm9wZW5Qb3B1cCIsImFkZCIsImFkZFBvcHVwQWN0aXZlQ2xhc3MiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkUG9wdXBFdmVudExpc3RlbmVycyIsInNldFRpbWVvdXQiLCJmb2N1cyIsImNoYW5nZUJ1dHRvblRleHQiLCJmb3JtIiwidGV4dCIsInN1Ym1pdEJ1dHRvblRleHQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJsb2FkZXIiLCJkb2N1bWVudCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUF2YXRhciIsInByb2ZpbGVPY2N1cGF0aW9uIiwiZ2V0SnNvbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0Iiwic3RhdHVzIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNhcmRzV3JhcHBlciIsInBvcHVwRGVsZXRlIiwicG9wdXBEZWxldGVGb3JtIiwiZm9ybXMiLCJwb3B1cFBob3RvIiwicG9wdXBJbWFnZSIsInBvcHVwVGl0bGUiLCJjYXJkcyIsImFkZExpa2VBY3RpdmVDbGFzcyIsImVsIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlTGlrZUFjdGl2ZUNsYXNzIiwic2V0Q2FyZExpa2VzIiwiYnV0dG9uIiwibnVtYmVyIiwidmFsdWUiLCJjb25zb2xlIiwiZXJyb3IiLCJ1cGRhdGVPd25lcnNMaWtlIiwibGlrZXNBcnJheSIsInVzZXJJZCIsImxlbmd0aCIsInNvbWUiLCJsaWtlIiwiX2lkIiwiaGFuZGxlTGlrZUJ1dHRvbiIsImlkIiwiaW5pdGlhbExpa2VzIiwiY2FyZElkIiwiY3VycmVudCIsImZpbmQiLCJjYXJkIiwiZmluZEN1cnJlbnRDYXJkIiwibGlrZXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJjYXRjaCIsImZpbmFsbHkiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhZGRDYXJkTGlrZSIsIk51bWJlciIsImhhc0FjdGl2ZUNsYXNzIiwiZGVjcmVhc2VkVmFsdWUiLCJkZWNyZWFzZUNhcmRMaWtlcyIsImluY3JlYXNlZFZhbHVlIiwiaW5jcmVhc2VDYXJkTGlrZXMiLCJ0b2dnbGVMaWtlIiwiaGFuZGxlUGhvdG9PdmVybGF5IiwiY2FyZEltYWdlIiwiY2FyZFRpdGxlIiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwiZGVsZXRlQ2FyZFNlcnZpY2UiLCJjYXJkRWxlbWVudCIsImNhcmRQaG90b092ZXJsYXkiLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmREZWxldGVCdXR0b24iLCJyZW1vdmVDYXJkIiwicmVtb3ZlQ2FyZExpc3RlbmVycyIsImhhbmRsZURlbGV0ZVN1Ym1pdCIsInBob3RvT3ZlcmxheSIsImRlbGV0ZUJ1dHRvbiIsImxpa2VCdXR0b24iLCJjcmVhdGVDYXJkIiwidGl0bGUiLCJjYXJkSXRlbSIsImNsb25lTm9kZSIsImNhcmRBcnRpY2xlIiwiY2FyZExpa2VOdW1iZXIiLCJjYXJkRGVsZXRlIiwibGlrZXNDb3VudCIsInB1c2giLCJuYW1lIiwiaW1hZ2UiLCJzZXRDYXJkSW1hZ2UiLCJsaW5rIiwib3duZXIiLCJwcmVwZW5kQ2FyZCIsInByZXBlbmQiLCJhdmF0YXJQb3B1cCIsImF2YXRhclBvcHVwT3BlbkJ1dHRvbiIsImF2YXRhclBvcHVwRm9ybSIsImF2YXRhclBvcHVwTGlua0lucHV0IiwicHJvZmlsZVBvcHVwIiwicHJvZmlsZVBvcHVwT3BlbkJ1dHRvbiIsInByb2ZpbGVQb3B1cEZvcm0iLCJwcm9maWxlUG9wdXBOYW1lSW5wdXQiLCJwcm9maWxlUG9wdXBPY2N1cGF0aW9uSW5wdXQiLCJjYXJkUG9wdXAiLCJjYXJkUG9wdXBPcGVuQnV0dG9uIiwiY2FyZFBvcHVwRm9ybSIsImNhcmRQb3B1cFRpdGxlSW5wdXQiLCJjYXJkUG9wdXBMaW5rSW5wdXQiLCJzZXRQcm9maWxlQXZhdGFyIiwic3JjIiwic2V0UHJvZmlsZU5hbWUiLCJzZXRQcm9maWxlT2NjdXBhdGlvbiIsIm9jY3VwYXRpb24iLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsImNhcmREZWxldGVQb3B1cEZvcm0iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHJldmVudERlZmF1bHQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRDbG9uZSIsInJlc2V0IiwiaGFuZGxlQ2FyZEZvcm1TdWJtaXQiLCJhYm91dCIsInVzZXIiLCJoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCIsImF2YXRhciIsImhhbmRsZUF2YXRhckZvcm1TdWJtaXQiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiYnV0dG9uU2VsZWN0b3IiLCJlcnJvclNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiYnV0dG9uRGlzYWJsZWRDbGFzcyIsImVycm9yQWN0aXZlQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImZvcm1FbGVtZW50IiwiYnV0dG9uSW5hY3RpdmVDbGFzcyIsImlucHV0c0xpc3QiLCJlcnJvckNsYXNzIiwiZXJyb3JFbGVtZW50IiwicGFyZW50Tm9kZSIsInBhdHRlcm5NaXNtYXRjaCIsInNldEN1c3RvbVZhbGlkaXR5IiwiZGF0YXNldCIsImludmFsaWRNZXNzYWdlIiwiaGlkZUlucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJzaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0SXRlbSIsInJldmVyc2UiXSwic291cmNlUm9vdCI6IiJ9