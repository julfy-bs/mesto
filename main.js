(()=>{"use strict";var e,t,n=".form__button",r="popup_active",o=".form",c='[name="link"]',a="Сохранить",u="Сохранение...",s=".feed__item",i=".card__image",l=".card__like-button",d="card__like-button_active",f="card__like-button_liked_true",m=".card__delete",p=function(e){!function(e){e.classList.remove(r)}(e),function(e){e.removeEventListener("mousedown",h),e.removeEventListener("keydown",_)}(e)},v=function(e,t){p(e),e.querySelector(o).removeEventListener("submit",t),console.log("popup leave")},h=function(e){var t=e.target.closest(".popup"),n=e.target.classList.contains("popup")||e.target.classList.contains("popup__close"),r=null!==t.querySelector(o);n&&(r?v(t):p(t))},_=function(e){if("Escape"===e.key){var t=e.target.closest(".popup");null!==t.querySelector(o)?v(t):p(t)}},y=function(e){!function(e){e.classList.add(r)}(e),function(e){e.addEventListener("mousedown",h),e.addEventListener("keydown",_)}(e),setTimeout((function(){return e.focus()}),200)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=e.querySelector(n);r.textContent=t},S=function(e,t){console.log("popup enter"),y(e),e.querySelector(o).addEventListener("submit",t)},E={baseUrl:"https://nomoreparties.co/v1/plus-cohort-19",headers:{authorization:"0f9e6763-ca59-4d6a-b788-b6c985602524","Content-Type":"application/json"}},L=function(e){return e.ok?e.json():Promise.reject("Ошибка!".concat(e.statusText," Код ошибки: ").concat(e.status,"."))},g=document.querySelector("#card").content.querySelector(s),q=document.querySelector(".feed__list"),T=document.querySelector(".popup_type_delete"),x=T.querySelector(o),k=document.querySelector(".popup_type_photo"),C=k.querySelector(".popup__image"),A=k.querySelector(".popup__figcaption"),w=[],D=null,U=function(e){e.classList.add(d),e.setAttribute("aria-label",'Убрать отметку "Понравилось"')},N=function(e){e.classList.remove(d),e.setAttribute("aria-label",'Добавить отметку "Понравилось"')},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"number"!=typeof n&&console.error("Значение количества лайков карточки должно быть числом"),0===n?(e.classList.remove(f),t.textContent=""):(e.classList.add(f),t.textContent=n)},O=function(t,n){e=0!==t.length&&t.some((function(e){return e._id===n}))},H=function(t,n,r,o,c){var a,u=function(e){return w.find((function(t){return t._id===e}))}(r);switch(O(u.likes,c),e){case!0:(a=r,fetch("".concat(E.baseUrl,"/cards/likes/").concat(a),{method:"DELETE",headers:E.headers}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления лайка карточки. ").concat(e.statusText))}))).then((function(e){O(e.likes,c),u.likes=e.likes})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления лайка карточки: ").concat(e.statusText))}));break;case!1:(function(e){return fetch("".concat(E.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:E.headers}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," добавления лайка карточки. ").concat(e.statusText))}))})(r).then((function(e){O(e.likes,c),u.likes=e.likes})).catch((function(e){return console.error("Ошибка ".concat(e.status," добавления лайка карточки: ").concat(e.statusText))}))}var s=Number(n.textContent),i=t.classList.contains(d);i?function(e,t,n){var r=n-1;"number"!=typeof n?console.error("Значение количества лайков карточки должно быть числом"):M(e,t,r)}(t,n,s):function(e,t,n){var r=n+1;"number"!=typeof n?console.error("Значение количества лайков карточки должно быть числом"):M(e,t,r)}(t,n,s),function(e,t){switch(t){case!0:N(e);break;case!1:U(e)}}(t,i)},I=function(e,t){y(k),A.textContent=t.textContent,C.setAttribute("src",e.getAttribute("src")),C.setAttribute("alt",e.getAttribute("alt"))},P=function(e,t){D=function(n){return j(n,e,t)},S(T,(function(n){return D(n,e,t)}))},j=function(e,t,n){e.preventDefault(),console.warn("TRYING TO DELETE",n),b(x);var r=t.closest(s),o=r.querySelector(i),c=r.querySelector(l),u=r.querySelector(m);(function(e){return fetch("".concat(E.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:E.headers}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления карточки. ").concat(e.statusText))}))})(n).then((function(){return r.remove()})).catch((function(e){return console.error("Ошибка ".concat(e.status," удаления карточки: ").concat(e.statusText))})).finally((function(){var e,t;b(x,a),v(T,D),D=null,e=u,t=c,o.removeEventListener("mouseup",I),e.removeEventListener("mouseup",P),t.removeEventListener("mouseup",H)}))},G=function(t,n){var r,o,c=g.cloneNode(!0),a=c.querySelector(".card"),u=a.querySelector(i),s=a.querySelector(".card__title"),d=a.querySelector(".card__like-number"),f=a.querySelector(l),p=a.querySelector(m),v=t.likes.length>0?t.likes.length:0;return w.push(t),O(t.likes,n),r=s,o=t.name,r.textContent=o,function(e,t,n){e.setAttribute("src",n),e.setAttribute("alt",t)}(u,t.name,t.link),M(f,d,v),e?U(f):N(f),f.addEventListener("mouseup",(function(){return H(f,d,t._id,t.likes,n)})),u.addEventListener("mouseup",(function(){return I(u,s)})),t.owner._id===n?p.addEventListener("mouseup",(function(e){var n=e.target;return P(n,t._id)})):p.remove(),c},J=function(e){q.prepend(e)},V=document.querySelector(".popup_type_avatar"),B=document.querySelector(".profile__avatar"),Y=document.forms.avatar,z=Y.querySelector(c),R=document.querySelector(".popup_type_edit"),W=document.querySelector(".profile__name"),F=document.querySelector(".profile__image"),K=document.querySelector(".profile__occupation"),Q=document.querySelector(".profile__edit"),X=document.forms.profile,Z=X.querySelector('[name="name"]'),$=X.querySelector('[name="occupation"]'),ee=document.querySelector(".popup_type_add"),te=document.querySelector(".profile__add"),ne=document.forms.card,re=(ne.querySelector('[name="title"]'),ne.querySelector(c),function(e){F.setAttribute("src",e)}),oe=function(e){W.textContent=e},ce=function(e){K.textContent=e},ae=function e(t){var n,r,o;t.preventDefault(),b(X),oe(Z.value),ce($.value),(n={name:Z.value,about:$.value},r=n.name,o=n.about,fetch("".concat(E.baseUrl,"/users/me"),{method:"PATCH",headers:E.headers,body:JSON.stringify({name:r,about:o})}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," обновления информации пользователя. ").concat(e.statusText))}))).then((function(e){oe(e.name),ce(e.about)})).catch((function(e){return console.error("Ошибка ".concat(e.status," редактирования информации профиля: ").concat(e.statusText))})).finally((function(){X.reset(),b(X,a),v(R,(function(t){return e(t)}))}))},ue=function(){S(R,(function(e){return ae(e)})),Z.value=W.textContent,$.value=K.textContent},se=function(e,t,n){e.some((function(e){return!e.validity.valid}))?(t.classList.add(n),t.setAttribute("disabled","disabled")):(t.classList.remove(n),t.removeAttribute("disabled","disabled"))},ie=localStorage.getItem("userId")||null;if(te.addEventListener("mousedown",(function(){var e,t,n;(e={name:"test card",link:"https://images.unsplash.com/photo-1564858763975-d99de59ee4bb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1742&q=80"},t=e.name,n=e.link,fetch("".concat(E.baseUrl,"/cards"),{method:"POST",headers:E.headers,body:JSON.stringify({name:t,link:n})}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," добавления карточки. ").concat(e.statusText))}))).then((function(e){var t=G(e,e.owner._id);J(t)})).catch((function(e){console.error("Ошибка ".concat(e.status," cоздания карточки: ").concat(e.statusText))})).finally((function(){ne.reset(),b(ne,"Создать"),p(ee)}))})),Q.addEventListener("mousedown",(function(){return ue()})),B.addEventListener("mousedown",(function(){S(V,(function(e){return function(e){var t;e.preventDefault(),b(Y),(t=z.value,fetch("".concat(E.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:E.headers,body:JSON.stringify({avatar:t})}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," обновления аватара пользователя. ").concat(e.statusText))}))).then((function(e){re(e.avatar)})).catch((function(e){return console.error("Ошибка ".concat(e.status," изменения аватара пользователя: ").concat(e.statusText))})).finally((function(){Y.reset(),b(Y,a),p(V)}))}(e)}))})),t={formSelector:".form",inputSelector:".form__input",buttonSelector:n,errorSelector:".form__error",inputErrorClass:"form__input_type_error",buttonDisabledClass:"form__button_type_disabled",errorActiveClass:"form__error_active"},Array.from(document.querySelectorAll(t.formSelector)).forEach((function(e){return n=e,r=t.inputSelector,o=t.buttonSelector,c=t.errorSelector,a=t.inputErrorClass,u=t.buttonDisabledClass,s=t.errorActiveClass,i=Array.from(n.querySelectorAll(r)),l=n.querySelector(o),se(i,l,u),i.forEach((function(e){e.addEventListener("input",(function(){!function(e,t,n,r,o){var c=t.parentNode.querySelector(n);t.validity.patternMismatch?t.setCustomValidity(t.dataset.invalidMessage):t.setCustomValidity(""),t.validity.valid?function(e,t,n,r,o){n.classList.remove(o),n.textContent="",t.classList.remove(r),t.removeAttribute("aria-describedby")}(0,t,c,r,o):function(e,t,n,r,o,c){n.textContent=r,n.classList.add(c),t.classList.add(o),t.setAttribute("aria-describedby","".concat(c))}(0,t,c,t.validationMessage,r,o)}(0,e,c,a,s),se(i,l,u)}))})),void n.addEventListener("reset",(function(){setTimeout((function(){return se(i,l,u)}),0)}));var n,r,o,c,a,u,s,i,l})),document.addEventListener("DOMContentLoaded",(function(){fetch("".concat(E.baseUrl,"/users/me"),{headers:E.headers}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," получения информации о пользователе. ").concat(e.statusText))})).then((function(e){re(e.avatar),oe(e.name),ce(e.about),ie=e._id,localStorage.setItem("userId",ie)})),fetch("".concat(E.baseUrl,"/cards"),{headers:E.headers}).then((function(e){return L(e)})).catch((function(e){return console.error("Ошибка ".concat(e.status," получения информации о карточках. ").concat(e.statusText))})).then((function(e){e.reverse().forEach((function(e){var t=G(e,ie);J(t)}))}))})),null==EventTarget.prototype.original_addEventListener){function le(e,t,n){console.log("--- add event listener",this.nodeName,e),this.all_handlers=this.all_handlers||[],this.all_handlers.push({typ:e,fn:t,opt:n}),this.original_addEventListener(e,t,n)}EventTarget.prototype.original_addEventListener=EventTarget.prototype.addEventListener,EventTarget.prototype.addEventListener=le}if(null==EventTarget.prototype.original_removeEventListener){function de(e,t,n){console.log("--- remove event listener",this.nodeName,e),this.all_handlers=this.all_handlers||[],this.all_handlers.push({typ:e,fn:t,opt:n}),this.original_addEventListener(e,t,n)}EventTarget.prototype.original_removeEventListener=EventTarget.prototype.removeEventListener,EventTarget.prototype.removeEventListener=de}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekNGLEtBQUtFLGFBQWF2RixLQUFLLENBQUNrRixJQUFBQSxFQUFJQyxHQUFBQSxFQUFHQyxJQUFBQSxJQUMvQkMsS0FBS0wsMEJBQTBCRSxFQUFLQyxFQUFJQyxFQUMxQyxDQVBBTixZQUFZQyxVQUFVQywwQkFBNEJGLFlBQVlDLFVBQVU3SyxpQkFTeEU0SyxZQUFZQyxVQUFVN0ssaUJBQW1CK0ssRUFDM0MsQ0FFQSxHQUEwRCxNQUF0REgsWUFBWUMsVUFBVVMsNkJBQXNDLENBRzlELFNBQVNDLEdBQXlCUCxFQUFLQyxFQUFJQyxHQUN6QzlMLFFBQVFDLElBQUksNEJBQTRCOEwsS0FBS0MsU0FBU0osR0FDdERHLEtBQUtFLGFBQWVGLEtBQUtFLGNBQWdCLEdBQ3pDRixLQUFLRSxhQUFhdkYsS0FBSyxDQUFDa0YsSUFBQUEsRUFBSUMsR0FBQUEsRUFBR0MsSUFBQUEsSUFDL0JDLEtBQUtMLDBCQUEwQkUsRUFBS0MsRUFBSUMsRUFDMUMsQ0FQQU4sWUFBWUMsVUFBVVMsNkJBQStCVixZQUFZQyxVQUFVaE0sb0JBUzNFK0wsWUFBWUMsVUFBVWhNLG9CQUFzQjBNLEVBQzlDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvZW51bS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvY2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL2FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEtFWSA9IHtcbiAgRVNDQVBFOiAnRXNjYXBlJ1xufTtcblxuY29uc3QgVkFMSURBVElPTiA9IHtcbiAgRk9STV9TRUxFQ1RPUjogJy5mb3JtJyxcbiAgSU5QVVRfU0VMRUNUT1I6ICcuZm9ybV9faW5wdXQnLFxuICBCVVRUT05fU0VMRUNUT1I6ICcuZm9ybV9fYnV0dG9uJyxcbiAgRVJST1JfU0VMRUNUT1I6ICcuZm9ybV9fZXJyb3InLFxuICBJTlBVVF9FUlJPUl9DTEFTUzogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBCVVRUT05fRElTQUJMRURfQ0xBU1M6ICdmb3JtX19idXR0b25fdHlwZV9kaXNhYmxlZCcsXG4gIEVSUk9SX0FDVElWRV9DTEFTUzogJ2Zvcm1fX2Vycm9yX2FjdGl2ZSdcbn07XG5cbmNvbnN0IFBST0ZJTEUgPSB7XG4gIEZPUk06ICcuZm9ybScsXG4gIEZPUk1fUFJPRklMRTogJ3Byb2ZpbGUnLFxuICBGT1JNX0NBUkQ6ICdjYXJkJyxcbiAgRk9STV9ERUxFVEU6ICdkZWxldGUnLFxuICBGT1JNX0FWQVRBUjogJ2F2YXRhcicsXG4gIElOUFVUX05BTUU6ICdbbmFtZT1cIm5hbWVcIl0nLFxuICBJTlBVVF9PQ0NVUEFUSU9OOiAnW25hbWU9XCJvY2N1cGF0aW9uXCJdJyxcbiAgQ09OVEVOVF9OQU1FOiAnLnByb2ZpbGVfX25hbWUnLFxuICBDT05URU5UX09DQ1VQQVRJT046ICcucHJvZmlsZV9fb2NjdXBhdGlvbicsXG4gIENPTlRFTlRfQVZBVEFSOiAnLnByb2ZpbGVfX2ltYWdlJyxcbiAgQlVUVE9OX0VESVQ6ICcucHJvZmlsZV9fZWRpdCcsXG4gIEJVVFRPTl9BREQ6ICcucHJvZmlsZV9fYWRkJyxcbiAgQVZBVEFSOiAnLnByb2ZpbGVfX2F2YXRhcicsXG59O1xuXG5jb25zdCBQT1BVUCA9IHtcbiAgQ0xBU1NOQU1FOiAncG9wdXAnLFxuICBDTE9TRV9DTEFTU05BTUU6ICdwb3B1cF9fY2xvc2UnLFxuICBBQ1RJVkVfQ0xBU1M6ICdwb3B1cF9hY3RpdmUnLFxuICBBTklNQVRJT05fRFVSQVRJT046IDIwMCxcbiAgUFJPRklMRTogJy5wb3B1cF90eXBlX2VkaXQnLFxuICBDQVJEOiAnLnBvcHVwX3R5cGVfYWRkJyxcbiAgUEhPVE86ICcucG9wdXBfdHlwZV9waG90bycsXG4gIEFWQVRBUjogJy5wb3B1cF90eXBlX2F2YXRhcicsXG4gIERFTEVURTogJy5wb3B1cF90eXBlX2RlbGV0ZScsXG4gIElNQUdFOiAnLnBvcHVwX19pbWFnZScsXG4gIFRJVExFOiAnLnBvcHVwX19maWdjYXB0aW9uJyxcbiAgRk9STTogJy5mb3JtJyxcbiAgSU5QVVRfVElUTEU6ICdbbmFtZT1cInRpdGxlXCJdJyxcbiAgSU5QVVRfTElOSzogJ1tuYW1lPVwibGlua1wiXScsXG4gIEJVVFRPTl9URVhUX1NBVkU6ICfQodC+0YXRgNCw0L3QuNGC0YwnLFxuICBCVVRUT05fVEVYVF9DUkVBVEU6ICfQodC+0LfQtNCw0YLRjCcsXG4gIEJVVFRPTl9URVhUX1NBVklORzogJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyxcbn07XG5cbmNvbnN0IENBUkQgPSB7XG4gIFdSQVBQRVI6ICcuZmVlZF9fbGlzdCcsXG4gIFRFTVBMQVRFOiAnI2NhcmQnLFxuICBJVEVNOiAnLmZlZWRfX2l0ZW0nLFxuICBJVEVNX0NMQVNTTkFNRTogJ2ZlZWRfX2l0ZW0nLFxuICBBUlRJQ0xFOiAnLmNhcmQnLFxuICBJTUFHRTogJy5jYXJkX19pbWFnZScsXG4gIFRJVExFOiAnLmNhcmRfX3RpdGxlJyxcbiAgTElLRV9CVVRUT046ICcuY2FyZF9fbGlrZS1idXR0b24nLFxuICBMSUtFX05VTUJFUjogJy5jYXJkX19saWtlLW51bWJlcicsXG4gIExJS0VfQlVUVE9OX0FDVElWRTogJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScsXG4gIExJS0VfQlVUVE9OX0lTX0xJS0VEOiAnY2FyZF9fbGlrZS1idXR0b25fbGlrZWRfdHJ1ZScsXG4gIERFTEVURTogJy5jYXJkX19kZWxldGUnXG59O1xuXG5leHBvcnQge1xuICBDQVJELFxuICBLRVksXG4gIFBPUFVQLFxuICBQUk9GSUxFLFxuICBWQUxJREFUSU9OXG59O1xuIiwiaW1wb3J0IHsgY2hhbmdlQnV0dG9uVGV4dCwgY2xvc2VQb3B1cFdpdGhGb3JtLCBvcGVuUG9wdXAsIG9wZW5Qb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi9wb3B1cC5qcyc7XG5pbXBvcnQgeyBQT1BVUCwgQ0FSRCB9IGZyb20gJy4vZW51bS5qcyc7XG5pbXBvcnQgeyBhZGRDYXJkTGlrZSwgZGVsZXRlQ2FyZExpa2UsIHJlbW92ZUNhcmQgfSBmcm9tICcuL2FwaS5qcyc7XG5cbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5URU1QTEFURSkuY29udGVudC5xdWVyeVNlbGVjdG9yKENBUkQuSVRFTSk7XG5jb25zdCBjYXJkc1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKENBUkQuV1JBUFBFUik7XG5jb25zdCBwb3B1cERlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUE9QVVAuREVMRVRFKTtcbmNvbnN0IHBvcHVwRGVsZXRlRm9ybSA9IHBvcHVwRGVsZXRlLnF1ZXJ5U2VsZWN0b3IoUE9QVVAuRk9STSk7XG5jb25zdCBwb3B1cFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5QSE9UTyk7XG5jb25zdCBwb3B1cEltYWdlID0gcG9wdXBQaG90by5xdWVyeVNlbGVjdG9yKFBPUFVQLklNQUdFKTtcbmNvbnN0IHBvcHVwVGl0bGUgPSBwb3B1cFBob3RvLnF1ZXJ5U2VsZWN0b3IoUE9QVVAuVElUTEUpO1xubGV0IGhhc093bmVyTGlrZTtcbmNvbnN0IGNhcmRzID0gW107XG5sZXQgZ2xvYmFsRGVsZXRlQ2FyZCA9IG51bGw7XG5cbmNvbnN0IHNldENhcmROYW1lID0gKGVsLCB0aXRsZSkgPT4ge1xuICBlbC50ZXh0Q29udGVudCA9IHRpdGxlO1xufTtcblxuY29uc3Qgc2V0Q2FyZEltYWdlID0gKGVsLCB0aXRsZSwgaW1hZ2UpID0+IHtcbiAgZWwuc2V0QXR0cmlidXRlKCdzcmMnLCBpbWFnZSk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnYWx0JywgdGl0bGUpO1xufTtcblxuY29uc3QgYWRkTGlrZUFjdGl2ZUNsYXNzID0gKGVsKSA9PiB7XG4gIGVsLmNsYXNzTGlzdC5hZGQoQ0FSRC5MSUtFX0JVVFRPTl9BQ1RJVkUpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAn0KPQsdGA0LDRgtGMINC+0YLQvNC10YLQutGDIFxcXCLQn9C+0L3RgNCw0LLQuNC70L7RgdGMXFxcIicpO1xufTtcblxuY29uc3QgcmVtb3ZlTGlrZUFjdGl2ZUNsYXNzID0gKGVsKSA9PiB7XG4gIGVsLmNsYXNzTGlzdC5yZW1vdmUoQ0FSRC5MSUtFX0JVVFRPTl9BQ1RJVkUpO1xuICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAn0JTQvtCx0LDQstC40YLRjCDQvtGC0LzQtdGC0LrRgyBcXFwi0J/QvtC90YDQsNCy0LjQu9C+0YHRjFxcXCInKTtcbn07XG5cbmNvbnN0IHRvZ2dsZUxpa2UgPSAoZWwsIGhhc0FjdGl2ZUNsYXNzKSA9PiB7XG4gIHN3aXRjaCAoaGFzQWN0aXZlQ2xhc3MpIHtcbiAgICBjYXNlIHRydWU6XG4gICAgICByZW1vdmVMaWtlQWN0aXZlQ2xhc3MoZWwpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBmYWxzZTpcbiAgICAgIGFkZExpa2VBY3RpdmVDbGFzcyhlbCk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgY2hlY2tMaWtlQnV0dG9uQWN0aXZlQ2xhc3MgPSAoZWwpID0+IHtcbiAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhDQVJELkxJS0VfQlVUVE9OX0FDVElWRSk7XG59O1xuXG5jb25zdCBzZXRDYXJkTGlrZXMgPSAoYnV0dG9uLCBudW1iZXIsIHZhbHVlID0gMCkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykgY29uc29sZS5lcnJvcign0JfQvdCw0YfQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQu9Cw0LnQutC+0LIg0LrQsNGA0YLQvtGH0LrQuCDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0YfQuNGB0LvQvtC8Jyk7XG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlIDA6XG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShDQVJELkxJS0VfQlVUVE9OX0lTX0xJS0VEKTtcbiAgICAgIG51bWJlci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKENBUkQuTElLRV9CVVRUT05fSVNfTElLRUQpO1xuICAgICAgbnVtYmVyLnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuY29uc3QgZ2V0Q2FyZExpa2VzID0gKGVsKSA9PiB7XG4gIHJldHVybiBOdW1iZXIoZWwudGV4dENvbnRlbnQpO1xufTtcblxuY29uc3QgaW5jcmVhc2VDYXJkTGlrZXMgPSAoYnV0dG9uLCBudW1iZXIsIHZhbHVlKSA9PiB7XG4gIGNvbnN0IGluY3JlYXNlZFZhbHVlID0gdmFsdWUgKyAxO1xuICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXG4gICAgPyBjb25zb2xlLmVycm9yKCfQl9C90LDRh9C10L3QuNC1INC60L7Qu9C40YfQtdGB0YLQstCwINC70LDQudC60L7QsiDQutCw0YDRgtC+0YfQutC4INC00L7Qu9C20L3QviDQsdGL0YLRjCDRh9C40YHQu9C+0LwnKVxuICAgIDogc2V0Q2FyZExpa2VzKGJ1dHRvbiwgbnVtYmVyLCBpbmNyZWFzZWRWYWx1ZSk7XG59O1xuXG5jb25zdCBkZWNyZWFzZUNhcmRMaWtlcyA9IChidXR0b24sIG51bWJlciwgdmFsdWUpID0+IHtcbiAgY29uc3QgZGVjcmVhc2VkVmFsdWUgPSB2YWx1ZSAtIDE7XG4gIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcidcbiAgICA/IGNvbnNvbGUuZXJyb3IoJ9CX0L3QsNGH0LXQvdC40LUg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyINC60LDRgNGC0L7Rh9C60Lgg0LTQvtC70LbQvdC+INCx0YvRgtGMINGH0LjRgdC70L7QvCcpXG4gICAgOiBzZXRDYXJkTGlrZXMoYnV0dG9uLCBudW1iZXIsIGRlY3JlYXNlZFZhbHVlKTtcbn07XG5cbmNvbnN0IHVwZGF0ZU93bmVyc0xpa2UgPSAobGlrZXNBcnJheSwgdXNlcklkKSA9PiB7XG4gIHN3aXRjaCAobGlrZXNBcnJheS5sZW5ndGgpIHtcbiAgICBjYXNlIDA6XG4gICAgICBoYXNPd25lckxpa2UgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBoYXNPd25lckxpa2UgPSBsaWtlc0FycmF5LnNvbWUobGlrZSA9PiBsaWtlLl9pZCA9PT0gdXNlcklkKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG5jb25zdCBmaW5kQ3VycmVudENhcmQgPSAoaWQpID0+IHtcbiAgcmV0dXJuIGNhcmRzLmZpbmQoY2FyZCA9PiBjYXJkLl9pZCA9PT0gaWQpO1xufTtcblxuY29uc3QgaGFuZGxlTGlrZUJ1dHRvbiA9IChidXR0b24sIG51bWJlciwgaWQsIGluaXRpYWxMaWtlcywgdXNlcklkKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnQgPSBmaW5kQ3VycmVudENhcmQoaWQpO1xuICB1cGRhdGVPd25lcnNMaWtlKGN1cnJlbnQubGlrZXMsIHVzZXJJZCk7XG4gIHN3aXRjaCAoaGFzT3duZXJMaWtlKSB7XG4gICAgY2FzZSB0cnVlOlxuICAgICAgZGVsZXRlQ2FyZExpa2UoaWQpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICB1cGRhdGVPd25lcnNMaWtlKHJlcy5saWtlcywgdXNlcklkKTtcbiAgICAgICAgICAvKlxuICAgICAgICAgICAg0J/QvtC90LjQvNCw0Y4sINGH0YLQviDRgNC10YjQtdC90LjQtSDQvNGD0YLQuNGA0L7QstCw0YLRjCDQuNGB0YXQvtC00L3Ri9C5INC80LDRgdGB0LjQsiDQvdC1INC70YPRh9GI0LXQtSwg0L3QviDRjyDQvdC1INC30L3QsNGOINC60LDQuiDQtdGJ0LUg0LzQvtC20L3QviDRhdGA0LDQvdC40YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQutCw0LbQtNC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQsdC10Lcg0YHRgtC+0YDQsCDQuNC70Lgg0LrQu9Cw0YHRgdC+0LIuXG4gICAgICAgICAgICArXG4gICAgICAgICAgICDQndC1INC/0L7Qu9GD0YfQsNC10YLRgdGPINC40YHQv9GA0LDQstC40YLRjCDQsdCw0LM6INC/0YDQuCDQvNC90L7QttC10YHRgtCy0LXQvdC90L7QvCDQvdCw0LbQsNGC0LjQuCDQvdCwINC70LDQudC6LCDRgdC+0YHRgtC+0Y/QvdC40LUg0LvQsNC50LrQsCDQvdC1INCy0YHQtdCz0LTQsCDQvtGC0L/RgNCw0LLQu9GP0LXRgtGB0Y8g0L3QsCDRgdC10YDQstC10YAuXG4gICAgICAgICAgKi9cbiAgICAgICAgICBjdXJyZW50Lmxpa2VzID0gcmVzLmxpa2VzO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INGD0LTQsNC70LXQvdC40Y8g0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4OiAke2Vycm9yLnN0YXR1c1RleHR9YCkpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBmYWxzZTpcbiAgICAgIGFkZENhcmRMaWtlKGlkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgdXBkYXRlT3duZXJzTGlrZShyZXMubGlrZXMsIHVzZXJJZCk7XG4gICAgICAgICAgY3VycmVudC5saWtlcyA9IHJlcy5saWtlcztcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDQtNC+0LHQsNCy0LvQtdC90LjRjyDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG4gICAgICBicmVhaztcbiAgfVxuICBjb25zdCB2YWx1ZSA9IGdldENhcmRMaWtlcyhudW1iZXIpO1xuICBjb25zdCBoYXNBY3RpdmVDbGFzcyA9IGNoZWNrTGlrZUJ1dHRvbkFjdGl2ZUNsYXNzKGJ1dHRvbik7XG4gIGhhc0FjdGl2ZUNsYXNzID8gZGVjcmVhc2VDYXJkTGlrZXMoYnV0dG9uLCBudW1iZXIsIHZhbHVlKSA6IGluY3JlYXNlQ2FyZExpa2VzKGJ1dHRvbiwgbnVtYmVyLCB2YWx1ZSk7XG4gIHRvZ2dsZUxpa2UoYnV0dG9uLCBoYXNBY3RpdmVDbGFzcyk7XG59XG5cbmNvbnN0IGhhbmRsZVBob3RvT3ZlcmxheSA9IChjYXJkSW1hZ2UsIGNhcmRUaXRsZSkgPT4ge1xuICBvcGVuUG9wdXAocG9wdXBQaG90byk7XG4gIHBvcHVwVGl0bGUudGV4dENvbnRlbnQgPSBjYXJkVGl0bGUudGV4dENvbnRlbnQ7XG4gIHBvcHVwSW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBjYXJkSW1hZ2UuZ2V0QXR0cmlidXRlKCdzcmMnKSk7XG4gIHBvcHVwSW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCBjYXJkSW1hZ2UuZ2V0QXR0cmlidXRlKCdhbHQnKSk7XG59XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUJ1dHRvbiA9ICh0YXJnZXQsIGNhcmRJZCkgPT4ge1xuICBnbG9iYWxEZWxldGVDYXJkID0gKGUpID0+IGhhbmRsZURlbGV0ZVN1Ym1pdChlLCB0YXJnZXQsIGNhcmRJZCk7XG4gIG9wZW5Qb3B1cFdpdGhGb3JtKHBvcHVwRGVsZXRlLCAoZSkgPT4gZ2xvYmFsRGVsZXRlQ2FyZChlLCB0YXJnZXQsIGNhcmRJZCkpO1xufVxuXG5jb25zdCByZW1vdmVDYXJkTGlzdGVuZXJzID0gKHBob3RvT3ZlcmxheSwgZGVsZXRlQnV0dG9uLCBsaWtlQnV0dG9uKSA9PiB7XG4gIHBob3RvT3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlUGhvdG9PdmVybGF5KTtcbiAgZGVsZXRlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVEZWxldGVCdXR0b24pO1xuICBsaWtlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVMaWtlQnV0dG9uKTtcbn1cblxuY29uc3QgaGFuZGxlRGVsZXRlU3VibWl0ID0gKGUsIHRhcmdldCwgY2FyZElkKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc29sZS53YXJuKCdUUllJTkcgVE8gREVMRVRFJywgY2FyZElkKTtcbiAgY2hhbmdlQnV0dG9uVGV4dChwb3B1cERlbGV0ZUZvcm0pO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KENBUkQuSVRFTSk7XG4gIGNvbnN0IGNhcmRQaG90b092ZXJsYXkgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKENBUkQuSU1BR0UpO1xuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoQ0FSRC5MSUtFX0JVVFRPTik7XG4gIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKENBUkQuREVMRVRFKTtcblxuICByZW1vdmVDYXJkKGNhcmRJZClcbiAgICAudGhlbigoKSA9PiBjYXJkRWxlbWVudC5yZW1vdmUoKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuDogJHtlcnJvci5zdGF0dXNUZXh0fWApKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNoYW5nZUJ1dHRvblRleHQocG9wdXBEZWxldGVGb3JtLCBQT1BVUC5CVVRUT05fVEVYVF9TQVZFKTtcbiAgICAgIGNsb3NlUG9wdXBXaXRoRm9ybShwb3B1cERlbGV0ZSwgZ2xvYmFsRGVsZXRlQ2FyZCk7XG4gICAgICBnbG9iYWxEZWxldGVDYXJkID0gbnVsbDtcbiAgICAgIHJlbW92ZUNhcmRMaXN0ZW5lcnMoY2FyZFBob3RvT3ZlcmxheSwgY2FyZERlbGV0ZUJ1dHRvbiwgY2FyZExpa2VCdXR0b24pO1xuICAgIH0pO1xufVxuXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmQsIHVzZXJJZCkgPT4ge1xuICBjb25zdCBjYXJkSXRlbSA9IGNhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0IGNhcmRBcnRpY2xlID0gY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihDQVJELkFSVElDTEUpO1xuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkQXJ0aWNsZS5xdWVyeVNlbGVjdG9yKENBUkQuSU1BR0UpO1xuICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkQXJ0aWNsZS5xdWVyeVNlbGVjdG9yKENBUkQuVElUTEUpO1xuICBjb25zdCBjYXJkTGlrZU51bWJlciA9IGNhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5MSUtFX05VTUJFUik7XG4gIGNvbnN0IGNhcmRMaWtlQnV0dG9uID0gY2FyZEFydGljbGUucXVlcnlTZWxlY3RvcihDQVJELkxJS0VfQlVUVE9OKTtcbiAgY29uc3QgY2FyZERlbGV0ZSA9IGNhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5ERUxFVEUpO1xuICBjb25zdCBjYXJkTGlrZXNEZWZhdWx0VmFsdWUgPSAwO1xuICBjb25zdCBsaWtlc0NvdW50ID0gY2FyZC5saWtlcy5sZW5ndGggPiAwID8gY2FyZC5saWtlcy5sZW5ndGggOiBjYXJkTGlrZXNEZWZhdWx0VmFsdWU7XG4gIGNhcmRzLnB1c2goY2FyZCk7XG5cbiAgdXBkYXRlT3duZXJzTGlrZShjYXJkLmxpa2VzLCB1c2VySWQpO1xuICBzZXRDYXJkTmFtZShjYXJkVGl0bGUsIGNhcmQubmFtZSk7XG4gIHNldENhcmRJbWFnZShjYXJkSW1hZ2UsIGNhcmQubmFtZSwgY2FyZC5saW5rKTtcbiAgc2V0Q2FyZExpa2VzKGNhcmRMaWtlQnV0dG9uLCBjYXJkTGlrZU51bWJlciwgbGlrZXNDb3VudCk7XG4gIGhhc093bmVyTGlrZVxuICAgID8gYWRkTGlrZUFjdGl2ZUNsYXNzKGNhcmRMaWtlQnV0dG9uKVxuICAgIDogcmVtb3ZlTGlrZUFjdGl2ZUNsYXNzKGNhcmRMaWtlQnV0dG9uKTtcblxuICBjYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4gaGFuZGxlTGlrZUJ1dHRvbihjYXJkTGlrZUJ1dHRvbiwgY2FyZExpa2VOdW1iZXIsIGNhcmQuX2lkLCBjYXJkLmxpa2VzLCB1c2VySWQpKTtcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiBoYW5kbGVQaG90b092ZXJsYXkoY2FyZEltYWdlLCBjYXJkVGl0bGUpKTtcbiAgY2FyZC5vd25lci5faWQgPT09IHVzZXJJZFxuICAgID8gY2FyZERlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKHt0YXJnZXR9KSA9PiBoYW5kbGVEZWxldGVCdXR0b24odGFyZ2V0LCBjYXJkLl9pZCkpXG4gICAgOiBjYXJkRGVsZXRlLnJlbW92ZSgpO1xuXG4gIHJldHVybiBjYXJkSXRlbTtcbn07XG5cbmNvbnN0IHByZXBlbmRDYXJkID0gKGNhcmQpID0+IHtcbiAgY2FyZHNXcmFwcGVyLnByZXBlbmQoY2FyZCk7XG59O1xuXG5leHBvcnQge1xuICBjcmVhdGVDYXJkLFxuICBwcmVwZW5kQ2FyZFxufTtcbiIsImNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yRWxlbWVudCwgZXJyb3JNZXNzYWdlLCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvckFjdGl2ZUNsYXNzKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcbiAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIGAke2Vycm9yQWN0aXZlQ2xhc3N9YCk7XG59O1xuXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGlucHV0RXJyb3JDbGFzcywgZXJyb3JBY3RpdmVDbGFzcykgPT4ge1xuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlcnJvckFjdGl2ZUNsYXNzKTtcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XG4gIGlucHV0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckNsYXNzLCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gaW5wdXRFbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihlcnJvckNsYXNzKTtcblxuICBpbnB1dEVsZW1lbnQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoXG4gICAgPyBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoaW5wdXRFbGVtZW50LmRhdGFzZXQuaW52YWxpZE1lc3NhZ2UpXG4gICAgOiBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuXG4gICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICA/IHNob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpXG4gICAgOiBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGlucHV0RXJyb3JDbGFzcywgZXJyb3JBY3RpdmVDbGFzcyk7XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRzTGlzdCkgPT4ge1xuICByZXR1cm4gaW5wdXRzTGlzdC5zb21lKGlucHV0RWxlbWVudCA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgaW5hY3RpdmVCdXR0b25DbGFzcykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9XG59O1xuXG5jb25zdCBzZXRGb3JtRXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQsIGlucHV0U2VsZWN0b3IsIGJ1dHRvblNlbGVjdG9yLCBlcnJvclNlbGVjdG9yLCBpbnB1dEVycm9yQ2xhc3MsIGJ1dHRvbkluYWN0aXZlQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbiAgY29uc3QgaW5wdXRzTGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKSk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGJ1dHRvblNlbGVjdG9yKTtcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRzTGlzdCwgYnV0dG9uRWxlbWVudCwgYnV0dG9uSW5hY3RpdmVDbGFzcyk7XG4gIGlucHV0c0xpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvclNlbGVjdG9yLCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRzTGlzdCwgYnV0dG9uRWxlbWVudCwgYnV0dG9uSW5hY3RpdmVDbGFzcyk7XG4gICAgfSk7XG4gIH0pO1xuICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsICgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpLCAwKTtcbiAgfSk7XG59O1xuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcbiAgY29uc3QgZm9ybXNMaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1zTGlzdC5mb3JFYWNoKGZvcm0gPT4gc2V0Rm9ybUV2ZW50TGlzdGVuZXJzKFxuICAgIGZvcm0sXG4gICAgdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yLFxuICAgIHZhbGlkYXRpb25Db25maWcuYnV0dG9uU2VsZWN0b3IsXG4gICAgdmFsaWRhdGlvbkNvbmZpZy5lcnJvclNlbGVjdG9yLFxuICAgIHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzLFxuICAgIHZhbGlkYXRpb25Db25maWcuYnV0dG9uRGlzYWJsZWRDbGFzcyxcbiAgICB2YWxpZGF0aW9uQ29uZmlnLmVycm9yQWN0aXZlQ2xhc3MsXG4gICkpO1xufTtcblxuZXhwb3J0IHtcbiAgZW5hYmxlVmFsaWRhdGlvblxufTtcbiIsImltcG9ydCB7IEtFWSwgUE9QVVAsIFZBTElEQVRJT04gfSBmcm9tICcuL2VudW0uanMnO1xuXG5jb25zdCBhZGRQb3B1cEFjdGl2ZUNsYXNzID0gKHBvcHVwKSA9PiB7XG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoUE9QVVAuQUNUSVZFX0NMQVNTKTtcbn07XG5cbmNvbnN0IHJlbW92ZVBvcHVwQWN0aXZlQ2xhc3MgPSAocG9wdXApID0+IHtcbiAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShQT1BVUC5BQ1RJVkVfQ0xBU1MpO1xufTtcblxuY29uc3QgY2xvc2VQb3B1cCA9IChwb3B1cCkgPT4ge1xuICByZW1vdmVQb3B1cEFjdGl2ZUNsYXNzKHBvcHVwKTtcbiAgcmVtb3ZlUG9wdXBFdmVudExpc3RlbmVycyhwb3B1cCk7XG59O1xuXG5jb25zdCBjbG9zZVBvcHVwV2l0aEZvcm0gPSAocG9wdXAsIGhhbmRsZVN1Ym1pdCkgPT4ge1xuICBjbG9zZVBvcHVwKHBvcHVwKTtcbiAgY29uc3QgZm9ybSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoUE9QVVAuRk9STSk7XG4gIGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlU3VibWl0KTtcbiAgY29uc29sZS5sb2coJ3BvcHVwIGxlYXZlJyk7XG59O1xuXG5jb25zdCBoYW5kbGVQb3B1cE1vdXNlRXZlbnQgPSAoZSkgPT4ge1xuICBjb25zdCBwb3B1cCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpO1xuICBjb25zdCBjbG9zZUNvbmRpdGlvbiA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhQT1BVUC5DTEFTU05BTUUpXG4gICAgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFBPUFVQLkNMT1NFX0NMQVNTTkFNRSk7XG4gIGNvbnN0IGhhc0Zvcm0gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFBPUFVQLkZPUk0pICE9PSBudWxsO1xuICBpZiAoY2xvc2VDb25kaXRpb24pIChoYXNGb3JtKSA/IGNsb3NlUG9wdXBXaXRoRm9ybShwb3B1cCkgOiBjbG9zZVBvcHVwKHBvcHVwKVxufTtcblxuY29uc3QgaGFuZGxlUG9wdXBLZXlib2FyZEV2ZW50ID0gKGUpID0+IHtcbiAgaWYgKGUua2V5ID09PSBLRVkuRVNDQVBFKSB7XG4gICAgY29uc3QgcG9wdXAgPSBlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKTtcbiAgICBjb25zdCBoYXNGb3JtID0gcG9wdXAucXVlcnlTZWxlY3RvcihQT1BVUC5GT1JNKSAhPT0gbnVsbDtcbiAgICAoaGFzRm9ybSkgPyBjbG9zZVBvcHVwV2l0aEZvcm0ocG9wdXApIDogY2xvc2VQb3B1cChwb3B1cCk7XG4gIH1cbn07XG5cbmNvbnN0IG9wZW5Qb3B1cCA9IChwb3B1cCkgPT4ge1xuICBhZGRQb3B1cEFjdGl2ZUNsYXNzKHBvcHVwKTtcbiAgYWRkUG9wdXBFdmVudExpc3RlbmVycyhwb3B1cCk7XG4gIHNldFRpbWVvdXQoKCkgPT4gcG9wdXAuZm9jdXMoKSwgUE9QVVAuQU5JTUFUSU9OX0RVUkFUSU9OKTtcbn07XG5cbmNvbnN0IGNoYW5nZUJ1dHRvblRleHQgPSAoZm9ybSwgdGV4dCA9IFBPUFVQLkJVVFRPTl9URVhUX1NBVklORykgPT4ge1xuICBjb25zdCBzdWJtaXRCdXR0b25UZXh0ID0gZm9ybS5xdWVyeVNlbGVjdG9yKFZBTElEQVRJT04uQlVUVE9OX1NFTEVDVE9SKTtcbiAgc3VibWl0QnV0dG9uVGV4dC50ZXh0Q29udGVudCA9IHRleHQ7XG59O1xuXG5jb25zdCBvcGVuUG9wdXBXaXRoRm9ybSA9IChwb3B1cCwgaGFuZGxlU3VibWl0KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdwb3B1cCBlbnRlcicpO1xuICBvcGVuUG9wdXAocG9wdXApO1xuICBjb25zdCBmb3JtID0gcG9wdXAucXVlcnlTZWxlY3RvcihQT1BVUC5GT1JNKTtcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVTdWJtaXQpO1xufTtcblxuZnVuY3Rpb24gYWRkUG9wdXBFdmVudExpc3RlbmVycyhwb3B1cCkge1xuICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVQb3B1cE1vdXNlRXZlbnQpO1xuICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlUG9wdXBLZXlib2FyZEV2ZW50KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUG9wdXBFdmVudExpc3RlbmVycyhwb3B1cCkge1xuICBwb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVQb3B1cE1vdXNlRXZlbnQpO1xuICBwb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlUG9wdXBLZXlib2FyZEV2ZW50KTtcbn1cblxuZXhwb3J0IHtcbiAgY2xvc2VQb3B1cCxcbiAgb3BlblBvcHVwLFxuICBjaGFuZ2VCdXR0b25UZXh0LFxuICBjbG9zZVBvcHVwV2l0aEZvcm0sXG4gIG9wZW5Qb3B1cFdpdGhGb3JtXG59O1xuIiwiY29uc3QgY29uZmlnID0ge1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL3BsdXMtY29ob3J0LTE5JyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICcwZjllNjc2My1jYTU5LTRkNmEtYjc4OC1iNmM5ODU2MDI1MjQnLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gIH0sXG59O1xuXG5cbmNvbnN0IGdldEpzb24gPSAocmVzKSA9PiB7XG4gIHJldHVybiByZXMub2tcbiAgICA/IHJlcy5qc29uKClcbiAgICA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAhJHtyZXMuc3RhdHVzVGV4dH0g0JrQvtC0INC+0YjQuNCx0LrQuDogJHtyZXMuc3RhdHVzfS5gKTtcbn07XG5cbmNvbnN0IGdldFVzZXIgPSAoKSA9PiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxufSlcbiAgLnRoZW4oKHJlcykgPT4gZ2V0SnNvbihyZXMpKVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUuICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG5cblxuY29uc3QgZ2V0Q2FyZHMgPSAoKSA9PiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHNgLCB7XG4gIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzLFxufSlcbiAgLnRoZW4oKHJlcykgPT4gZ2V0SnNvbihyZXMpKVxuICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQutCw0YDRgtC+0YfQutCw0YUuICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG5cblxuY29uc3QgdXBkYXRlVXNlciA9ICh7IG5hbWUsIGFib3V0IH0pID0+IHtcbiAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZSxcbiAgICAgIGFib3V0XG4gICAgfSlcbiAgfSlcbiAgICAudGhlbigocmVzKSA9PiBnZXRKc29uKHJlcykpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDQvtCx0L3QvtCy0LvQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8uICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG59O1xuXG5jb25zdCB1cGRhdGVVc2VyQXZhdGFyID0gKGF2YXRhcikgPT4ge1xuICByZXR1cm4gZmV0Y2goYCR7Y29uZmlnLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgYXZhdGFyXG4gICAgfSlcbiAgfSlcbiAgICAudGhlbigocmVzKSA9PiBnZXRKc29uKHJlcykpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8uICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG59O1xuXG5jb25zdCBhZGRDYXJkID0gKHsgbmFtZSwgbGluayB9KSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZSxcbiAgICAgIGxpbmtcbiAgICB9KVxuICB9KVxuICAgIC50aGVuKChyZXMpID0+IGdldEpzb24ocmVzKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LguICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG5cbn07XG5cbmNvbnN0IHJlbW92ZUNhcmQgPSAoY2FyZElkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnNcbiAgfSlcbiAgICAudGhlbigocmVzKSA9PiBnZXRKc29uKHJlcykpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LguICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSk7XG59O1xuXG5jb25zdCBkZWxldGVDYXJkTGlrZSA9IChjYXJkSWQpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVyc1xuICB9KVxuICAgIC50aGVuKChyZXMpID0+IGdldEpzb24ocmVzKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INGD0LTQsNC70LXQvdC40Y8g0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4LiAke2Vycm9yLnN0YXR1c1RleHR9YCkpO1xufTtcblxuY29uc3QgYWRkQ2FyZExpa2UgPSAoY2FyZElkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgJHtjb25maWcuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgaGVhZGVyczogY29uZmlnLmhlYWRlcnMsXG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gZ2V0SnNvbihyZXMpKVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCAke2Vycm9yLnN0YXR1c30g0LTQvtCx0LDQstC70LXQvdC40Y8g0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4LiAke2Vycm9yLnN0YXR1c1RleHR9YCkpO1xufTtcblxuZXhwb3J0IHtcbiAgZ2V0VXNlcixcbiAgZ2V0Q2FyZHMsXG4gIHVwZGF0ZVVzZXIsXG4gIGFkZENhcmQsXG4gIHJlbW92ZUNhcmQsXG4gIGRlbGV0ZUNhcmRMaWtlLFxuICBhZGRDYXJkTGlrZSxcbiAgdXBkYXRlVXNlckF2YXRhclxufTtcbiIsImltcG9ydCB7IGNoYW5nZUJ1dHRvblRleHQsIGNsb3NlUG9wdXAsIGNsb3NlUG9wdXBXaXRoRm9ybSwgb3BlblBvcHVwV2l0aEZvcm0gfSBmcm9tICcuL3BvcHVwLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNhcmQsIHByZXBlbmRDYXJkIH0gZnJvbSAnLi9jYXJkLmpzJztcbmltcG9ydCB7IFBST0ZJTEUsIFBPUFVQIH0gZnJvbSAnLi9lbnVtLmpzJztcbmltcG9ydCB7IHVwZGF0ZVVzZXIsIGFkZENhcmQsIHVwZGF0ZVVzZXJBdmF0YXIgfSBmcm9tICcuL2FwaS5qcyc7XG5cbmNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQT1BVUC5BVkFUQVIpO1xuY29uc3QgYXZhdGFyUG9wdXBPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQUk9GSUxFLkFWQVRBUik7XG5jb25zdCBhdmF0YXJQb3B1cEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tQUk9GSUxFLkZPUk1fQVZBVEFSXTtcbmNvbnN0IGF2YXRhclBvcHVwTGlua0lucHV0ID0gYXZhdGFyUG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoUE9QVVAuSU5QVVRfTElOSyk7XG5jb25zdCBwcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBPUFVQLlBST0ZJTEUpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9OQU1FKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9BVkFUQVIpO1xuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQ09OVEVOVF9PQ0NVUEFUSU9OKTtcbmNvbnN0IHByb2ZpbGVQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuQlVUVE9OX0VESVQpO1xuY29uc3QgcHJvZmlsZVBvcHVwRm9ybSA9IGRvY3VtZW50LmZvcm1zW1BST0ZJTEUuRk9STV9QUk9GSUxFXTtcbmNvbnN0IHByb2ZpbGVQb3B1cE5hbWVJbnB1dCA9IHByb2ZpbGVQb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihQUk9GSUxFLklOUFVUX05BTUUpO1xuY29uc3QgcHJvZmlsZVBvcHVwT2NjdXBhdGlvbklucHV0ID0gcHJvZmlsZVBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFBST0ZJTEUuSU5QVVRfT0NDVVBBVElPTik7XG5jb25zdCBjYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBPUFVQLkNBUkQpO1xuY29uc3QgY2FyZFBvcHVwT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUFJPRklMRS5CVVRUT05fQUREKTtcbmNvbnN0IGNhcmRQb3B1cEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tQUk9GSUxFLkZPUk1fQ0FSRF07XG5jb25zdCBjYXJkUG9wdXBUaXRsZUlucHV0ID0gY2FyZFBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFBPUFVQLklOUFVUX1RJVExFKTtcbmNvbnN0IGNhcmRQb3B1cExpbmtJbnB1dCA9IGNhcmRQb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihQT1BVUC5JTlBVVF9MSU5LKTtcblxuY29uc3Qgc2V0Rm9ybSA9ICgpID0+IHtcbiAgcHJvZmlsZVBvcHVwTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIHByb2ZpbGVQb3B1cE9jY3VwYXRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50O1xufTtcblxuY29uc3Qgc2V0UHJvZmlsZUF2YXRhciA9IChzcmMpID0+IHtcbiAgcHJvZmlsZUF2YXRhci5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG59O1xuXG5jb25zdCBzZXRQcm9maWxlTmFtZSA9IChuYW1lKSA9PiB7XG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbn07XG5cbmNvbnN0IHNldFByb2ZpbGVPY2N1cGF0aW9uID0gKG9jY3VwYXRpb24pID0+IHtcbiAgcHJvZmlsZU9jY3VwYXRpb24udGV4dENvbnRlbnQgPSBvY2N1cGF0aW9uO1xufTtcblxuY29uc3QgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCA9IChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY2hhbmdlQnV0dG9uVGV4dChhdmF0YXJQb3B1cEZvcm0pO1xuICBjb25zdCBhdmF0YXIgPSBhdmF0YXJQb3B1cExpbmtJbnB1dC52YWx1ZTtcbiAgdXBkYXRlVXNlckF2YXRhcihhdmF0YXIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgc2V0UHJvZmlsZUF2YXRhcihyZXMuYXZhdGFyKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsCAke2Vycm9yLnN0YXR1c30g0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjzogJHtlcnJvci5zdGF0dXNUZXh0fWApKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGF2YXRhclBvcHVwRm9ybS5yZXNldCgpO1xuICAgICAgY2hhbmdlQnV0dG9uVGV4dChhdmF0YXJQb3B1cEZvcm0sIFBPUFVQLkJVVFRPTl9URVhUX1NBVkUpO1xuICAgICAgY2xvc2VQb3B1cChhdmF0YXJQb3B1cCk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVPcGVuQXZhdGFyID0gKCkgPT4ge1xuICBvcGVuUG9wdXBXaXRoRm9ybShhdmF0YXJQb3B1cCwgKGUpID0+IGhhbmRsZUF2YXRhckZvcm1TdWJtaXQoZSkpO1xufTtcblxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNoYW5nZUJ1dHRvblRleHQocHJvZmlsZVBvcHVwRm9ybSk7XG4gIHNldFByb2ZpbGVOYW1lKHByb2ZpbGVQb3B1cE5hbWVJbnB1dC52YWx1ZSk7XG4gIHNldFByb2ZpbGVPY2N1cGF0aW9uKHByb2ZpbGVQb3B1cE9jY3VwYXRpb25JbnB1dC52YWx1ZSk7XG4gIGNvbnN0IHVzZXIgPSB7IG5hbWU6IHByb2ZpbGVQb3B1cE5hbWVJbnB1dC52YWx1ZSwgYWJvdXQ6IHByb2ZpbGVQb3B1cE9jY3VwYXRpb25JbnB1dC52YWx1ZSB9O1xuICB1cGRhdGVVc2VyKHVzZXIpXG4gICAgLnRoZW4odXNlciA9PiB7XG4gICAgICBzZXRQcm9maWxlTmFtZSh1c2VyLm5hbWUpO1xuICAgICAgc2V0UHJvZmlsZU9jY3VwYXRpb24odXNlci5hYm91dCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAgJHtlcnJvci5zdGF0dXN9INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/RgNC+0YTQuNC70Y86ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9maWxlUG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgICBjaGFuZ2VCdXR0b25UZXh0KHByb2ZpbGVQb3B1cEZvcm0sIFBPUFVQLkJVVFRPTl9URVhUX1NBVkUpO1xuICAgICAgY2xvc2VQb3B1cFdpdGhGb3JtKHByb2ZpbGVQb3B1cCwgKGUpID0+IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGUpKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZU9wZW5Qcm9maWxlID0gKCkgPT4ge1xuICBvcGVuUG9wdXBXaXRoRm9ybShwcm9maWxlUG9wdXAsIChlKSA9PiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChlKSk7XG4gIHNldEZvcm0oKTtcbn07XG5cbmNvbnN0IGhhbmRsZUNhcmRGb3JtU3VibWl0ID0gKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjaGFuZ2VCdXR0b25UZXh0KGNhcmRQb3B1cEZvcm0pO1xuICBjb25zdCBjYXJkID0ge1xuICAgIG5hbWU6IGNhcmRQb3B1cFRpdGxlSW5wdXQudmFsdWUsXG4gICAgbGluazogY2FyZFBvcHVwTGlua0lucHV0LnZhbHVlXG4gIH07XG4gIGFkZENhcmQoY2FyZClcbiAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZENsb25lID0gY3JlYXRlQ2FyZChjYXJkLCBjYXJkLm93bmVyLl9pZCk7XG4gICAgICBwcmVwZW5kQ2FyZChjYXJkQ2xvbmUpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSBj0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuDogJHtlcnJvci5zdGF0dXNUZXh0fWApKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNhcmRQb3B1cEZvcm0ucmVzZXQoKTtcbiAgICAgIGNoYW5nZUJ1dHRvblRleHQoY2FyZFBvcHVwRm9ybSwgUE9QVVAuQlVUVE9OX1RFWFRfQ1JFQVRFKTtcbiAgICAgIGNsb3NlUG9wdXAoY2FyZFBvcHVwKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGhhbmRsZUNhcmRQb3B1cE9wZW5CdXR0b24gPSAoKSA9PiB7XG4gIC8vIG9wZW5Qb3B1cFdpdGhGb3JtKGNhcmRQb3B1cCwgKGUpID0+IGhhbmRsZUNhcmRGb3JtU3VibWl0KGUpKTtcbiAgY29uc3QgY2FyZCA9IHtcbiAgICBuYW1lOiAndGVzdCBjYXJkJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NjQ4NTg3NjM5NzUtZDk5ZGU1OWVlNGJiP2l4bGliPXJiLTQuMC4zJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xNzQyJnE9ODAnXG4gIH07XG4gIGFkZENhcmQoY2FyZClcbiAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZENsb25lID0gY3JlYXRlQ2FyZChjYXJkLCBjYXJkLm93bmVyLl9pZCk7XG4gICAgICBwcmVwZW5kQ2FyZChjYXJkQ2xvbmUpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwICR7ZXJyb3Iuc3RhdHVzfSBj0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuDogJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY2FyZFBvcHVwRm9ybS5yZXNldCgpO1xuICAgICAgY2hhbmdlQnV0dG9uVGV4dChjYXJkUG9wdXBGb3JtLCBQT1BVUC5CVVRUT05fVEVYVF9DUkVBVEUpO1xuICAgICAgY2xvc2VQb3B1cChjYXJkUG9wdXApO1xuICAgIH0pO1xufTtcblxuY29uc3QgYWRkUHJvZmlsZUxpc3RlbmVycyA9ICgpID0+IHtcbiAgY2FyZFBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiBoYW5kbGVDYXJkUG9wdXBPcGVuQnV0dG9uKCkpO1xuICBwcm9maWxlUG9wdXBPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IGhhbmRsZU9wZW5Qcm9maWxlKCkpO1xuICBhdmF0YXJQb3B1cE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gaGFuZGxlT3BlbkF2YXRhcigpKTtcbn07XG5cbmV4cG9ydCB7XG4gIGFkZFByb2ZpbGVMaXN0ZW5lcnMsXG4gIHNldFByb2ZpbGVBdmF0YXIsXG4gIHNldFByb2ZpbGVOYW1lLFxuICBzZXRQcm9maWxlT2NjdXBhdGlvblxufTtcbiIsImltcG9ydCAnLi9zdHlsZXMvcGFnZXMvaW5kZXguY3NzJztcbmltcG9ydCB7IFZBTElEQVRJT04gfSBmcm9tICcuL2NvbXBvbmVudHMvZW51bS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDYXJkLCBwcmVwZW5kQ2FyZCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLmpzJztcbmltcG9ydCB7IGFkZFByb2ZpbGVMaXN0ZW5lcnMsIHNldFByb2ZpbGVBdmF0YXIsIHNldFByb2ZpbGVOYW1lLCBzZXRQcm9maWxlT2NjdXBhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9wcm9maWxlLmpzJztcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvdmFsaWRhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRVc2VyLCBnZXRDYXJkcyB9IGZyb20gJy4vY29tcG9uZW50cy9hcGkuanMnO1xuXG5sZXQgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpIHx8IG51bGw7XG5cbmFkZFByb2ZpbGVMaXN0ZW5lcnMoKTtcblxuZW5hYmxlVmFsaWRhdGlvbih7XG4gIGZvcm1TZWxlY3RvcjogVkFMSURBVElPTi5GT1JNX1NFTEVDVE9SLFxuICBpbnB1dFNlbGVjdG9yOiBWQUxJREFUSU9OLklOUFVUX1NFTEVDVE9SLFxuICBidXR0b25TZWxlY3RvcjogVkFMSURBVElPTi5CVVRUT05fU0VMRUNUT1IsXG4gIGVycm9yU2VsZWN0b3I6IFZBTElEQVRJT04uRVJST1JfU0VMRUNUT1IsXG4gIGlucHV0RXJyb3JDbGFzczogVkFMSURBVElPTi5JTlBVVF9FUlJPUl9DTEFTUyxcbiAgYnV0dG9uRGlzYWJsZWRDbGFzczogVkFMSURBVElPTi5CVVRUT05fRElTQUJMRURfQ0xBU1MsXG4gIGVycm9yQWN0aXZlQ2xhc3M6IFZBTElEQVRJT04uRVJST1JfQUNUSVZFX0NMQVNTXG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgZ2V0VXNlcigpXG4gICAgLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgIHNldFByb2ZpbGVBdmF0YXIodXNlci5hdmF0YXIpO1xuICAgICAgc2V0UHJvZmlsZU5hbWUodXNlci5uYW1lKTtcbiAgICAgIHNldFByb2ZpbGVPY2N1cGF0aW9uKHVzZXIuYWJvdXQpO1xuICAgICAgdXNlcklkID0gdXNlci5faWQ7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdXNlcklkKTtcbiAgICB9KTtcbiAgZ2V0Q2FyZHMoKVxuICAgIC50aGVuKChjYXJkcykgPT4ge1xuICAgICAgY2FyZHNcbiAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICAuZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkQ2xvbmUgPSBjcmVhdGVDYXJkKGNhcmQsIHVzZXJJZCk7XG4gICAgICAgICAgcHJlcGVuZENhcmQoY2FyZENsb25lKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcblxuaWYgKEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5vcmlnaW5hbF9hZGRFdmVudExpc3RlbmVyID09IG51bGwpIHtcbiAgRXZlbnRUYXJnZXQucHJvdG90eXBlLm9yaWdpbmFsX2FkZEV2ZW50TGlzdGVuZXIgPSBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjtcblxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyX2hvb2sodHlwLCBmbiwgb3B0KSB7XG4gICAgY29uc29sZS5sb2coJy0tLSBhZGQgZXZlbnQgbGlzdGVuZXInLHRoaXMubm9kZU5hbWUsdHlwKTtcbiAgICB0aGlzLmFsbF9oYW5kbGVycyA9IHRoaXMuYWxsX2hhbmRsZXJzIHx8IFtdO1xuICAgIHRoaXMuYWxsX2hhbmRsZXJzLnB1c2goe3R5cCxmbixvcHR9KTtcbiAgICB0aGlzLm9yaWdpbmFsX2FkZEV2ZW50TGlzdGVuZXIodHlwLCBmbiwgb3B0KTtcbiAgfVxuXG4gIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcl9ob29rO1xufVxuXG5pZiAoRXZlbnRUYXJnZXQucHJvdG90eXBlLm9yaWdpbmFsX3JlbW92ZUV2ZW50TGlzdGVuZXIgPT0gbnVsbCkge1xuICBFdmVudFRhcmdldC5wcm90b3R5cGUub3JpZ2luYWxfcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyO1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJfaG9vayh0eXAsIGZuLCBvcHQpIHtcbiAgICBjb25zb2xlLmxvZygnLS0tIHJlbW92ZSBldmVudCBsaXN0ZW5lcicsdGhpcy5ub2RlTmFtZSx0eXApO1xuICAgIHRoaXMuYWxsX2hhbmRsZXJzID0gdGhpcy5hbGxfaGFuZGxlcnMgfHwgW107XG4gICAgdGhpcy5hbGxfaGFuZGxlcnMucHVzaCh7dHlwLGZuLG9wdH0pO1xuICAgIHRoaXMub3JpZ2luYWxfYWRkRXZlbnRMaXN0ZW5lcih0eXAsIGZuLCBvcHQpO1xuICB9XG5cbiAgRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyX2hvb2s7XG59XG4iXSwibmFtZXMiOlsiaGFzT3duZXJMaWtlIiwidmFsaWRhdGlvbkNvbmZpZyIsIlZBTElEQVRJT04iLCJQT1BVUCIsIkNBUkQiLCJjbG9zZVBvcHVwIiwicG9wdXAiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVQb3B1cEFjdGl2ZUNsYXNzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVBvcHVwTW91c2VFdmVudCIsImhhbmRsZVBvcHVwS2V5Ym9hcmRFdmVudCIsInJlbW92ZVBvcHVwRXZlbnRMaXN0ZW5lcnMiLCJjbG9zZVBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY2xvc2VDb25kaXRpb24iLCJjb250YWlucyIsImhhc0Zvcm0iLCJrZXkiLCJvcGVuUG9wdXAiLCJhZGQiLCJhZGRQb3B1cEFjdGl2ZUNsYXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZFBvcHVwRXZlbnRMaXN0ZW5lcnMiLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJjaGFuZ2VCdXR0b25UZXh0IiwiZm9ybSIsInRleHQiLCJzdWJtaXRCdXR0b25UZXh0IiwidGV4dENvbnRlbnQiLCJvcGVuUG9wdXBXaXRoRm9ybSIsImNvbmZpZyIsImJhc2VVcmwiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImdldEpzb24iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsInN0YXR1cyIsImNhcmRUZW1wbGF0ZSIsImRvY3VtZW50IiwiY29udGVudCIsImNhcmRzV3JhcHBlciIsInBvcHVwRGVsZXRlIiwicG9wdXBEZWxldGVGb3JtIiwicG9wdXBQaG90byIsInBvcHVwSW1hZ2UiLCJwb3B1cFRpdGxlIiwiY2FyZHMiLCJnbG9iYWxEZWxldGVDYXJkIiwiYWRkTGlrZUFjdGl2ZUNsYXNzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMaWtlQWN0aXZlQ2xhc3MiLCJzZXRDYXJkTGlrZXMiLCJidXR0b24iLCJudW1iZXIiLCJ2YWx1ZSIsImVycm9yIiwidXBkYXRlT3duZXJzTGlrZSIsImxpa2VzQXJyYXkiLCJ1c2VySWQiLCJsZW5ndGgiLCJzb21lIiwibGlrZSIsIl9pZCIsImhhbmRsZUxpa2VCdXR0b24iLCJpZCIsImluaXRpYWxMaWtlcyIsImNhcmRJZCIsImN1cnJlbnQiLCJmaW5kIiwiY2FyZCIsImZpbmRDdXJyZW50Q2FyZCIsImxpa2VzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiY2F0Y2giLCJhZGRDYXJkTGlrZSIsIk51bWJlciIsImhhc0FjdGl2ZUNsYXNzIiwiZGVjcmVhc2VkVmFsdWUiLCJkZWNyZWFzZUNhcmRMaWtlcyIsImluY3JlYXNlZFZhbHVlIiwiaW5jcmVhc2VDYXJkTGlrZXMiLCJ0b2dnbGVMaWtlIiwiaGFuZGxlUGhvdG9PdmVybGF5IiwiY2FyZEltYWdlIiwiY2FyZFRpdGxlIiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwiaGFuZGxlRGVsZXRlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJ3YXJuIiwiY2FyZEVsZW1lbnQiLCJjYXJkUGhvdG9PdmVybGF5IiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwicmVtb3ZlQ2FyZCIsImZpbmFsbHkiLCJkZWxldGVCdXR0b24iLCJsaWtlQnV0dG9uIiwiY3JlYXRlQ2FyZCIsInRpdGxlIiwiY2FyZEl0ZW0iLCJjbG9uZU5vZGUiLCJjYXJkQXJ0aWNsZSIsImNhcmRMaWtlTnVtYmVyIiwiY2FyZERlbGV0ZSIsImxpa2VzQ291bnQiLCJwdXNoIiwibmFtZSIsImltYWdlIiwic2V0Q2FyZEltYWdlIiwibGluayIsIm93bmVyIiwicHJlcGVuZENhcmQiLCJwcmVwZW5kIiwiYXZhdGFyUG9wdXAiLCJhdmF0YXJQb3B1cE9wZW5CdXR0b24iLCJhdmF0YXJQb3B1cEZvcm0iLCJmb3JtcyIsImF2YXRhclBvcHVwTGlua0lucHV0IiwicHJvZmlsZVBvcHVwIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlQXZhdGFyIiwicHJvZmlsZU9jY3VwYXRpb24iLCJwcm9maWxlUG9wdXBPcGVuQnV0dG9uIiwicHJvZmlsZVBvcHVwRm9ybSIsInByb2ZpbGVQb3B1cE5hbWVJbnB1dCIsInByb2ZpbGVQb3B1cE9jY3VwYXRpb25JbnB1dCIsImNhcmRQb3B1cCIsImNhcmRQb3B1cE9wZW5CdXR0b24iLCJjYXJkUG9wdXBGb3JtIiwic2V0UHJvZmlsZUF2YXRhciIsInNyYyIsInNldFByb2ZpbGVOYW1lIiwic2V0UHJvZmlsZU9jY3VwYXRpb24iLCJvY2N1cGF0aW9uIiwiaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQiLCJhYm91dCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlciIsInJlc2V0IiwiaGFuZGxlT3BlblByb2ZpbGUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsInJlbW92ZUF0dHJpYnV0ZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjYXJkQ2xvbmUiLCJhdmF0YXIiLCJoYW5kbGVBdmF0YXJGb3JtU3VibWl0IiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsImJ1dHRvblNlbGVjdG9yIiwiZXJyb3JTZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImJ1dHRvbkRpc2FibGVkQ2xhc3MiLCJlcnJvckFjdGl2ZUNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJmb3JtRWxlbWVudCIsImJ1dHRvbkluYWN0aXZlQ2xhc3MiLCJpbnB1dHNMaXN0IiwiZXJyb3JDbGFzcyIsImVycm9yRWxlbWVudCIsInBhcmVudE5vZGUiLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXRDdXN0b21WYWxpZGl0eSIsImRhdGFzZXQiLCJpbnZhbGlkTWVzc2FnZSIsImhpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwic2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNldEl0ZW0iLCJyZXZlcnNlIiwiRXZlbnRUYXJnZXQiLCJwcm90b3R5cGUiLCJvcmlnaW5hbF9hZGRFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lcl9ob29rIiwidHlwIiwiZm4iLCJvcHQiLCJ0aGlzIiwibm9kZU5hbWUiLCJhbGxfaGFuZGxlcnMiLCJvcmlnaW5hbF9yZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcl9ob29rIl0sInNvdXJjZVJvb3QiOiIifQ==