/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}var a=function(){function t(e){var r=e.headers,n=e.baseUrl;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._headers=r,this._baseUrl=n}var e,n;return e=t,n=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("".concat(t.statusText).concat(t.status))}},{key:"_request",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="".concat(this._baseUrl,"/").concat(t);return fetch(o,r({headers:this._headers},n)).then((function(t){return e._checkResponse(t)}))}},{key:"getUser",value:function(){return this._request("users/me")}},{key:"getCards",value:function(){return this._request("cards")}},{key:"getAppData",value:function(){return Promise.all([this.getUser(),this.getCards()])}},{key:"updateUser",value:function(t){var e=t.name,r=t.about;return this._request("users/me",{method:"PATCH",body:JSON.stringify({name:e,about:r})})}},{key:"updateUserAvatar",value:function(t){return this._request("users/me/avatar",{method:"PATCH",body:JSON.stringify({avatar:t})})}},{key:"addCard",value:function(t){var e=t.name,r=t.link;return this._request("cards",{method:"POST",body:JSON.stringify({name:e,link:r})})}},{key:"removeCard",value:function(t){return this._request("cards/".concat(t),{method:"DELETE"})}},{key:"toggleLike",value:function(t,e){return this._request("cards/likes/".concat(t),{method:e?"DELETE":"PUT"})}}],n&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u={baseUrl:"https://nomoreparties.co/v1/plus-cohort-19",headers:{authorization:"0f9e6763-ca59-4d6a-b788-b6c985602524","Content-Type":"application/json"}},c={formSelector:".form",inputSelector:".form__input",buttonSelector:".form__button",errorSelector:".form__error",inputErrorClass:"form__input_type_error",buttonDisabledClass:"form__button_type_disabled",errorActiveClass:"form__error_active"},s="loader_active",l="loader__skeleton",f="loader__skeleton_type_text",p="keydown",d="mousedown",y="click",h=".profile__name",v=".profile__occupation",m=".profile__avatar",b="popup_active",_="error__item_active",g="#card",w="card__like-button_active",k="card__like-button_liked_true";function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function E(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(o)?o:String(o)),n)}var o}var j=function(){function t(e,r,n){var o=E(r).slice(0),i=E(n).slice(0);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loader=document.querySelector(e),this._textElements=document.querySelectorAll(o),this._imageElements=document.querySelectorAll(i)}var e,r;return e=t,(r=[{key:"_showSpinner",value:function(){this._loader.classList.add(s)}},{key:"_hideSpinner",value:function(){this._loader.classList.remove(s)}},{key:"_addImageEffect",value:function(){this._imageElements.forEach((function(t){t.classList.add(l)}))}},{key:"_removeImageEffect",value:function(){this._imageElements.forEach((function(t){t.classList.remove(l)}))}},{key:"_addTextEffect",value:function(){this._textElements.forEach((function(t){t.classList.add(l),t.classList.add(f)}))}},{key:"_removeTextEffect",value:function(){this._textElements.forEach((function(t){t.classList.remove(l),t.classList.remove(f)}))}},{key:"startLoader",value:function(){this._addTextEffect(),this._addImageEffect(),this._showSpinner()}},{key:"endLoader",value:function(){this._removeTextEffect(),this._removeImageEffect(),this._hideSpinner()}}])&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var x=function(){function t(e){var r=e.nameSelector,n=e.occupationSelector,o=e.avatarSelector,i=e.avatarButtonSelector,a=e.editButtonSelector,u=e.addCardButtonSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._profileNameElement=document.querySelector(r),this._profileAboutElement=document.querySelector(n),this._profileAvatarElement=document.querySelector(o),this._profileAvatarParentElement=document.querySelector(i),this._profileEditButton=document.querySelector(a),this._profileAddCardButton=document.querySelector(u)}var e,r;return e=t,(r=[{key:"addAvatarListener",value:function(t){this._profileAvatarParentElement.addEventListener(y,(function(){t()}))}},{key:"addEditButtonListener",value:function(t){this._profileEditButton.addEventListener(y,(function(){t()}))}},{key:"addNewCardButtonListener",value:function(t){this._profileAddCardButton.addEventListener(y,(function(){t()}))}},{key:"getUserInfo",value:function(){return{name:this._profileNameElement.textContent,about:this._profileAboutElement.textContent,avatar:this._profileAvatarElement.src,id:this._userId}}},{key:"setUserInfo",value:function(t){var e=t.name,r=t.about,n=t.avatar,o=t.id;e&&(this._profileNameElement.textContent=e),r&&(this._profileAboutElement.textContent=r),n&&(this._profileAvatarElement.src=n),o&&(this._userId=o)}}])&&P(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===A(o)?o:String(o)),n)}var o}var T=function(){function t(e){var r=e.data,n=e.renderer,o=e.containerSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._array=r,this._renderer=n,this._container=document.querySelector(o)}var e,r;return e=t,(r=[{key:"render",value:function(){var t=this;this._array.reverse().forEach((function(e){return t._renderer(e)}))}},{key:"prepend",value:function(t){this._container.prepend(t)}}])&&I(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}var D=function(){function t(e){var r=e.selector,n=e.card,o=n.name,i=n.link,a=n.owner,u=n.likes,c=n.id,s=e.userId,l=e.handleLikeBtnClick,f=e.handleDeleteBtnClick,p=e.handleImageClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._owner=a,this._likes=u,this._name=o,this._link=i,this._id=c,this._userId=s,this._handleLikeBtnClick=l,this._handleDeleteBtnClick=f,this._handleImageClick=p,this._cardTemplate=document.querySelector(r).content.querySelector(".feed__item"),this._cardItem=this._cardTemplate.cloneNode(!0),this._cardArticle=this._cardItem.querySelector(".card"),this._cardImage=this._cardArticle.querySelector(".card__image"),this._cardTitle=this._cardArticle.querySelector(".card__title"),this._cardLikeNumber=this._cardArticle.querySelector(".card__like-number"),this._cardLikeButton=this._cardArticle.querySelector(".card__like-button"),this._cardDelete=this._cardArticle.querySelector(".card__delete")}var e,r;return e=t,(r=[{key:"_setCardContent",value:function(){this._cardTitle.textContent=this._name,this._cardImage.setAttribute("src",this._link),this._cardImage.setAttribute("alt",this._name)}},{key:"toggleLike",value:function(t){this._likes=t.likes,this.updateOwnersLike(),this._setLikesQuantity(),this._toggleLikesClass()}},{key:"_setLikesQuantity",value:function(){0===this._likes.length?(this._cardLikeButton.classList.remove(k),this._cardLikeNumber.textContent=""):(this._cardLikeButton.classList.add(k),this._cardLikeNumber.textContent=this._likes.length)}},{key:"updateOwnersLike",value:function(){var t=this;return this._hasOwnerLike=this._likes.some((function(e){return e._id===t._userId})),this._likes.some((function(e){return e._id===t._userId}))}},{key:"getData",value:function(){return{name:this._name,link:this._link,owner:this._owner,likes:this._likes,id:this._id,hasOwnerLike:this._hasOwnerLike}}},{key:"remove",value:function(){this._cardItem.remove()}},{key:"generate",value:function(){return this._hasOwnerLike=this.updateOwnersLike(this._likes,this._userId),this._setCardContent(),this._setLikesQuantity(),this._toggleLikesClass(),this._setEventListeners(),this._cardItem}},{key:"_toggleLikesClass",value:function(){switch(this._hasOwnerLike){case!0:this._cardLikeButton.classList.add(w),this._cardLikeButton.setAttribute("aria-label",'Убрать отметку "Понравилось"');break;case!1:this._cardLikeButton.classList.remove(w),this._cardLikeButton.setAttribute("aria-label",'Добавить отметку "Понравилось"')}}},{key:"_setEventListeners",value:function(){var t=this;this._cardLikeButton.addEventListener(y,(function(){return t._handleLikeBtnClick(t)})),this._cardImage.addEventListener(y,(function(){return t._handleImageClick(t)})),this._owner._id===this._userId?this._cardDelete.addEventListener(y,this._handleDeleteBtnClick):this._cardDelete.remove()}}])&&B(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===U(o)?o:String(o)),n)}var o}var R=function(){function t(e){var r=e.formSelector,n=e.inputSelector,o=e.buttonSelector,i=e.errorSelector,a=e.inputErrorClass,u=e.buttonDisabledClass,c=e.errorActiveClass;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formsList=Array.from(document.querySelectorAll(r)),this._inputSelector=n,this._buttonSelector=o,this._errorSelector=i,this._inputErrorClass=a,this._buttonDisabledClass=u,this._errorActiveClass=c}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t,e,r,n){r.textContent=n,r.classList.add(this._errorActiveClass),e.classList.add(this._inputErrorClass),e.setAttribute("aria-describedby","".concat(this._errorActiveClass))}},{key:"_hideInputError",value:function(t,e,r){r.classList.remove(this._errorActiveClass),r.textContent="",e.classList.remove(this._inputErrorClass),e.removeAttribute("aria-describedby")}},{key:"_checkInputValidity",value:function(t,e){var r=e.parentNode.querySelector(this._errorSelector);e.validity.patternMismatch?e.setCustomValidity(e.dataset.invalidMessage):e.setCustomValidity(""),e.validity.valid?this._hideInputError(t,e,r):this._showInputError(t,e,r,e.validationMessage)}},{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(t,e){this._hasInvalidInput(t)?(e.classList.add(this._buttonDisabledClass),e.setAttribute("disabled","disabled")):(e.classList.remove(this._buttonDisabledClass),e.removeAttribute("disabled","disabled"))}},{key:"_setFormEventListeners",value:function(t){var e=this,r=Array.from(t.querySelectorAll(this._inputSelector)),n=t.querySelector(this._buttonSelector);this._toggleButtonState(r,n),r.forEach((function(o){o.addEventListener("input",(function(){e._checkInputValidity(t,o),e._toggleButtonState(r,n)}))})),t.addEventListener("reset",(function(){setTimeout((function(){return e._toggleButtonState(r,n)}),0)}))}},{key:"enableValidation",value:function(){var t=this;this._formsList.forEach((function(e){return t._setFormEventListeners(e,t._inputSelector,t._buttonSelector,t._errorSelector,t._inputErrorClass,t._buttonDisabledClass,t._errorActiveClass)}))}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function F(t){var e=function(t,e){if("object"!==H(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===H(e)?e:String(e)}var M=function(){function t(e){var r,n,o,i=this,a=e.code,u=e.body;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=function(t){i._removeErrorActiveClass(t),setTimeout((function(){return t.remove()}),500)},(n=F(n="_closeButtonListener"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._templateElement=document.querySelector("#error").content.querySelector(".error__item"),this._listElement=document.querySelector(".error__list"),this._wrapperElement=document.querySelector(".error"),this.code=a,this.body=u}var e,r;return e=t,(r=[{key:"_addErrorActiveClass",value:function(t){t.classList.add(_),this._wrapperElement.classList.add("error_active")}},{key:"_removeErrorActiveClass",value:function(t){t.classList.remove(_),this._wrapperElement.classList.remove("error_active")}},{key:"createError",value:function(){var t=this,e=this._templateElement.cloneNode(!0),r=e.querySelector(".error__title"),n=e.querySelector(".error__description"),o=e.querySelector(".error__close");return this._addErrorActiveClass(e),o.addEventListener(y,(function(){return t._closeButtonListener(e)})),r.textContent="Код ".concat(this.code),n.textContent=this.body,this._listElement.prepend(e),e}}])&&V(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==G(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===G(o)?o:String(o)),n)}var o}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e)}var e,r;return e=t,(r=[{key:"_handleMouseEvent",value:function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__close"))&&this.close()}},{key:"_handleKeyboardEvent",value:function(t){"Escape"===t.key&&this.close()}},{key:"_addEventListeners",value:function(){var t=this;this._popup.addEventListener(d,(function(e){return t._handleMouseEvent(e)})),this._popup.addEventListener(p,(function(e){return t._handleKeyboardEvent(e)}))}},{key:"_removeEventListeners",value:function(){this._popup.removeEventListener(d,this._handleMouseEvent),this._popup.removeEventListener(p,this._handleKeyboardEvent)}},{key:"open",value:function(){var t=this;this._popup.classList.add(b),this._addEventListeners(),setTimeout((function(){return t._popup.focus()}),200)}},{key:"close",value:function(){this._popup.classList.remove(b),this._removeEventListeners()}}])&&J(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Q(o)?o:String(o)),n)}var o}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function z(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(n);if(o){var r=W(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return z(this,t)});function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._image=document.querySelector(e),n._title=document.querySelector(r),n}return e=a,(r=[{key:"fill",value:function(t){var e=t.name,r=t.link;this._image.src=r,this._image.alt=e,this._title.textContent=e}}])&&Y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(K);function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ut(n.key),n)}}function et(){return et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=rt(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},et.apply(this,arguments)}function rt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=at(t)););return t}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function ut(t){var e=function(t,e){if("object"!==Z(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Z(e)?e:String(e)}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(n);if(o){var r=at(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ot(this,t)});function a(t){var e,r,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=it(e=i.call(this,t)),o=void 0,(n=ut(n="_submitHandler"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,e._form=document.querySelector(t).querySelector(".form"),e._submitter=e._form.querySelector(".form__button"),e._submitHandler=function(){},e}return e=a,(r=[{key:"getInputValue",value:function(t){return this._form.elements[t].value}},{key:"fillInputs",value:function(t){var e=this;this._submitter.setAttribute("disabled","disabled"),this._submitter.classList.add("form__button_type_disabled"),Object.keys(t).forEach((function(r){return e._form.elements[r].value=t[r]}))}},{key:"updateSubmitHandler",value:function(t){this._submitHandler=t}},{key:"_addEventListeners",value:function(){var t=this;et(at(a.prototype),"_addEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitHandler()}))}},{key:"resetForm",value:function(){this._form.reset()}},{key:"close",value:function(){et(at(a.prototype),"close",this).call(this),this._submitHandler=function(){}}}])&&tt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(K);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ft(){ft=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new L(o||[]);return n(a,"_invoke",{value:w(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function d(){}function y(){}var h={};c(h,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(O([])));m&&m!==e&&r.call(m,i)&&(h=m);var b=y.prototype=p.prototype=Object.create(h);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==st(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=k(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function dt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pt(i,n,o,a,u,"next",t)}function u(t){pt(i,n,o,a,u,"throw",t)}a(void 0)}))}}document.addEventListener("DOMContentLoaded",(function(){var t=new a(u),e=function(){var e=dt(ft().mark((function e(r,n){var o,i,a,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r.getData(),i=o.id,e.next=4,t.removeCard(i);case 4:r.remove(),n.close(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),a=r.getData(),u=a.name,new M({code:e.t0,body:"Произошла ошибка при попытке удалить карточку «".concat(u,"».")}).createError();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),r=function(){var e=dt(ft().mark((function e(r){var n,o,i,a,u,c,s,l;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.getData(),o=n.id,i=n.hasOwnerLike,e.next=4,t.toggleLike(o,i);case 4:a=e.sent,r.toggleLike(a),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),u=r.getData(),c=u.name,s=u.hasOwnerLike,l=s?"снять":"добавить",new M({code:e.t0,body:"Произошла ошибка при попытке ".concat(l," лайк карточке «").concat(c,"».")}).createError();case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n=function(t){var r=new ct(".popup_type_delete");r.open(),r.updateSubmitHandler((function(){return e(t,r)}))},o=function(t){var e=t.getData(),r=e.name,n=e.link,o=new X(".popup_type_photo",".popup__image",".popup__figcaption");o.fill({name:r,link:n}),o.open()},i=function(t,e){t.setUserInfo({name:e.name,about:e.about,avatar:e.avatar,id:e._id})},s=function(t,e){var i=new T({data:t,renderer:function(t){return function(t,e,i){var a=e.getUserInfo().id,u=new D({selector:g,card:{id:t._id,likes:t.likes,link:t.link,name:t.name,owner:t.owner},userId:a,handleLikeBtnClick:function(){return r(u)},handleDeleteBtnClick:function(){return n(u)},handleImageClick:function(){return o(u)}}),c=u.generate();i.prepend(c)}(t,e,i)},containerSelector:".feed__list"});return i},l=function(){var e=dt(ft().mark((function e(r,n){var o,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r.getInputValue("link"),e.next=4,t.updateUserAvatar(o);case 4:n.setUserInfo({avatar:o}),r.close(),r.resetForm(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),i=n.getUserInfo(),a=i.name,new M({code:e.t0,body:"Произошла ошибка при попытке изменить изображение профиля пользователя «".concat(a,"».")}).createError();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(t){var e=new ct(".popup_type_avatar");e.open(),e.updateSubmitHandler((function(){return l(e,t)}))},p=function(){var e=dt(ft().mark((function e(r,n){var o,i,a,u,c;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r.getInputValue("name"),i=r.getInputValue("occupation"),e.next=5,t.updateUser({name:o,about:i});case 5:a=e.sent,n.setUserInfo({name:a.name,about:a.about}),r.close(),r.resetForm(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),u=n.getUserInfo(),c=u.name,new M({code:e.t0,body:"Произошла ошибка при попытке изменить имя или описание профиля пользователя «".concat(c,"».")}).createError();case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(t){var e=t.getUserInfo(),r=e.name,n=e.about,o=new ct(".popup_type_edit");o.fillInputs({name:r,occupation:n}),o.open(),o.updateSubmitHandler((function(){return p(o,t)}))},y=function(){var e=dt(ft().mark((function e(i,a,u){var c,s,l,f,p,d,y,h,v;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=i.getInputValue("title"),s=i.getInputValue("link"),l=a.getUserInfo(),f=l.id,e.next=6,t.addCard({name:c,link:s});case 6:p=e.sent,d=new D({selector:g,card:{id:p._id,likes:p.likes,link:p.link,name:p.name,owner:p.owner},userId:f,handleLikeBtnClick:function(){return r(d)},handleDeleteBtnClick:function(){return n(d)},handleImageClick:function(){return o(d)}}),y=d.generate(),u.prepend(y),i.close(),i.resetForm(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),h=a.getUserInfo(),v=h.name,new M({code:e.t0,body:"Произошла ошибка при создании новой карточки для профиля «".concat(v,"».")}).createError();case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(t,e){var r=new ct(".popup_type_add");r.open(),r.updateSubmitHandler(dt(ft().mark((function n(){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",y(r,t,e));case 1:case"end":return n.stop()}}),n)}))))},_=function(){var e=dt(ft().mark((function e(){var r,n,o,a,u,l,p;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new j(".loader",[h,v],[m])).startLoader(),e.next=5,t.getAppData();case 5:n=e.sent,_=2,o=function(t){if(Array.isArray(t))return t}(y=n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(y,_)||function(t,e){if(t){if("string"==typeof t)return lt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lt(t,e):void 0}}(y,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],u=o[1],l=new x({nameSelector:h,occupationSelector:v,avatarSelector:".profile__image",avatarButtonSelector:m,editButtonSelector:".profile__edit",addCardButtonSelector:".profile__add"}),i(l,a),(p=s(u,l)).render(),l.addAvatarListener((function(){return f(l)})),l.addEditButtonListener((function(){return d(l)})),l.addNewCardButtonListener((function(){return b(l,p)})),new R(c).enableValidation(),r.endLoader(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),new M({code:e.t0,body:"Ошибка получения информации с сервера."}).createError();case 25:case"end":return e.stop()}var y,_}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();_()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUtuSixLQUFNLDJDQUNuQ29NLGNBQWMsaUVBRXZCLGtCQW5CYSxtQ0FvQmRvQyxHQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvZW51bS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvTG9hZGVyLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qcm9maWxlLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9WYWxpZGF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9FcnJvci5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBoZWFkZXJzLCBiYXNlVXJsIH0pIHtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIHJldHVybiAocmVzLm9rKSA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgJHtyZXMuc3RhdHVzVGV4dH0ke3Jlcy5zdGF0dXN9YCk7XG4gIH07XG5cbiAgX3JlcXVlc3QodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBjb21wdXRlZFVybCA9IGAke3RoaXMuX2Jhc2VVcmx9LyR7dXJsfWA7XG4gICAgcmV0dXJuIGZldGNoKGNvbXB1dGVkVXJsLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsIC4uLm9wdGlvbnMgfSkudGhlbihyZXMgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGdldFVzZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYHVzZXJzL21lYCk7XG4gIH1cblxuICBnZXRDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgY2FyZHNgKTtcbiAgfVxuXG4gIGdldEFwcERhdGEoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXIoKSwgdGhpcy5nZXRDYXJkcygpXSk7XG4gIH1cblxuICB1cGRhdGVVc2VyKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGB1c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXRcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVVc2VyQXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGB1c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhciB9KVxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGBjYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGBjYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlTGlrZShjYXJkSWQsIGhhc093bmVyTGlrZSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGBjYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IGhhc093bmVyTGlrZSA/ICdERUxFVEUnIDogJ1BVVCcsXG4gICAgfSk7XG4gIH1cbn1cbiIsImNvbnN0IGFwaUNvbmZpZyA9IHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9wbHVzLWNvaG9ydC0xOScsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnMGY5ZTY3NjMtY2E1OS00ZDZhLWI3ODgtYjZjOTg1NjAyNTI0JyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB9LFxufTtcblxuY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgYnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fYnV0dG9uJyxcbiAgZXJyb3JTZWxlY3RvcjogJy5mb3JtX19lcnJvcicsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBidXR0b25EaXNhYmxlZENsYXNzOiAnZm9ybV9fYnV0dG9uX3R5cGVfZGlzYWJsZWQnLFxuICBlcnJvckFjdGl2ZUNsYXNzOiAnZm9ybV9fZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgTE9BREVSID0ge1xuICBTRUxFQ1RPUjogJy5sb2FkZXInLFxuICBBQ1RJVkVfQ0xBU1M6ICdsb2FkZXJfYWN0aXZlJyxcbiAgU0tFTEVUT046ICdsb2FkZXJfX3NrZWxldG9uJyxcbiAgU0tFTEVUT05fVEVYVDogJ2xvYWRlcl9fc2tlbGV0b25fdHlwZV90ZXh0J1xufTtcblxuY29uc3QgS0VZID0ge1xuICBFU0NBUEU6ICdFc2NhcGUnXG59O1xuXG5jb25zdCBFVkVOVCA9IHtcbiAgU1VCTUlUOiAnc3VibWl0JyxcbiAgS0VZRE9XTjogJ2tleWRvd24nLFxuICBNT1VTRURPV046ICdtb3VzZWRvd24nLFxuICBNT1VTRVVQOiAnbW91c2V1cCcsXG4gIENMSUNLOiAnY2xpY2snXG59O1xuXG5jb25zdCBWQUxJREFUSU9OID0ge1xuICBGT1JNX1NFTEVDVE9SOiAnLmZvcm0nLFxuICBJTlBVVF9TRUxFQ1RPUjogJy5mb3JtX19pbnB1dCcsXG4gIElOUFVUX0VSUk9SX0NMQVNTOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIEJVVFRPTl9TRUxFQ1RPUjogJy5mb3JtX19idXR0b24nLFxuICBCVVRUT05fRElTQUJMRURfQ0xBU1M6ICdmb3JtX19idXR0b25fdHlwZV9kaXNhYmxlZCcsXG4gIEVSUk9SX1NFTEVDVE9SOiAnLmZvcm1fX2Vycm9yJyxcbiAgRVJST1JfQUNUSVZFX0NMQVNTOiAnZm9ybV9fZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgUFJPRklMRSA9IHtcbiAgQ09OVEVOVF9OQU1FOiAnLnByb2ZpbGVfX25hbWUnLFxuICBDT05URU5UX09DQ1VQQVRJT046ICcucHJvZmlsZV9fb2NjdXBhdGlvbicsXG4gIENPTlRFTlRfQVZBVEFSOiAnLnByb2ZpbGVfX2ltYWdlJyxcbiAgQlVUVE9OX0VESVRfUFJPRklMRTogJy5wcm9maWxlX19lZGl0JyxcbiAgQlVUVE9OX0FERF9DQVJEOiAnLnByb2ZpbGVfX2FkZCcsXG4gIEFWQVRBUjogJy5wcm9maWxlX19hdmF0YXInLFxufTtcblxuY29uc3QgUE9QVVAgPSB7XG4gIFNFTEVDVE9SOiAnLnBvcHVwJyxcbiAgQ0xBU1NOQU1FOiAncG9wdXAnLFxuICBDTE9TRV9DTEFTU05BTUU6ICdwb3B1cF9fY2xvc2UnLFxuICBBQ1RJVkVfQ0xBU1M6ICdwb3B1cF9hY3RpdmUnLFxuICBBTklNQVRJT05fRFVSQVRJT046IDIwMCxcbiAgVFlQRV9QUk9GSUxFOiAnLnBvcHVwX3R5cGVfZWRpdCcsXG4gIFRZUEVfQ0FSRDogJy5wb3B1cF90eXBlX2FkZCcsXG4gIFRZUEVfUEhPVE86ICcucG9wdXBfdHlwZV9waG90bycsXG4gIFRZUEVfQVZBVEFSOiAnLnBvcHVwX3R5cGVfYXZhdGFyJyxcbiAgVFlQRV9ERUxFVEU6ICcucG9wdXBfdHlwZV9kZWxldGUnLFxuICBJTUFHRTogJy5wb3B1cF9faW1hZ2UnLFxuICBUSVRMRTogJy5wb3B1cF9fZmlnY2FwdGlvbicsXG59O1xuXG5jb25zdCBFUlJPUiA9IHtcbiAgVEVNUExBVEU6ICcjZXJyb3InLFxuICBMSVNUOiAnLmVycm9yX19saXN0JyxcbiAgV1JBUFBFUjogJy5lcnJvcicsXG4gIFNFTEVDVE9SOiAnLmVycm9yX19pdGVtJyxcbiAgVElUTEU6ICcuZXJyb3JfX3RpdGxlJyxcbiAgREVTQ1JJUFRJT046ICcuZXJyb3JfX2Rlc2NyaXB0aW9uJyxcbiAgQlVUVE9OOiAnLmVycm9yX19jbG9zZScsXG4gIEFDVElWRV9DTEFTUzogJ2Vycm9yX19pdGVtX2FjdGl2ZScsXG5cbn07XG5cbmNvbnN0IEZPUk0gPSB7XG4gIFNFTEVDVE9SOiAnLmZvcm0nLFxuICBOQU1FX1BST0ZJTEU6ICdwcm9maWxlJyxcbiAgTkFNRV9DQVJEOiAnY2FyZCcsXG4gIE5BTUVfREVMRVRFOiAnZGVsZXRlJyxcbiAgTkFNRV9BVkFUQVI6ICdhdmF0YXInLFxuICBJTlBVVF9USVRMRTogJ1tuYW1lPVwidGl0bGVcIl0nLFxuICBJTlBVVF9MSU5LOiAnW25hbWU9XCJsaW5rXCJdJyxcbiAgSU5QVVRfTkFNRTogJ1tuYW1lPVwibmFtZVwiXScsXG4gIElOUFVUX09DQ1VQQVRJT046ICdbbmFtZT1cIm9jY3VwYXRpb25cIl0nLFxuICBCVVRUT05fVEVYVF9TQVZFOiAn0KHQvtGF0YDQsNC90LjRgtGMJyxcbiAgQlVUVE9OX1RFWFRfQ1JFQVRFOiAn0KHQvtC30LTQsNGC0YwnLFxuICBCVVRUT05fVEVYVF9DUkVBVElORzogJ9Ch0L7Qt9C00LDQvdC40LUuLi4nLFxuICBCVVRUT05fVEVYVF9TQVZJTkc6ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicsXG4gIEJVVFRPTl9URVhUX0RFTEVURTogJ9CU0LAnLFxuICBCVVRUT05fVEVYVF9ERUxFVElORzogJ9Cj0LTQsNC70LXQvdC40LUuLi4nLFxufTtcblxuY29uc3QgQ0FSRCA9IHtcbiAgV1JBUFBFUjogJy5mZWVkX19saXN0JyxcbiAgVEVNUExBVEU6ICcjY2FyZCcsXG4gIElURU06ICcuZmVlZF9faXRlbScsXG4gIElURU1fQ0xBU1NOQU1FOiAnZmVlZF9faXRlbScsXG4gIEFSVElDTEU6ICcuY2FyZCcsXG4gIElNQUdFOiAnLmNhcmRfX2ltYWdlJyxcbiAgVElUTEU6ICcuY2FyZF9fdGl0bGUnLFxuICBMSUtFX0JVVFRPTjogJy5jYXJkX19saWtlLWJ1dHRvbicsXG4gIExJS0VfTlVNQkVSOiAnLmNhcmRfX2xpa2UtbnVtYmVyJyxcbiAgTElLRV9CVVRUT05fQUNUSVZFOiAnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyxcbiAgTElLRV9CVVRUT05fSVNfTElLRUQ6ICdjYXJkX19saWtlLWJ1dHRvbl9saWtlZF90cnVlJyxcbiAgREVMRVRFOiAnLmNhcmRfX2RlbGV0ZSdcbn07XG5cbmV4cG9ydCB7XG4gIENBUkQsXG4gIEVSUk9SLFxuICBFVkVOVCxcbiAgS0VZLFxuICBGT1JNLFxuICBQT1BVUCxcbiAgUFJPRklMRSxcbiAgTE9BREVSLFxuICBWQUxJREFUSU9OLFxuICBhcGlDb25maWcsXG4gIHZhbGlkYXRpb25Db25maWdcbn07XG4iLCJpbXBvcnQgeyBMT0FERVIgfSBmcm9tICcuL2VudW0uanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkZXIge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgWy4uLnRleHRFbGVtZW50c10sIFsuLi5pbWFnZUVsZW1lbnRzXSkge1xuICAgIHRoaXMuX2xvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIHRoaXMuX3RleHRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGV4dEVsZW1lbnRzKTtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpbWFnZUVsZW1lbnRzKTtcbiAgfVxuXG4gIF9zaG93U3Bpbm5lcigpIHtcbiAgICB0aGlzLl9sb2FkZXIuY2xhc3NMaXN0LmFkZChMT0FERVIuQUNUSVZFX0NMQVNTKTtcbiAgfVxuXG4gIF9oaWRlU3Bpbm5lcigpIHtcbiAgICB0aGlzLl9sb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShMT0FERVIuQUNUSVZFX0NMQVNTKTtcbiAgfVxuXG4gIF9hZGRJbWFnZUVmZmVjdCgpIHtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoTE9BREVSLlNLRUxFVE9OKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9yZW1vdmVJbWFnZUVmZmVjdCgpIHtcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLlNLRUxFVE9OKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRUZXh0RWZmZWN0KCkge1xuICAgIHRoaXMuX3RleHRFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKExPQURFUi5TS0VMRVRPTik7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoTE9BREVSLlNLRUxFVE9OX1RFWFQpO1xuICAgIH0pO1xuICB9XG5cbiAgX3JlbW92ZVRleHRFZmZlY3QoKSB7XG4gICAgdGhpcy5fdGV4dEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoTE9BREVSLlNLRUxFVE9OKTtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShMT0FERVIuU0tFTEVUT05fVEVYVCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydExvYWRlcigpIHtcbiAgICB0aGlzLl9hZGRUZXh0RWZmZWN0KCk7XG4gICAgdGhpcy5fYWRkSW1hZ2VFZmZlY3QoKTtcbiAgICB0aGlzLl9zaG93U3Bpbm5lcigpO1xuICB9XG5cbiAgZW5kTG9hZGVyKCkge1xuICAgIHRoaXMuX3JlbW92ZVRleHRFZmZlY3QoKTtcbiAgICB0aGlzLl9yZW1vdmVJbWFnZUVmZmVjdCgpO1xuICAgIHRoaXMuX2hpZGVTcGlubmVyKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEVWRU5UIH0gZnJvbSAnLi9lbnVtLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICAgICAgICAgICAgICBuYW1lU2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgb2NjdXBhdGlvblNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIGF2YXRhclNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIGF2YXRhckJ1dHRvblNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIGVkaXRCdXR0b25TZWxlY3RvcixcbiAgICAgICAgICAgICAgICBhZGRDYXJkQnV0dG9uU2VsZWN0b3JcbiAgICAgICAgICAgICAgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlQWJvdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvY2N1cGF0aW9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhclBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhckJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWRpdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlQWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWRkQ2FyZEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEF2YXRhckxpc3RlbmVyKGhhbmRsZUF2YXRhckVsZW1lbnRDbGljaykge1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXJQYXJlbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuQ0xJQ0ssICgpID0+IHtcbiAgICAgIGhhbmRsZUF2YXRhckVsZW1lbnRDbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkRWRpdEJ1dHRvbkxpc3RlbmVyKGhhbmRsZUVkaXRCdXR0b25DbGljaykge1xuICAgIHRoaXMuX3Byb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuQ0xJQ0ssICgpID0+IHtcbiAgICAgIGhhbmRsZUVkaXRCdXR0b25DbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3Q2FyZEJ1dHRvbkxpc3RlbmVyKGhhbmRsZUFkZENhcmRCdXR0b25DbGljaykge1xuICAgIHRoaXMuX3Byb2ZpbGVBZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuQ0xJQ0ssICgpID0+IHtcbiAgICAgIGhhbmRsZUFkZENhcmRCdXR0b25DbGljaygpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9wcm9maWxlQWJvdXRFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyRWxlbWVudC5zcmMsXG4gICAgICBpZDogdGhpcy5fdXNlcklkXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJEYXRhKSB7XG4gICAgY29uc3QgeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBpZCB9ID0gdXNlckRhdGE7XG4gICAgaWYgKG5hbWUpIHRoaXMuX3Byb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgaWYgKGFib3V0KSB0aGlzLl9wcm9maWxlQWJvdXRFbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgaWYgKGF2YXRhcikgdGhpcy5fcHJvZmlsZUF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICAgIGlmIChpZCkgdGhpcy5fdXNlcklkID0gaWQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fYXJyYXkgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5fYXJyYXkucmV2ZXJzZSgpLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgfVxuXG4gIHByZXBlbmQoZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDQVJELCBFVkVOVCB9IGZyb20gJy4vZW51bS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICBzZWxlY3RvcixcbiAgICAgIGNhcmQ6IHsgbmFtZSwgbGluaywgb3duZXIsIGxpa2VzLCBpZCB9LFxuICAgICAgdXNlcklkLFxuICAgICAgaGFuZGxlTGlrZUJ0bkNsaWNrLFxuICAgICAgaGFuZGxlRGVsZXRlQnRuQ2xpY2ssXG4gICAgICBoYW5kbGVJbWFnZUNsaWNrXG4gICAgfVxuICApIHtcbiAgICB0aGlzLl9vd25lciA9IG93bmVyO1xuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5faGFuZGxlTGlrZUJ0bkNsaWNrID0gaGFuZGxlTGlrZUJ0bkNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bkNsaWNrID0gaGFuZGxlRGVsZXRlQnRuQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKENBUkQuSVRFTSk7XG4gICAgdGhpcy5fY2FyZEl0ZW0gPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2NhcmRBcnRpY2xlID0gdGhpcy5fY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihDQVJELkFSVElDTEUpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5JTUFHRSk7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEFydGljbGUucXVlcnlTZWxlY3RvcihDQVJELlRJVExFKTtcbiAgICB0aGlzLl9jYXJkTGlrZU51bWJlciA9IHRoaXMuX2NhcmRBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoQ0FSRC5MSUtFX05VTUJFUik7XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPSB0aGlzLl9jYXJkQXJ0aWNsZS5xdWVyeVNlbGVjdG9yKENBUkQuTElLRV9CVVRUT04pO1xuICAgIHRoaXMuX2NhcmREZWxldGUgPSB0aGlzLl9jYXJkQXJ0aWNsZS5xdWVyeVNlbGVjdG9yKENBUkQuREVMRVRFKTtcbiAgfVxuXG4gIF9zZXRDYXJkQ29udGVudCgpIHtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuX2xpbmspO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRoaXMuX25hbWUpO1xuICB9XG5cbiAgdG9nZ2xlTGlrZShjYXJkKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkLmxpa2VzO1xuICAgIHRoaXMudXBkYXRlT3duZXJzTGlrZSgpO1xuICAgIHRoaXMuX3NldExpa2VzUXVhbnRpdHkoKTtcbiAgICB0aGlzLl90b2dnbGVMaWtlc0NsYXNzKCk7XG4gIH07XG5cbiAgX3NldExpa2VzUXVhbnRpdHkoKSB7XG4gICAgc3dpdGNoICh0aGlzLl9saWtlcy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShDQVJELkxJS0VfQlVUVE9OX0lTX0xJS0VEKTtcbiAgICAgICAgdGhpcy5fY2FyZExpa2VOdW1iZXIudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKENBUkQuTElLRV9CVVRUT05fSVNfTElLRUQpO1xuICAgICAgICB0aGlzLl9jYXJkTGlrZU51bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIHVwZGF0ZU93bmVyc0xpa2UoKSB7XG4gICAgdGhpcy5faGFzT3duZXJMaWtlID0gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9O1xuXG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICBsaW5rOiB0aGlzLl9saW5rLFxuICAgICAgb3duZXI6IHRoaXMuX293bmVyLFxuICAgICAgbGlrZXM6IHRoaXMuX2xpa2VzLFxuICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgaGFzT3duZXJMaWtlOiB0aGlzLl9oYXNPd25lckxpa2VcbiAgICB9O1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHRoaXMuX2NhcmRJdGVtLnJlbW92ZSgpO1xuICB9XG5cbiAgZ2VuZXJhdGUoKSB7XG4gICAgdGhpcy5faGFzT3duZXJMaWtlID0gdGhpcy51cGRhdGVPd25lcnNMaWtlKHRoaXMuX2xpa2VzLCB0aGlzLl91c2VySWQpO1xuICAgIHRoaXMuX3NldENhcmRDb250ZW50KCk7XG4gICAgdGhpcy5fc2V0TGlrZXNRdWFudGl0eSgpO1xuICAgIHRoaXMuX3RvZ2dsZUxpa2VzQ2xhc3MoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkSXRlbTtcbiAgfTtcblxuICBfdG9nZ2xlTGlrZXNDbGFzcygpIHtcbiAgICBzd2l0Y2ggKHRoaXMuX2hhc093bmVyTGlrZSkge1xuICAgICAgY2FzZSB0cnVlOlxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKENBUkQuTElLRV9CVVRUT05fQUNUSVZFKTtcbiAgICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ9Cj0LHRgNCw0YLRjCDQvtGC0LzQtdGC0LrRgyBcXFwi0J/QvtC90YDQsNCy0LjQu9C+0YHRjFxcXCInKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGZhbHNlOlxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKENBUkQuTElLRV9CVVRUT05fQUNUSVZFKTtcbiAgICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ9CU0L7QsdCw0LLQuNGC0Ywg0L7RgtC80LXRgtC60YMgXFxcItCf0L7QvdGA0LDQstC40LvQvtGB0YxcXFwiJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEVWRU5ULkNMSUNLLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQnRuQ2xpY2sodGhpcykpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKEVWRU5ULkNMSUNLLCAoKSA9PiB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpKTtcbiAgICB0aGlzLl9vd25lci5faWQgPT09IHRoaXMuX3VzZXJJZFxuICAgICAgPyB0aGlzLl9jYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuQ0xJQ0ssIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bkNsaWNrKVxuICAgICAgOiB0aGlzLl9jYXJkRGVsZXRlLnJlbW92ZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWYWxpZGF0aW9uIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgICAgICAgICAgICAgIGZvcm1TZWxlY3RvcixcbiAgICAgICAgICAgICAgICBpbnB1dFNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIGJ1dHRvblNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIGVycm9yU2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgaW5wdXRFcnJvckNsYXNzLFxuICAgICAgICAgICAgICAgIGJ1dHRvbkRpc2FibGVkQ2xhc3MsXG4gICAgICAgICAgICAgICAgZXJyb3JBY3RpdmVDbGFzc1xuICAgICAgICAgICAgICB9KSB7XG4gICAgdGhpcy5fZm9ybXNMaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGZvcm1TZWxlY3RvcikpO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2J1dHRvblNlbGVjdG9yID0gYnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5fZXJyb3JTZWxlY3RvciA9IGVycm9yU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2J1dHRvbkRpc2FibGVkQ2xhc3MgPSBidXR0b25EaXNhYmxlZENsYXNzO1xuICAgIHRoaXMuX2Vycm9yQWN0aXZlQ2xhc3MgPSBlcnJvckFjdGl2ZUNsYXNzO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yRWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQWN0aXZlQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIGAke3RoaXMuX2Vycm9yQWN0aXZlQ2xhc3N9YCk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yRWxlbWVudCkge1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQWN0aXZlQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGlucHV0RWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IodGhpcy5fZXJyb3JTZWxlY3Rvcik7XG5cbiAgICBpbnB1dEVsZW1lbnQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoXG4gICAgICA/IGlucHV0RWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShpbnB1dEVsZW1lbnQuZGF0YXNldC5pbnZhbGlkTWVzc2FnZSlcbiAgICAgIDogaW5wdXRFbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcblxuICAgICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICAgID8gdGhpcy5fc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpXG4gICAgICA6IHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yRWxlbWVudCk7XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dHNMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0c0xpc3Quc29tZShpbnB1dEVsZW1lbnQgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2J1dHRvbkRpc2FibGVkQ2xhc3MpO1xuICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9idXR0b25EaXNhYmxlZENsYXNzKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0Rm9ybUV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KSB7XG4gICAgY29uc3QgaW5wdXRzTGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fYnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgIGlucHV0c0xpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQpLCAwKTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1zTGlzdC5mb3JFYWNoKGZvcm0gPT4gdGhpcy5fc2V0Rm9ybUV2ZW50TGlzdGVuZXJzKFxuICAgICAgZm9ybSxcbiAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IsXG4gICAgICB0aGlzLl9idXR0b25TZWxlY3RvcixcbiAgICAgIHRoaXMuX2Vycm9yU2VsZWN0b3IsXG4gICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MsXG4gICAgICB0aGlzLl9idXR0b25EaXNhYmxlZENsYXNzLFxuICAgICAgdGhpcy5fZXJyb3JBY3RpdmVDbGFzcyxcbiAgICApKTtcbiAgfTtcbn1cblxuLy8gY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBlcnJvck1lc3NhZ2UsIGlucHV0RXJyb3JDbGFzcywgZXJyb3JBY3RpdmVDbGFzcykgPT4ge1xuLy8gICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4vLyAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yQWN0aXZlQ2xhc3MpO1xuLy8gICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xuLy8gICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgYCR7ZXJyb3JBY3RpdmVDbGFzc31gKTtcbi8vIH07XG4vL1xuLy8gY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbi8vICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JBY3RpdmVDbGFzcyk7XG4vLyAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuLy8gICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuLy8gICBpbnB1dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4vLyB9O1xuLy9cbi8vIGNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckNsYXNzLCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpID0+IHtcbi8vICAgY29uc3QgZXJyb3JFbGVtZW50ID0gaW5wdXRFbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihlcnJvckNsYXNzKTtcbi8vXG4vLyAgIGlucHV0RWxlbWVudC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2hcbi8vICAgICA/IGlucHV0RWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShpbnB1dEVsZW1lbnQuZGF0YXNldC5pbnZhbGlkTWVzc2FnZSlcbi8vICAgICA6IGlucHV0RWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG4vL1xuLy8gICAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4vLyAgICAgPyBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKVxuLy8gICAgIDogaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQWN0aXZlQ2xhc3MpO1xuLy8gfTtcbi8vXG4vLyBjb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRzTGlzdCkgPT4ge1xuLy8gICByZXR1cm4gaW5wdXRzTGlzdC5zb21lKGlucHV0RWxlbWVudCA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbi8vIH07XG4vL1xuLy8gY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKSA9PiB7XG4vLyAgIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuLy8gICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbi8vICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4vLyAgICAgYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4vLyAgIH1cbi8vIH07XG4vL1xuLy8gY29uc3Qgc2V0Rm9ybUV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBpbnB1dFNlbGVjdG9yLCBidXR0b25TZWxlY3RvciwgZXJyb3JTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBidXR0b25JbmFjdGl2ZUNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKSA9PiB7XG4vLyAgIGNvbnN0IGlucHV0c0xpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xuLy8gICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3Rvcik7XG4vLyAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpO1xuLy8gICBpbnB1dHNMaXN0LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbi8vICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4vLyAgICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckFjdGl2ZUNsYXNzKTtcbi8vICAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0c0xpc3QsIGJ1dHRvbkVsZW1lbnQsIGJ1dHRvbkluYWN0aXZlQ2xhc3MpO1xuLy8gICAgIH0pO1xuLy8gICB9KTtcbi8vICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4vLyAgICAgc2V0VGltZW91dCgoKSA9PiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHNMaXN0LCBidXR0b25FbGVtZW50LCBidXR0b25JbmFjdGl2ZUNsYXNzKSwgMCk7XG4vLyAgIH0pO1xuLy8gfTtcbi8vXG4vLyBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcbi8vICAgY29uc3QgZm9ybXNMaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKSk7XG4vLyAgIGZvcm1zTGlzdC5mb3JFYWNoKGZvcm0gPT4gc2V0Rm9ybUV2ZW50TGlzdGVuZXJzKFxuLy8gICAgIGZvcm0sXG4vLyAgICAgdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yLFxuLy8gICAgIHZhbGlkYXRpb25Db25maWcuYnV0dG9uU2VsZWN0b3IsXG4vLyAgICAgdmFsaWRhdGlvbkNvbmZpZy5lcnJvclNlbGVjdG9yLFxuLy8gICAgIHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzLFxuLy8gICAgIHZhbGlkYXRpb25Db25maWcuYnV0dG9uRGlzYWJsZWRDbGFzcyxcbi8vICAgICB2YWxpZGF0aW9uQ29uZmlnLmVycm9yQWN0aXZlQ2xhc3MsXG4vLyAgICkpO1xuLy8gfTtcbi8vXG4vLyBleHBvcnQge1xuLy8gICBlbmFibGVWYWxpZGF0aW9uXG4vLyB9O1xuIiwiaW1wb3J0IHsgRVJST1IsIEVWRU5UIH0gZnJvbSAnLi9lbnVtLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IGNvZGUsIGJvZHkgfSkge1xuICAgIHRoaXMuX3RlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoRVJST1IuVEVNUExBVEUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihFUlJPUi5TRUxFQ1RPUik7XG4gICAgdGhpcy5fbGlzdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEVSUk9SLkxJU1QpO1xuICAgIHRoaXMuX3dyYXBwZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihFUlJPUi5XUkFQUEVSKTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gIH1cblxuICBfYWRkRXJyb3JBY3RpdmVDbGFzcyhlcnJvckVsZW1lbnQpIHtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChFUlJPUi5BQ1RJVkVfQ0xBU1MpO1xuICAgIHRoaXMuX3dyYXBwZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yX2FjdGl2ZScpO1xuICB9XG5cbiAgX3JlbW92ZUVycm9yQWN0aXZlQ2xhc3MoZXJyb3JFbGVtZW50KSB7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoRVJST1IuQUNUSVZFX0NMQVNTKTtcbiAgICB0aGlzLl93cmFwcGVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcl9hY3RpdmUnKTtcbiAgfTtcblxuICBfY2xvc2VCdXR0b25MaXN0ZW5lciA9IChlbGVtZW50KSA9PiB7XG4gICAgdGhpcy5fcmVtb3ZlRXJyb3JBY3RpdmVDbGFzcyhlbGVtZW50KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IGVsZW1lbnQucmVtb3ZlKCksIDUwMCk7XG4gIH07XG5cbiAgY3JlYXRlRXJyb3IoKSB7XG4gICAgY29uc3QgZXJyb3JJdGVtID0gdGhpcy5fdGVtcGxhdGVFbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICBjb25zdCBlcnJvckl0ZW1UaXRsZSA9IGVycm9ySXRlbS5xdWVyeVNlbGVjdG9yKEVSUk9SLlRJVExFKTtcbiAgICBjb25zdCBlcnJvckl0ZW1Cb2R5ID0gZXJyb3JJdGVtLnF1ZXJ5U2VsZWN0b3IoRVJST1IuREVTQ1JJUFRJT04pO1xuICAgIGNvbnN0IGVycm9ySXRlbUJ1dHRvbiA9IGVycm9ySXRlbS5xdWVyeVNlbGVjdG9yKEVSUk9SLkJVVFRPTik7XG4gICAgdGhpcy5fYWRkRXJyb3JBY3RpdmVDbGFzcyhlcnJvckl0ZW0pO1xuICAgIGVycm9ySXRlbUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKEVWRU5ULkNMSUNLLCAoKSA9PiB0aGlzLl9jbG9zZUJ1dHRvbkxpc3RlbmVyKGVycm9ySXRlbSkpO1xuICAgIGVycm9ySXRlbVRpdGxlLnRleHRDb250ZW50ID0gYNCa0L7QtCAke3RoaXMuY29kZX1gO1xuICAgIGVycm9ySXRlbUJvZHkudGV4dENvbnRlbnQgPSB0aGlzLmJvZHk7XG4gICAgdGhpcy5fbGlzdEVsZW1lbnQucHJlcGVuZChlcnJvckl0ZW0pO1xuICAgIHJldHVybiBlcnJvckl0ZW07XG4gIH1cbn1cblxuIiwiaW1wb3J0IHsgRVZFTlQsIEtFWSwgUE9QVVAgfSBmcm9tICcuL2VudW0uanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIF9oYW5kbGVNb3VzZUV2ZW50KGUpIHtcbiAgICBjb25zdCBjbG9zZUNvbmRpdGlvbiA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhQT1BVUC5DTEFTU05BTUUpXG4gICAgICB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoUE9QVVAuQ0xPU0VfQ0xBU1NOQU1FKTtcbiAgICBpZiAoY2xvc2VDb25kaXRpb24pIHRoaXMuY2xvc2UoKTtcbiAgfTtcblxuICBfaGFuZGxlS2V5Ym9hcmRFdmVudChlKSB7XG4gICAgaWYgKGUua2V5ID09PSBLRVkuRVNDQVBFKSB0aGlzLmNsb3NlKCk7XG4gIH07XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCAoZSkgPT4gdGhpcy5faGFuZGxlTW91c2VFdmVudChlKSk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVC5LRVlET1dOLCAoZSkgPT4gdGhpcy5faGFuZGxlS2V5Ym9hcmRFdmVudChlKSk7XG4gIH07XG5cbiAgX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoRVZFTlQuTU9VU0VET1dOLCB0aGlzLl9oYW5kbGVNb3VzZUV2ZW50KTtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKEVWRU5ULktFWURPV04sIHRoaXMuX2hhbmRsZUtleWJvYXJkRXZlbnQpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFBPUFVQLkFDVElWRV9DTEFTUyk7XG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3BvcHVwLmZvY3VzKCksIFBPUFVQLkFOSU1BVElPTl9EVVJBVElPTik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFBPUFVQLkFDVElWRV9DTEFTUyk7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaW1hZ2VTZWxlY3RvciwgdGl0bGVTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbWFnZVNlbGVjdG9yKTtcbiAgICB0aGlzLl90aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGl0bGVTZWxlY3Rvcik7XG4gIH1cblxuICBmaWxsKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuaW1wb3J0IHsgRVZFTlQsIEZPUk0sIFZBTElEQVRJT04gfSBmcm9tICcuL2VudW0uanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBfc3VibWl0SGFuZGxlcjtcblxuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikucXVlcnlTZWxlY3RvcihGT1JNLlNFTEVDVE9SKTtcbiAgICB0aGlzLl9zdWJtaXR0ZXIgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoVkFMSURBVElPTi5CVVRUT05fU0VMRUNUT1IpO1xuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgfTtcbiAgfVxuXG4gIGdldElucHV0VmFsdWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9mb3JtLmVsZW1lbnRzW25hbWVdLnZhbHVlO1xuICB9XG5cbiAgZmlsbElucHV0cyh1c2VyRGF0YSkge1xuICAgIHRoaXMuX3N1Ym1pdHRlci5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgdGhpcy5fc3VibWl0dGVyLmNsYXNzTGlzdC5hZGQoVkFMSURBVElPTi5CVVRUT05fRElTQUJMRURfQ0xBU1MpO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh1c2VyRGF0YSk7XG4gICAga2V5cy5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm0uZWxlbWVudHNbaW5wdXRdLnZhbHVlID0gdXNlckRhdGFbaW5wdXRdKTtcbiAgfVxuXG4gIHVwZGF0ZVN1Ym1pdEhhbmRsZXIoaGFuZGxlU3VibWl0KSB7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGhhbmRsZVN1Ym1pdDtcbiAgfVxuXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoRVZFTlQuU1VCTUlULCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlc2V0Rm9ybSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlcy9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IEFwaSBmcm9tICcuL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCB7IENBUkQsIGFwaUNvbmZpZywgdmFsaWRhdGlvbkNvbmZpZywgUE9QVVAsIFBST0ZJTEUsIExPQURFUiB9IGZyb20gJy4vY29tcG9uZW50cy9lbnVtLmpzJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi9jb21wb25lbnRzL0xvYWRlci5qcyc7XG5pbXBvcnQgUHJvZmlsZSBmcm9tICcuL2NvbXBvbmVudHMvUHJvZmlsZS5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgVmFsaWRhdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvVmFsaWRhdGlvbi5qcyc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnLi9jb21wb25lbnRzL0Vycm9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG4gIGNvbnN0IGRlbGV0ZVN1Ym1pdEhhbmRsZXIgPSBhc3luYyAoY2FyZCwgcG9wdXApID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBpZCB9ID0gY2FyZC5nZXREYXRhKCk7XG4gICAgICBhd2FpdCBhcGkucmVtb3ZlQ2FyZChpZCk7XG4gICAgICBjYXJkLnJlbW92ZSgpO1xuICAgICAgcG9wdXAuY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGNhcmQuZ2V0RGF0YSgpO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoeyBjb2RlOiBlLCBib2R5OiBg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC/0YvRgtC60LUg0YPQtNCw0LvQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRgyBcXHUwMGFiJHtuYW1lfVxcdTAwYmIuYCB9KTtcbiAgICAgIGVycm9yLmNyZWF0ZUVycm9yKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVMaWtlID0gYXN5bmMgKGNhcmQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBpZCwgaGFzT3duZXJMaWtlIH0gPSBjYXJkLmdldERhdGEoKTtcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBhd2FpdCBhcGkudG9nZ2xlTGlrZShpZCwgaGFzT3duZXJMaWtlKTtcbiAgICAgIGNhcmQudG9nZ2xlTGlrZShuZXdDYXJkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zdCB7IG5hbWUsIGhhc093bmVyTGlrZSB9ID0gY2FyZC5nZXREYXRhKCk7XG4gICAgICBsZXQgdmVyYjtcbiAgICAgIChoYXNPd25lckxpa2UpID8gdmVyYiA9ICfRgdC90Y/RgtGMJyA6IHZlcmIgPSAn0LTQvtCx0LDQstC40YLRjCc7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcih7XG4gICAgICAgIGNvZGU6IGUsXG4gICAgICAgIGJvZHk6IGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQv9C+0L/Ri9GC0LrQtSAke3ZlcmJ9INC70LDQudC6INC60LDRgNGC0L7Rh9C60LUgXFx1MDBhYiR7bmFtZX1cXHUwMGJiLmBcbiAgICAgIH0pO1xuICAgICAgZXJyb3IuY3JlYXRlRXJyb3IoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IChjYXJkKSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShQT1BVUC5UWVBFX0RFTEVURSk7XG4gICAgcG9wdXAub3BlbigpO1xuICAgIHBvcHVwLnVwZGF0ZVN1Ym1pdEhhbmRsZXIoKCkgPT4gZGVsZXRlU3VibWl0SGFuZGxlcihjYXJkLCBwb3B1cCkpO1xuICB9O1xuICBjb25zdCBoYW5kbGVJbWFnZSA9IChjYXJkKSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCBsaW5rIH0gPSBjYXJkLmdldERhdGEoKTtcbiAgICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShQT1BVUC5UWVBFX1BIT1RPLCBQT1BVUC5JTUFHRSwgUE9QVVAuVElUTEUpO1xuICAgIHBvcHVwLmZpbGwoeyBuYW1lLCBsaW5rIH0pO1xuICAgIHBvcHVwLm9wZW4oKTtcbiAgfTtcbiAgY29uc3QgcmVuZGVyQ2FyZHMgPSAoZGF0YSwgdXNlciwgc2VjdGlvbikgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IHVzZXIuZ2V0VXNlckluZm8oKTtcbiAgICBjb25zdCBjYXJkQ2xvbmUgPSBuZXcgQ2FyZCh7XG4gICAgICBzZWxlY3RvcjogQ0FSRC5URU1QTEFURSxcbiAgICAgIGNhcmQ6IHtcbiAgICAgICAgaWQ6IGRhdGEuX2lkLFxuICAgICAgICBsaWtlczogZGF0YS5saWtlcyxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIG93bmVyOiBkYXRhLm93bmVyXG4gICAgICB9LFxuICAgICAgdXNlcklkOiBpZCxcbiAgICAgIGhhbmRsZUxpa2VCdG5DbGljazogKCkgPT4gaGFuZGxlTGlrZShjYXJkQ2xvbmUpLFxuICAgICAgaGFuZGxlRGVsZXRlQnRuQ2xpY2s6ICgpID0+IGhhbmRsZURlbGV0ZShjYXJkQ2xvbmUpLFxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKCkgPT4gaGFuZGxlSW1hZ2UoY2FyZENsb25lKVxuICAgIH0pO1xuICAgIGNvbnN0IGNhcmRJdGVtID0gY2FyZENsb25lLmdlbmVyYXRlKCk7XG4gICAgc2VjdGlvbi5wcmVwZW5kKGNhcmRJdGVtKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlVXNlciA9ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb2ZpbGUoe1xuICAgICAgbmFtZVNlbGVjdG9yOiBQUk9GSUxFLkNPTlRFTlRfTkFNRSxcbiAgICAgIG9jY3VwYXRpb25TZWxlY3RvcjogUFJPRklMRS5DT05URU5UX09DQ1VQQVRJT04sXG4gICAgICBhdmF0YXJTZWxlY3RvcjogUFJPRklMRS5DT05URU5UX0FWQVRBUixcbiAgICAgIGF2YXRhckJ1dHRvblNlbGVjdG9yOiBQUk9GSUxFLkFWQVRBUixcbiAgICAgIGVkaXRCdXR0b25TZWxlY3RvcjogUFJPRklMRS5CVVRUT05fRURJVF9QUk9GSUxFLFxuICAgICAgYWRkQ2FyZEJ1dHRvblNlbGVjdG9yOiBQUk9GSUxFLkJVVFRPTl9BRERfQ0FSRFxuICAgIH0pO1xuICB9O1xuICBjb25zdCBmaWxsVXNlckZpZWxkcyA9ICh1c2VyLCB1c2VyRGF0YSkgPT4ge1xuICAgIHVzZXIuc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgIGFib3V0OiB1c2VyRGF0YS5hYm91dCxcbiAgICAgIGF2YXRhcjogdXNlckRhdGEuYXZhdGFyLFxuICAgICAgaWQ6IHVzZXJEYXRhLl9pZFxuICAgIH0pO1xuICB9O1xuICBjb25zdCBjcmVhdGVGZWVkID0gKGNhcmRzLCB1c2VyKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBkYXRhOiBjYXJkcyxcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkKSA9PiByZW5kZXJDYXJkcyhjYXJkLCB1c2VyLCBzZWN0aW9uKSxcbiAgICAgICAgY29udGFpbmVyU2VsZWN0b3I6IENBUkQuV1JBUFBFUlxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHNlY3Rpb247XG4gIH07XG4gIGNvbnN0IGhhbmRsZVByb2ZpbGVBdmF0YXJTdWJtaXQgPSBhc3luYyAocG9wdXAsIHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXZhdGFyID0gcG9wdXAuZ2V0SW5wdXRWYWx1ZSgnbGluaycpO1xuICAgICAgYXdhaXQgYXBpLnVwZGF0ZVVzZXJBdmF0YXIoYXZhdGFyKTtcbiAgICAgIHVzZXIuc2V0VXNlckluZm8oeyBhdmF0YXIgfSk7XG4gICAgICBwb3B1cC5jbG9zZSgpO1xuICAgICAgcG9wdXAucmVzZXRGb3JtKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc3QgeyBuYW1lIH0gPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcih7XG4gICAgICAgIGNvZGU6IGUsXG4gICAgICAgIGJvZHk6IGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQv9C+0L/Ri9GC0LrQtSDQuNC30LzQtdC90LjRgtGMINC40LfQvtCx0YDQsNC20LXQvdC40LUg0L/RgNC+0YTQuNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIFxcdTAwYWIke25hbWV9XFx1MDBiYi5gXG4gICAgICB9KTtcbiAgICAgIGVycm9yLmNyZWF0ZUVycm9yKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVQcm9maWxlQXZhdGFyQnV0dG9uQ2xpY2sgPSAodXNlcikgPT4ge1xuICAgIGNvbnN0IHBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oUE9QVVAuVFlQRV9BVkFUQVIpO1xuICAgIHBvcHVwLm9wZW4oKTtcbiAgICBwb3B1cC51cGRhdGVTdWJtaXRIYW5kbGVyKCgpID0+IGhhbmRsZVByb2ZpbGVBdmF0YXJTdWJtaXQocG9wdXAsIHVzZXIpKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQgPSBhc3luYyAocG9wdXAsIHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmFtZSA9IHBvcHVwLmdldElucHV0VmFsdWUoJ25hbWUnKTtcbiAgICAgIGNvbnN0IG9jY3VwYXRpb24gPSBwb3B1cC5nZXRJbnB1dFZhbHVlKCdvY2N1cGF0aW9uJyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS51cGRhdGVVc2VyKHsgbmFtZTogbmFtZSwgYWJvdXQ6IG9jY3VwYXRpb24gfSk7XG4gICAgICB1c2VyLnNldFVzZXJJbmZvKHsgbmFtZTogcmVzcG9uc2UubmFtZSwgYWJvdXQ6IHJlc3BvbnNlLmFib3V0IH0pO1xuICAgICAgcG9wdXAuY2xvc2UoKTtcbiAgICAgIHBvcHVwLnJlc2V0Rm9ybSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gdXNlci5nZXRVc2VySW5mbygpO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3Ioe1xuICAgICAgICBjb2RlOiBlLFxuICAgICAgICBib2R5OiBg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC/0YvRgtC60LUg0LjQt9C80LXQvdC40YLRjCDQuNC80Y8g0LjQu9C4INC+0L/QuNGB0LDQvdC40LUg0L/RgNC+0YTQuNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIFxcdTAwYWIke25hbWV9XFx1MDBiYi5gXG4gICAgICB9KTtcbiAgICAgIGVycm9yLmNyZWF0ZUVycm9yKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVQcm9maWxlRWRpdEJ1dHRvbkNsaWNrID0gKHVzZXIpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gICAgY29uc3QgcG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShQT1BVUC5UWVBFX1BST0ZJTEUpO1xuICAgIHBvcHVwLmZpbGxJbnB1dHMoeyBuYW1lOiBuYW1lLCBvY2N1cGF0aW9uOiBhYm91dCB9KTtcbiAgICBwb3B1cC5vcGVuKCk7XG4gICAgcG9wdXAudXBkYXRlU3VibWl0SGFuZGxlcigoKSA9PiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChwb3B1cCwgdXNlcikpO1xuICB9O1xuICBjb25zdCBoYW5kbGVBZGRDYXJkU3VibWl0ID0gYXN5bmMgKHBvcHVwLCB1c2VyLCBjYXJkc0ZlZWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGl0bGUgPSBwb3B1cC5nZXRJbnB1dFZhbHVlKCd0aXRsZScpO1xuICAgICAgY29uc3QgbGluayA9IHBvcHVwLmdldElucHV0VmFsdWUoJ2xpbmsnKTtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHVzZXIuZ2V0VXNlckluZm8oKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmFkZENhcmQoeyBuYW1lOiB0aXRsZSwgbGluazogbGluayB9KTtcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgICAgIHNlbGVjdG9yOiBDQVJELlRFTVBMQVRFLFxuICAgICAgICBjYXJkOiB7XG4gICAgICAgICAgaWQ6IHJlc3BvbnNlLl9pZCxcbiAgICAgICAgICBsaWtlczogcmVzcG9uc2UubGlrZXMsXG4gICAgICAgICAgbGluazogcmVzcG9uc2UubGluayxcbiAgICAgICAgICBuYW1lOiByZXNwb25zZS5uYW1lLFxuICAgICAgICAgIG93bmVyOiByZXNwb25zZS5vd25lclxuICAgICAgICB9LFxuICAgICAgICB1c2VySWQ6IGlkLFxuICAgICAgICBoYW5kbGVMaWtlQnRuQ2xpY2s6ICgpID0+IGhhbmRsZUxpa2UoY2FyZCksXG4gICAgICAgIGhhbmRsZURlbGV0ZUJ0bkNsaWNrOiAoKSA9PiBoYW5kbGVEZWxldGUoY2FyZCksXG4gICAgICAgIGhhbmRsZUltYWdlQ2xpY2s6ICgpID0+IGhhbmRsZUltYWdlKGNhcmQpXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNhcmRJdGVtID0gY2FyZC5nZW5lcmF0ZSgpO1xuICAgICAgY2FyZHNGZWVkLnByZXBlbmQoY2FyZEl0ZW0pO1xuICAgICAgcG9wdXAuY2xvc2UoKTtcbiAgICAgIHBvcHVwLnJlc2V0Rm9ybSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gdXNlci5nZXRVc2VySW5mbygpO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3Ioe1xuICAgICAgICBjb2RlOiBlLFxuICAgICAgICBib2R5OiBg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0LTQu9GPINC/0YDQvtGE0LjQu9GPIFxcdTAwYWIke25hbWV9XFx1MDBiYi5gXG4gICAgICB9KTtcbiAgICAgIGVycm9yLmNyZWF0ZUVycm9yKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVBZGRDYXJkQnV0dG9uQ2xpY2sgPSAodXNlciwgY2FyZHNGZWVkKSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShQT1BVUC5UWVBFX0NBUkQpO1xuICAgIHBvcHVwLm9wZW4oKTtcbiAgICBwb3B1cC51cGRhdGVTdWJtaXRIYW5kbGVyKGFzeW5jICgpID0+IGhhbmRsZUFkZENhcmRTdWJtaXQocG9wdXAsIHVzZXIsIGNhcmRzRmVlZCkpO1xuICB9O1xuICBjb25zdCBzdGFydEFwcCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcihMT0FERVIuU0VMRUNUT1IsIFtQUk9GSUxFLkNPTlRFTlRfTkFNRSwgUFJPRklMRS5DT05URU5UX09DQ1VQQVRJT05dLCBbUFJPRklMRS5BVkFUQVJdKTtcbiAgICAgIGxvYWRlci5zdGFydExvYWRlcigpO1xuICAgICAgY29uc3QgW3VzZXJEYXRhLCBjYXJkc10gPSBhd2FpdCBhcGkuZ2V0QXBwRGF0YSgpO1xuICAgICAgY29uc3QgdXNlciA9IGNyZWF0ZVVzZXIoKTtcbiAgICAgIGZpbGxVc2VyRmllbGRzKHVzZXIsIHVzZXJEYXRhKTtcbiAgICAgIGNvbnN0IGNhcmRzRmVlZCA9IGNyZWF0ZUZlZWQoY2FyZHMsIHVzZXIpO1xuICAgICAgY2FyZHNGZWVkLnJlbmRlcigpO1xuICAgICAgdXNlci5hZGRBdmF0YXJMaXN0ZW5lcigoKSA9PiBoYW5kbGVQcm9maWxlQXZhdGFyQnV0dG9uQ2xpY2sodXNlcikpO1xuICAgICAgdXNlci5hZGRFZGl0QnV0dG9uTGlzdGVuZXIoKCkgPT4gaGFuZGxlUHJvZmlsZUVkaXRCdXR0b25DbGljayh1c2VyKSk7XG4gICAgICB1c2VyLmFkZE5ld0NhcmRCdXR0b25MaXN0ZW5lcigoKSA9PiBoYW5kbGVBZGRDYXJkQnV0dG9uQ2xpY2sodXNlciwgY2FyZHNGZWVkKSk7XG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gbmV3IFZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG4gICAgICB2YWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgICAgIGxvYWRlci5lbmRMb2FkZXIoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcih7IGNvZGU6IGUsIGJvZHk6IGDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINC40L3RhNC+0YDQvNCw0YbQuNC4INGBINGB0LXRgNCy0LXRgNCwLmAgfSk7XG4gICAgICBlcnJvci5jcmVhdGVFcnJvcigpO1xuICAgIH1cbiAgfTtcbiAgc3RhcnRBcHAoKTtcbn0pO1xuIl0sIm5hbWVzIjpbIkFwaSIsImhlYWRlcnMiLCJiYXNlVXJsIiwidGhpcyIsIl9oZWFkZXJzIiwiX2Jhc2VVcmwiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsInN0YXR1cyIsInVybCIsIm9wdGlvbnMiLCJjb21wdXRlZFVybCIsImZldGNoIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwiX3JlcXVlc3QiLCJhbGwiLCJnZXRVc2VyIiwiZ2V0Q2FyZHMiLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsImxpbmsiLCJjYXJkSWQiLCJoYXNPd25lckxpa2UiLCJhcGlDb25maWciLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJidXR0b25TZWxlY3RvciIsImVycm9yU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJidXR0b25EaXNhYmxlZENsYXNzIiwiZXJyb3JBY3RpdmVDbGFzcyIsIkxPQURFUiIsIkVWRU5UIiwiUFJPRklMRSIsIlBPUFVQIiwiRVJST1IiLCJDQVJEIiwiTG9hZGVyIiwic2VsZWN0b3IiLCJ0ZXh0RWxlbWVudHMiLCJpbWFnZUVsZW1lbnRzIiwiX2xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl90ZXh0RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2ltYWdlRWxlbWVudHMiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJmb3JFYWNoIiwiZWxlbWVudCIsIl9hZGRUZXh0RWZmZWN0IiwiX2FkZEltYWdlRWZmZWN0IiwiX3Nob3dTcGlubmVyIiwiX3JlbW92ZVRleHRFZmZlY3QiLCJfcmVtb3ZlSW1hZ2VFZmZlY3QiLCJfaGlkZVNwaW5uZXIiLCJQcm9maWxlIiwibmFtZVNlbGVjdG9yIiwib2NjdXBhdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJhdmF0YXJCdXR0b25TZWxlY3RvciIsImVkaXRCdXR0b25TZWxlY3RvciIsImFkZENhcmRCdXR0b25TZWxlY3RvciIsIl9wcm9maWxlTmFtZUVsZW1lbnQiLCJfcHJvZmlsZUFib3V0RWxlbWVudCIsIl9wcm9maWxlQXZhdGFyRWxlbWVudCIsIl9wcm9maWxlQXZhdGFyUGFyZW50RWxlbWVudCIsIl9wcm9maWxlRWRpdEJ1dHRvbiIsIl9wcm9maWxlQWRkQ2FyZEJ1dHRvbiIsImhhbmRsZUF2YXRhckVsZW1lbnRDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVFZGl0QnV0dG9uQ2xpY2siLCJoYW5kbGVBZGRDYXJkQnV0dG9uQ2xpY2siLCJ0ZXh0Q29udGVudCIsInNyYyIsImlkIiwiX3VzZXJJZCIsInVzZXJEYXRhIiwiU2VjdGlvbiIsImRhdGEiLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX2FycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJldmVyc2UiLCJpdGVtIiwicHJlcGVuZCIsIkNhcmQiLCJjYXJkIiwib3duZXIiLCJsaWtlcyIsInVzZXJJZCIsImhhbmRsZUxpa2VCdG5DbGljayIsImhhbmRsZURlbGV0ZUJ0bkNsaWNrIiwiaGFuZGxlSW1hZ2VDbGljayIsIl9vd25lciIsIl9saWtlcyIsIl9uYW1lIiwiX2xpbmsiLCJfaWQiLCJfaGFuZGxlTGlrZUJ0bkNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ0bkNsaWNrIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfY2FyZFRlbXBsYXRlIiwiY29udGVudCIsIl9jYXJkSXRlbSIsImNsb25lTm9kZSIsIl9jYXJkQXJ0aWNsZSIsIl9jYXJkSW1hZ2UiLCJfY2FyZFRpdGxlIiwiX2NhcmRMaWtlTnVtYmVyIiwiX2NhcmRMaWtlQnV0dG9uIiwiX2NhcmREZWxldGUiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVPd25lcnNMaWtlIiwiX3NldExpa2VzUXVhbnRpdHkiLCJfdG9nZ2xlTGlrZXNDbGFzcyIsImxlbmd0aCIsIl9oYXNPd25lckxpa2UiLCJzb21lIiwibGlrZSIsIl9zZXRDYXJkQ29udGVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlZhbGlkYXRpb24iLCJfZm9ybXNMaXN0IiwiQXJyYXkiLCJmcm9tIiwiX2lucHV0U2VsZWN0b3IiLCJfYnV0dG9uU2VsZWN0b3IiLCJfZXJyb3JTZWxlY3RvciIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfYnV0dG9uRGlzYWJsZWRDbGFzcyIsIl9lcnJvckFjdGl2ZUNsYXNzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwYXJlbnROb2RlIiwidmFsaWRpdHkiLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXRDdXN0b21WYWxpZGl0eSIsImRhdGFzZXQiLCJpbnZhbGlkTWVzc2FnZSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dHNMaXN0IiwiaW5wdXRMaXN0IiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0VGltZW91dCIsImZvcm0iLCJfc2V0Rm9ybUV2ZW50TGlzdGVuZXJzIiwiRXJyb3IiLCJjb2RlIiwiX3JlbW92ZUVycm9yQWN0aXZlQ2xhc3MiLCJfdGVtcGxhdGVFbGVtZW50IiwiX2xpc3RFbGVtZW50IiwiX3dyYXBwZXJFbGVtZW50IiwiZXJyb3JJdGVtIiwiZXJyb3JJdGVtVGl0bGUiLCJlcnJvckl0ZW1Cb2R5IiwiZXJyb3JJdGVtQnV0dG9uIiwiX2FkZEVycm9yQWN0aXZlQ2xhc3MiLCJfY2xvc2VCdXR0b25MaXN0ZW5lciIsIlBvcHVwIiwiX3BvcHVwIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2UiLCJrZXkiLCJfaGFuZGxlTW91c2VFdmVudCIsIl9oYW5kbGVLZXlib2FyZEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9hZGRFdmVudExpc3RlbmVycyIsImZvY3VzIiwiX3JlbW92ZUV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoSW1hZ2UiLCJwb3B1cFNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsInRpdGxlU2VsZWN0b3IiLCJfaW1hZ2UiLCJfdGl0bGUiLCJhbHQiLCJQb3B1cFdpdGhGb3JtIiwiX2Zvcm0iLCJfc3VibWl0dGVyIiwiX3N1Ym1pdEhhbmRsZXIiLCJlbGVtZW50cyIsInZhbHVlIiwiT2JqZWN0Iiwia2V5cyIsImlucHV0IiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsImkiLCJhcGkiLCJkZWxldGVTdWJtaXRIYW5kbGVyIiwicG9wdXAiLCJnZXREYXRhIiwicmVtb3ZlQ2FyZCIsImNyZWF0ZUVycm9yIiwiaGFuZGxlTGlrZSIsInRvZ2dsZUxpa2UiLCJuZXdDYXJkIiwidmVyYiIsImhhbmRsZURlbGV0ZSIsIm9wZW4iLCJ1cGRhdGVTdWJtaXRIYW5kbGVyIiwiaGFuZGxlSW1hZ2UiLCJmaWxsIiwiZmlsbFVzZXJGaWVsZHMiLCJ1c2VyIiwic2V0VXNlckluZm8iLCJjcmVhdGVGZWVkIiwiY2FyZHMiLCJzZWN0aW9uIiwiZ2V0VXNlckluZm8iLCJjYXJkQ2xvbmUiLCJjYXJkSXRlbSIsImdlbmVyYXRlIiwicmVuZGVyQ2FyZHMiLCJoYW5kbGVQcm9maWxlQXZhdGFyU3VibWl0IiwiZ2V0SW5wdXRWYWx1ZSIsInVwZGF0ZVVzZXJBdmF0YXIiLCJyZXNldEZvcm0iLCJoYW5kbGVQcm9maWxlQXZhdGFyQnV0dG9uQ2xpY2siLCJoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdCIsIm9jY3VwYXRpb24iLCJ1cGRhdGVVc2VyIiwicmVzcG9uc2UiLCJoYW5kbGVQcm9maWxlRWRpdEJ1dHRvbkNsaWNrIiwiZmlsbElucHV0cyIsImhhbmRsZUFkZENhcmRTdWJtaXQiLCJjYXJkc0ZlZWQiLCJ0aXRsZSIsImFkZENhcmQiLCJzdGFydEFwcCIsImxvYWRlciIsInN0YXJ0TG9hZGVyIiwiZ2V0QXBwRGF0YSIsInJlbmRlciIsImFkZEF2YXRhckxpc3RlbmVyIiwiYWRkRWRpdEJ1dHRvbkxpc3RlbmVyIiwiYWRkTmV3Q2FyZEJ1dHRvbkxpc3RlbmVyIiwiZW5hYmxlVmFsaWRhdGlvbiIsImVuZExvYWRlciJdLCJzb3VyY2VSb290IjoiIn0=